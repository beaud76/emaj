-- adm2.sql : complex scenario executed by an emaj_adm role. 
--            Follows adm1.sql, and includes more specific test cases
--
set role emaj_regression_tests_adm_user;
-----------------------------
-- Step 8 : use of multi-group functions, start_group(s) without log reset and use deleted marks
-----------------------------
-- stop both groups
select emaj.emaj_stop_groups(array['myGroup1','myGroup2']);
 emaj_stop_groups 
------------------
               15
(1 row)

-- start both groups
select emaj.emaj_start_groups(array['myGroup1','myGroup2'],'Multi-1', false);
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
 emaj_start_groups 
-------------------
                15
(1 row)

-- set a mark for both groups
select emaj.emaj_set_mark_groups(array['myGroup1','myGroup2'],'Multi-2');
 emaj_set_mark_groups 
----------------------
                   15
(1 row)

-- logged rollback to Multi-1
select * from emaj.emaj_logged_rollback_groups(array['myGroup1','myGroup2'],'Multi-1',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_logged_rollback_groups(text[],text,boolean) line 12 at RETURN QUERY
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_logged_rollback_groups(text[],text,boolean) line 12 at RETURN QUERY
 rlbk_severity |             rlbk_message             
---------------+--------------------------------------
 Notice        | 0 / 11 tables effectively processed.
 Notice        | 4 sequences processed.
(2 rows)

-- rollback to Multi-2
select * from emaj.emaj_rollback_groups(array['myGroup1','myGroup2'],'Multi-2',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
 rlbk_severity |             rlbk_message             
---------------+--------------------------------------
 Notice        | 0 / 11 tables effectively processed.
 Notice        | 4 sequences processed.
(2 rows)

-- rollback and stop to Multi-1
select * from emaj.emaj_rollback_groups(array['myGroup1','myGroup2'],'Multi-1',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
 rlbk_severity |             rlbk_message             
---------------+--------------------------------------
 Notice        | 0 / 11 tables effectively processed.
 Notice        | 4 sequences processed.
(2 rows)

select emaj.emaj_stop_groups(array['myGroup1','myGroup2'],'Stop after rollback');
 emaj_stop_groups 
------------------
               15
(1 row)

-- try to start both groups, but with an old deleted mark name
select emaj.emaj_start_groups(array['myGroup1','myGroup2'],'Multi-1', false);
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
ERROR:  _check_new_mark: The groups "myGroup1, myGroup2" already contain a mark named "Multi-1".
CONTEXT:  SQL statement "SELECT emaj._check_new_mark(v_groupNames, v_mark)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 43 at SQL statement
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
-- really start both groups
select emaj.emaj_start_groups(array['myGroup1','myGroup2'],'Multi-1b', false);
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup1,myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_groups(text[],text,boolean) line 11 at RETURN
 emaj_start_groups 
-------------------
                15
(1 row)

-- try to rollback several groups to a deleted common mark
select * from emaj.emaj_rollback_groups(array['myGroup1','myGroup2'],'Multi-1', false);
ERROR:  _check_mark_name: For the groups "myGroup1, myGroup2", the mark "Multi-1" is DELETED.
CONTEXT:  SQL statement "SELECT emaj._check_mark_name(v_groupNames := v_groupNames, v_mark := v_mark, v_checkList := 'ACTIVE')"
PL/pgSQL function emaj._rlbk_check(text[],text,boolean,boolean) line 21 at SQL statement
SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
-- set again a mark for both groups
select emaj.emaj_set_mark_groups(array['myGroup1','myGroup2'],'Multi-2');
 emaj_set_mark_groups 
----------------------
                   15
(1 row)

-- delete the mark for only 1 group and get detailed statistics for the other group
select emaj.emaj_delete_mark_group('myGroup1','Multi-2');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

-- use this mark for the other group before delete it
select * from emaj.emaj_detailed_log_stat_group('myGroup2','Multi-2',NULL);
 stat_group | stat_schema | stat_table | stat_first_mark | stat_first_mark_datetime | stat_last_mark | stat_last_mark_datetime | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+--------------------------+----------------+-------------------------+-----------+-----------+-----------
(0 rows)

select * from emaj.emaj_rollback_group('myGroup2','Multi-2',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 0 / 6 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select emaj.emaj_delete_mark_group('myGroup2','Multi-2');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

-- get statistics using deleted marks
select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('myGroup2','M1','M2');
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
 myGroup2   | myschema2   | myTbl3     | M1              | M2             | postgres  | INSERT    |        10
 myGroup2   | myschema2   | mytbl1     | M1              | M2             | postgres  | DELETE    |         1
 myGroup2   | myschema2   | mytbl1     | M1              | M2             | postgres  | INSERT    |        11
 myGroup2   | myschema2   | mytbl1     | M1              | M2             | postgres  | UPDATE    |         3
 myGroup2   | myschema2   | mytbl2     | M1              | M2             | postgres  | INSERT    |         2
 myGroup2   | myschema2   | mytbl5     | M1              | M2             | postgres  | INSERT    |         2
 myGroup2   | myschema2   | mytbl5     | M1              | M2             | postgres  | UPDATE    |         1
 myGroup2   | myschema2   | mytbl6     | M1              | M2             | postgres  | INSERT    |         8
 myGroup2   | myschema2   | mytbl6     | M1              | M2             | postgres  | UPDATE    |         3
(9 rows)

-- delete intermediate deleted marks
select emaj.emaj_delete_mark_group('myGroup1','Multi-1');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

select emaj.emaj_delete_mark_group('myGroup2','Multi-1');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

-- ... and reuse mark names for parallel rollback test
select emaj.emaj_rename_mark_group('myGroup1','Multi-1b','Multi-1');
 emaj_rename_mark_group 
------------------------
 
(1 row)

select emaj.emaj_rename_mark_group('myGroup2','Multi-1b','Multi-1');
 emaj_rename_mark_group 
------------------------
 
(1 row)

-- rename a deleted mark
select emaj.emaj_rename_mark_group('myGroup2','M2','Deleted M2');
 emaj_rename_mark_group 
------------------------
 
(1 row)

-- use emaj_get_previous_mark_group and delete an initial deleted mark
select emaj.emaj_delete_before_mark_group('myGroup2',
      (select emaj.emaj_get_previous_mark_group('myGroup2',
             (select time_clock_timestamp from emaj.emaj_mark, emaj.emaj_time_stamp where time_id = mark_time_id and mark_group = 'myGroup2' and mark_group = 'myGroup2' and mark_name = 'M3')+'0.000001 SECOND'::interval)));
 emaj_delete_before_mark_group 
-------------------------------
                             2
(1 row)

-- comment a deleted mark
select emaj.emaj_comment_mark_group('myGroup2','M3','This mark is deleted');
 emaj_comment_mark_group 
-------------------------
 
(1 row)

-- try to get a rollback duration estimate on a deleted mark
select emaj.emaj_estimate_rollback_group('myGroup2','M3',TRUE);
ERROR:  _check_mark_name: For the group "myGroup2", the mark "M3" is DELETED.
CONTEXT:  SQL statement "SELECT emaj._check_mark_name(v_groupNames := v_groupNames, v_mark := v_mark, v_checkList := 'ACTIVE')"
PL/pgSQL function emaj._rlbk_check(text[],text,boolean,boolean) line 21 at SQL statement
SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, TRUE, TRUE)"
PL/pgSQL function emaj._estimate_rollback_groups(text[],boolean,text,boolean) line 24 at SQL statement
PL/pgSQL function emaj.emaj_estimate_rollback_group(text,text,boolean) line 7 at RETURN
-- try to rollback on a deleted mark
select * from emaj.emaj_rollback_group('myGroup2','M3',false) order by 1,2;
ERROR:  _check_mark_name: For the group "myGroup2", the mark "M3" is DELETED.
CONTEXT:  SQL statement "SELECT emaj._check_mark_name(v_groupNames := v_groupNames, v_mark := v_mark, v_checkList := 'ACTIVE')"
PL/pgSQL function emaj._rlbk_check(text[],text,boolean,boolean) line 21 at SQL statement
SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
-----------------------------
-- Checking step 8
-----------------------------
-- emaj tables
select mark_group, regexp_replace(mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), mark_time_id, mark_is_deleted, mark_is_rlbk_protected, mark_comment, mark_log_rows_before_next, mark_logged_rlbk_target_mark from emaj.emaj_mark order by mark_time_id, mark_group;
 mark_group |        regexp_replace        | mark_time_id | mark_is_deleted | mark_is_rlbk_protected |     mark_comment     | mark_log_rows_before_next | mark_logged_rlbk_target_mark 
------------+------------------------------+--------------+-----------------+------------------------+----------------------+---------------------------+------------------------------
 myGroup2   | M3                           |        10012 | t               | f                      | This mark is deleted |                         0 | 
 myGroup1   | M4                           |        10018 | t               | f                      |                      |                        10 | 
 myGroup1   | M5                           |        10019 | t               | f                      |                      |                         3 | 
 myGroup1   | Before logged rollback to M4 |        10025 | t               | f                      |                      |                        28 | 
 myGroup1   | STOP_%                       |        10027 | t               | f                      |                      |                         0 | 
 myGroup2   | STOP_%                       |        10027 | t               | f                      |                      |                         0 | 
 myGroup1   | Stop after rollback          |        10034 | t               | f                      |                      |                         0 | 
 myGroup2   | Stop after rollback          |        10034 | t               | f                      |                      |                         0 | 
 myGroup1   | Multi-1                      |        10035 | f               | f                      |                      |                           | 
 myGroup2   | Multi-1                      |        10035 | f               | f                      |                      |                           | 
(10 rows)

select sequ_schema, sequ_name, sequ_time_id, sequ_last_val, sequ_is_called from emaj.emaj_sequence order by sequ_time_id, sequ_schema, sequ_name;
  sequ_schema   |     sequ_name     | sequ_time_id | sequ_last_val | sequ_is_called 
----------------+-------------------+--------------+---------------+----------------
 emaj_myschema2 | myTbl3_log_seq    |        10012 |            10 | t
 emaj_myschema2 | mytbl1_log_seq    |        10012 |            15 | t
 emaj_myschema2 | mytbl2_log_seq    |        10012 |             2 | t
 emaj_myschema2 | mytbl4_log_seq    |        10012 |             4 | t
 emaj_myschema2 | mytbl5_log_seq    |        10012 |             4 | t
 emaj_myschema2 | mytbl6_log_seq    |        10012 |            14 | t
 myschema2      | myTbl3_col31_seq  |        10012 |            20 | t
 myschema2      | myseq1            |        10012 |          1003 | t
 emaj_myschema1 | myTbl3_log_seq    |        10018 |            10 | t
 emaj_myschema1 | mytbl1_log_seq    |        10018 |            30 | t
 emaj_myschema1 | mytbl2_log_seq    |        10018 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10018 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10018 |             8 | t
 myschema1      | myTbl3_col31_seq  |        10018 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10018 |             5 | t
 emaj_myschema1 | myTbl3_log_seq    |        10019 |            20 | t
 emaj_myschema1 | mytbl1_log_seq    |        10019 |            30 | t
 emaj_myschema1 | mytbl2_log_seq    |        10019 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10019 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10019 |             8 | t
 myschema1      | myTbl3_col31_seq  |        10019 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10019 |             5 | t
 emaj_myschema1 | myTbl3_log_seq    |        10025 |            20 | t
 emaj_myschema1 | mytbl1_log_seq    |        10025 |            32 | t
 emaj_myschema1 | mytbl2_log_seq    |        10025 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10025 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10025 |            12 | t
 myschema1      | myTbl3_col31_seq  |        10025 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10025 |             5 | t
 emaj_myschema1 | myTbl3_log_seq    |        10027 |            45 | t
 emaj_myschema1 | mytbl1_log_seq    |        10027 |            33 | t
 emaj_myschema1 | mytbl2_log_seq    |        10027 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10027 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10027 |            14 | t
 emaj_myschema2 | myTbl3_log_seq    |        10027 |            10 | t
 emaj_myschema2 | mytbl1_log_seq    |        10027 |            15 | t
 emaj_myschema2 | mytbl2_log_seq    |        10027 |             2 | t
 emaj_myschema2 | mytbl4_log_seq    |        10027 |            10 | t
 emaj_myschema2 | mytbl5_log_seq    |        10027 |             7 | t
 emaj_myschema2 | mytbl6_log_seq    |        10027 |            23 | t
 myschema1      | myTbl3_col31_seq  |        10027 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10027 |             5 | t
 myschema2      | myTbl3_col31_seq  |        10027 |            20 | t
 myschema2      | myseq1            |        10027 |          1004 | f
 emaj_myschema1 | myTbl3_log_seq    |        10034 |            45 | t
 emaj_myschema1 | mytbl1_log_seq    |        10034 |            33 | t
 emaj_myschema1 | mytbl2_log_seq    |        10034 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10034 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10034 |            14 | t
 emaj_myschema2 | myTbl3_log_seq    |        10034 |            10 | t
 emaj_myschema2 | mytbl1_log_seq    |        10034 |            15 | t
 emaj_myschema2 | mytbl2_log_seq    |        10034 |             2 | t
 emaj_myschema2 | mytbl4_log_seq    |        10034 |            10 | t
 emaj_myschema2 | mytbl5_log_seq    |        10034 |             7 | t
 emaj_myschema2 | mytbl6_log_seq    |        10034 |            23 | t
 myschema1      | myTbl3_col31_seq  |        10034 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10034 |             5 | t
 myschema2      | myTbl3_col31_seq  |        10034 |            20 | t
 myschema2      | myseq1            |        10034 |          1004 | f
 emaj_myschema1 | myTbl3_log_seq    |        10035 |            45 | t
 emaj_myschema1 | mytbl1_log_seq    |        10035 |            33 | t
 emaj_myschema1 | mytbl2_log_seq    |        10035 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq   |        10035 |             3 | t
 emaj_myschema1 | mytbl4_log_seq    |        10035 |            14 | t
 emaj_myschema2 | myTbl3_log_seq    |        10035 |            10 | t
 emaj_myschema2 | mytbl1_log_seq    |        10035 |            15 | t
 emaj_myschema2 | mytbl2_log_seq    |        10035 |             2 | t
 emaj_myschema2 | mytbl4_log_seq    |        10035 |            10 | t
 emaj_myschema2 | mytbl5_log_seq    |        10035 |             7 | t
 emaj_myschema2 | mytbl6_log_seq    |        10035 |            23 | t
 myschema1      | myTbl3_col31_seq  |        10035 |            20 | t
 myschema1      | mytbl2b_col20_seq |        10035 |             5 | t
 myschema2      | myTbl3_col31_seq  |        10035 |            20 | t
 myschema2      | myseq1            |        10035 |          1004 | f
(74 rows)

select sqhl_schema, sqhl_table, sqhl_begin_time_id, sqhl_end_time_id, sqhl_hole_size from emaj.emaj_seq_hole order by 1,2,3;
 sqhl_schema | sqhl_table | sqhl_begin_time_id | sqhl_end_time_id | sqhl_hole_size 
-------------+------------+--------------------+------------------+----------------
 myschema1   | mytbl1     |              10019 |            10024 |              1
 myschema1   | mytbl4     |              10019 |            10024 |              2
 myschema2   | mytbl4     |              10012 |            10023 |              6
 myschema2   | mytbl5     |              10012 |            10023 |              3
 myschema2   | mytbl6     |              10012 |            10023 |              9
(5 rows)

-- log tables
select col11, col12, col13, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema1.myTbl1_log order by emaj_gid, emaj_tuple desc;
 col11 |   col12    | col13 | emaj_verb | emaj_tuple | emaj_gid 
-------+------------+-------+-----------+------------+----------
     1 | Step 6     | \x01  | INS       | NEW        |   100134
     1 | Step 6     | \x01  | DEL       | OLD        |   100157
(2 rows)

select col21, col22, col23, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema1.myTbl2_log order by emaj_gid, emaj_tuple desc;
 col21 | col22 | col23 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-----------+------------+----------
(0 rows)

select col20, col21, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema1.myTbl2b_log order by emaj_gid, emaj_tuple desc;
 col20 | col21 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-----------+------------+----------
(0 rows)

select col31, col33, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema1."myTbl3_log" order by emaj_gid, emaj_tuple desc;
 col31 | col33 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-----------+------------+----------
    11 | 10.00 | UPD       | OLD        |   100115
    11 |  5.00 | UPD       | NEW        |   100115
    12 | 10.00 | UPD       | OLD        |   100116
    12 |  5.00 | UPD       | NEW        |   100116
    13 | 10.00 | UPD       | OLD        |   100117
    13 |  5.00 | UPD       | NEW        |   100117
    14 | 10.00 | UPD       | OLD        |   100118
    14 |  5.00 | UPD       | NEW        |   100118
    15 | 10.00 | UPD       | OLD        |   100119
    15 |  5.00 | UPD       | NEW        |   100119
    16 | 10.00 | UPD       | OLD        |   100120
    16 |  5.00 | UPD       | NEW        |   100120
    17 | 10.00 | UPD       | OLD        |   100121
    17 |  5.00 | UPD       | NEW        |   100121
    18 | 10.00 | UPD       | OLD        |   100122
    18 |  5.00 | UPD       | NEW        |   100122
    19 | 10.00 | UPD       | OLD        |   100123
    19 |  5.00 | UPD       | NEW        |   100123
    20 | 10.00 | UPD       | OLD        |   100124
    20 |  5.00 | UPD       | NEW        |   100124
    14 |  5.00 | DEL       | OLD        |   100137
    18 |  5.00 | DEL       | OLD        |   100138
    20 |  5.00 | DEL       | OLD        |   100139
    12 |  5.00 | DEL       | OLD        |   100140
    13 |  5.00 | DEL       | OLD        |   100141
    17 |  5.00 | DEL       | OLD        |   100142
    19 |  5.00 | DEL       | OLD        |   100143
    15 |  5.00 | DEL       | OLD        |   100144
    16 |  5.00 | DEL       | OLD        |   100145
    11 |  5.00 | DEL       | OLD        |   100146
    14 | 10.00 | INS       | NEW        |   100147
    18 | 10.00 | INS       | NEW        |   100148
    20 | 10.00 | INS       | NEW        |   100149
    12 | 10.00 | INS       | NEW        |   100150
    13 | 10.00 | INS       | NEW        |   100151
    17 | 10.00 | INS       | NEW        |   100152
    19 | 10.00 | INS       | NEW        |   100153
    15 | 10.00 | INS       | NEW        |   100154
    16 | 10.00 | INS       | NEW        |   100155
    11 | 10.00 | INS       | NEW        |   100156
    14 | 10.00 | DEL       | OLD        |   100160
    15 | 10.00 | DEL       | OLD        |   100161
    16 | 10.00 | DEL       | OLD        |   100162
    17 | 10.00 | DEL       | OLD        |   100163
    18 | 10.00 | DEL       | OLD        |   100164
(45 rows)

select col41, col42, col43, col44, col45, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema1.myTbl4_log order by emaj_gid, emaj_tuple desc;
 col41 | col42 | col43 | col44 | col45  | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-------+--------+-----------+------------+----------
    11 |       |     1 |     1 | Step 6 | INS       | NEW        |   100135
    12 |       |     1 |     1 | Step 6 | INS       | NEW        |   100136
    12 |       |     1 |     1 | Step 6 | DEL       | OLD        |   100158
    11 |       |     1 |     1 | Step 6 | DEL       | OLD        |   100159
(4 rows)

select col11, col12, col13, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema2.myTbl1_log order by emaj_gid, emaj_tuple desc;
 col11 | col12 | col13 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-----------+------------+----------
(0 rows)

select col21, col22, col23, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema2.myTbl2_log order by emaj_gid, emaj_tuple desc;
 col21 | col22 | col23 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-----------+------------+----------
(0 rows)

select col31, col33, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema2."myTbl3_log" order by emaj_gid, emaj_tuple desc;
 col31 | col33 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-----------+------------+----------
(0 rows)

select col41, col42, col43, col44, col45, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema2.mytbl4_log order by emaj_gid, emaj_tuple desc;
 col41 | col42 | col43 | col44 | col45 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-------+-------+-----------+------------+----------
(0 rows)

select col51, col52, col53, col54, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema2.mytbl5_log order by emaj_gid, emaj_tuple desc;
 col51 | col52 | col53 | col54 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-------+-----------+------------+----------
(0 rows)

select col61, col62, col63, col64, col65, col66, emaj_verb, emaj_tuple, emaj_gid from emaj_mySchema2.myTbl6_log order by emaj_gid, emaj_tuple desc;
 col61 | col62 | col63 | col64 | col65 | col66 | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+-------+-------+-------+-------+-----------+------------+----------
(0 rows)

-----------------------------
-- Step 9 : test the emaj_alter_group() and emaj_alter_groups() functions with the audit-only phil's group#3, group and a mix of rollbackable and audit-only groups
-----------------------------
-- create the audit-only group empty and then populate it with tables and sequences
select emaj.emaj_create_group('phil''s group#3",',false,true);
WARNING:  emaj_create_group: Although the group "phil's group#3"," is referenced into the emaj_group_def table, it is left empty.
 emaj_create_group 
-------------------
                 0
(1 row)

select emaj.emaj_assign_tables('phil''s schema3', '.*', 'mytbl4', 'phil''s group#3",');
NOTICE:  table "myTbl2\_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."myTbl2\_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
 emaj_assign_tables 
--------------------
                  2
(1 row)

select emaj.emaj_assign_sequences('phil''s schema3', '.*', '', 'phil''s group#3",');
 emaj_assign_sequences 
-----------------------
                     2
(1 row)

-- disable event triggers for this step to allow an application table structure change
select emaj.emaj_disable_protection_by_event_triggers();
 emaj_disable_protection_by_event_triggers 
-------------------------------------------
                                         3
(1 row)

reset role;
alter table "phil's schema3"."phil's tbl1" alter column "phil's col12" type char(11);
set role emaj_regression_tests_adm_user;
update emaj.emaj_group_def set grpdef_priority = 1, grpdef_log_idx_tsp = 'tsplog1'
  where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = E'myTbl2\\';
select emaj.emaj_alter_group('phil''s group#3",');
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                4
(1 row)

select emaj.emaj_start_group('phil''s group#3",','M1_after_alter_group');
 emaj_start_group 
------------------
                4
(1 row)

select emaj.emaj_stop_group('phil''s group#3",');
 emaj_stop_group 
-----------------
               4
(1 row)

reset role;
alter table "phil's schema3"."phil's tbl1" alter column "phil's col12" type char(10);
set role emaj_regression_tests_adm_user;
select emaj.emaj_enable_protection_by_event_triggers();
 emaj_enable_protection_by_event_triggers 
------------------------------------------
                                        3
(1 row)

select emaj.emaj_create_group('myGroup4');
NOTICE:  table "mypartp1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp1_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp1"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp1"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mypartp2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytblc1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc1_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytblc2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytblm_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblm_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
WARNING:  _create_tbl: The table "myschema4.mytblm" has triggers (mytblm_insert_trigger). They will be automatically disabled during E-Maj rollback operations, unless they have been recorded into the list of triggers that may be kept enabled, with the emaj_ignore_app_trigger() function.
CONTEXT:  SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
 emaj_create_group 
-------------------
                 5
(1 row)

update emaj.emaj_group_def set grpdef_priority = NULL, grpdef_log_idx_tsp = NULL
  where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = E'myTbl2\\';
update emaj.emaj_group_def set grpdef_priority = 999
  where grpdef_schema = 'myschema4' and grpdef_tblseq = 'mytblm';
select emaj.emaj_alter_groups('{"phil''s group#3\",","myGroup4"}');
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_groups(text[],text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_groups(text[],text) line 6 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                                     v_timeId, v_isRollbackable, r_plan.altr_group_is_logging)
              FROM emaj.emaj_group_def
              WHERE grpdef_group = coalesce (r_plan.altr_new_group, r_plan.altr_group)
                AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 48 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_groups(text[],text) line 6 at RETURN
 emaj_alter_groups 
-------------------
                 9
(1 row)

select emaj.emaj_drop_group('phil''s group#3",');
 emaj_drop_group 
-----------------
               4
(1 row)

select emaj.emaj_drop_group('myGroup4');
 emaj_drop_group 
-----------------
               5
(1 row)

-----------------------------
-- Checking step 9
-----------------------------
select * from emaj.emaj_alter_plan where altr_time_id > 10000 order by 1,2,3,4,5;
 altr_time_id |        altr_step         |  altr_schema   |    altr_tblseq    |    altr_group    | altr_priority | altr_group_is_logging | altr_new_group | altr_new_group_is_logging | altr_rlbk_id 
--------------+--------------------------+----------------+-------------------+------------------+---------------+-----------------------+----------------+---------------------------+--------------
        10039 | ADD_TBL                  | phil's schema3 | myTbl2\           | phil's group#3", |               | f                     |                |                           |             
        10039 | ADD_TBL                  | phil's schema3 | phil's tbl1       | phil's group#3", |               | f                     |                |                           |             
        10040 | ADD_SEQ                  | phil's schema3 | myTbl2\_col21_seq | phil's group#3", |               | f                     |                |                           |             
        10040 | ADD_SEQ                  | phil's schema3 | phil's seq\1      | phil's group#3", |               | f                     |                |                           |             
        10041 | REPAIR_TBL               | phil's schema3 | phil's tbl1       | phil's group#3", |               | f                     |                |                           |             
        10041 | RESET_GROUP              |                |                   | phil's group#3", |               | f                     |                |                           |             
        10041 | CHANGE_TBL_LOG_INDEX_TSP | phil's schema3 | myTbl2\           | phil's group#3", |             1 | f                     |                |                           |             
        10041 | CHANGE_REL_PRIORITY      | phil's schema3 | myTbl2\           | phil's group#3", |             1 | f                     |                |                           |             
        10045 | REPAIR_TBL               | phil's schema3 | phil's tbl1       | phil's group#3", |               | f                     |                |                           |             
        10045 | RESET_GROUP              |                |                   | myGroup4         |               | f                     |                |                           |             
        10045 | RESET_GROUP              |                |                   | phil's group#3", |               | f                     |                |                           |             
        10045 | CHANGE_TBL_LOG_INDEX_TSP | phil's schema3 | myTbl2\           | phil's group#3", |               | f                     |                |                           |             
        10045 | CHANGE_REL_PRIORITY      | myschema4      | mytblm            | myGroup4         |           999 | f                     |                |                           |             
        10045 | CHANGE_REL_PRIORITY      | phil's schema3 | myTbl2\           | phil's group#3", |               | f                     |                |                           |             
(14 rows)

-----------------------------
-- Step 10 : for phil''s group#3", recreate the group as rollbackable, update tables, 
--           rename a mark, then delete 2 marks then delete all before a mark 
-----------------------------
-- prepare phil's group#3, group
--
reset role;
alter table "phil's schema3"."myTbl2\" add primary key (col21);
set role emaj_regression_tests_adm_user;
select emaj.emaj_create_group('phil''s group#3",',true);
NOTICE:  table "myTbl2\_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."myTbl2\_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(array[v_groupName])"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 95 at PERFORM
WARNING:  _check_fk_groups: The table "phil's schema3.phil's tbl1" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(array[v_groupName])"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 95 at PERFORM
 emaj_create_group 
-------------------
                 4
(1 row)

select emaj.emaj_start_group('phil''s group#3",','M1_rollbackable');
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_group(text,text,boolean) line 12 at RETURN
WARNING:  _check_fk_groups: The table "phil's schema3.phil's tbl1" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_group(text,text,boolean) line 12 at RETURN
 emaj_start_group 
------------------
                4
(1 row)

--
set search_path=public,"phil's schema3";
--
insert into "phil's tbl1" select i, 'AB''C', E'\\014'::bytea from generate_series (1,31) as i;
update "phil's tbl1" set "phil\s col13" = E'\\034'::bytea where "phil's col11" <= 3;
update "phil's tbl1" set "phil\s col13" = E'\\034'''::bytea where "phil's col11" between 18 and 22;
insert into myTbl4 (col41) values (1);
insert into myTbl4 (col41) values (2);
insert into "myTbl2\" values (1,'ABC','2010-12-31');
delete from "phil's tbl1" where "phil's col11" > 20;
insert into "myTbl2\" values (2,'DEF',NULL);
select nextval(E'"phil''s schema3"."phil''s seq\\1"');
 nextval 
---------
    1000
(1 row)

--
select emaj.emaj_set_mark_group('phil''s group#3",','M2_rollbackable');
 emaj_set_mark_group 
---------------------
                   4
(1 row)

select emaj.emaj_set_mark_group('phil''s group#3",','M2_again!');
 emaj_set_mark_group 
---------------------
                   4
(1 row)

--
delete from "phil's tbl1" where "phil's col11" = 10;
update "phil's tbl1" set "phil's col12" = 'DEF' where "phil's col11" <= 2;
select nextval(E'"phil''s schema3"."phil''s seq\\1"');
 nextval 
---------
    1001
(1 row)

--
select emaj.emaj_set_mark_groups(array['phil''s group#3",'],'phil''s mark #1');
 emaj_set_mark_groups 
----------------------
                    4
(1 row)

select emaj.emaj_comment_mark_group('phil''s group#3",','phil''s mark #1','Third mark set');
 emaj_comment_mark_group 
-------------------------
 
(1 row)

--
select emaj.emaj_rename_mark_group('phil''s group#3",','phil''s mark #1','phil''s mark #3');
 emaj_rename_mark_group 
------------------------
 
(1 row)

-- 
select emaj.emaj_delete_mark_group('phil''s group#3",','M2_again!');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

--
select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_rows from emaj.emaj_log_stat_group('phil''s group#3",','','');
    stat_group    |  stat_schema   | stat_table  | stat_first_mark | stat_last_mark | stat_rows 
------------------+----------------+-------------+-----------------+----------------+-----------
 phil's group#3", | phil's schema3 | myTbl2\     | M1_rollbackable |                |         2
 phil's group#3", | phil's schema3 | phil's tbl1 | M1_rollbackable |                |        53
(2 rows)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('phil''s group#3",','phil''s mark #3','');
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
(0 rows)

--
select * from emaj.emaj_logged_rollback_group('phil''s group#3",','phil''s mark #3',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_logged_rollback_group(text,text,boolean) line 11 at RETURN QUERY
WARNING:  _check_fk_groups: The table "phil's schema3.phil's tbl1" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_logged_rollback_group(text,text,boolean) line 11 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 0 / 2 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select * from emaj.emaj_rollback_group('phil''s group#3",','phil''s mark #3',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
WARNING:  _check_fk_groups: The table "phil's schema3.phil's tbl1" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 0 / 2 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

-----------------------------
-- Checking step 10
-----------------------------
-- emaj tables
select mark_group, regexp_replace(mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), mark_time_id, mark_is_deleted, mark_is_rlbk_protected, mark_comment, mark_log_rows_before_next, mark_logged_rlbk_target_mark from emaj.emaj_mark order by mark_time_id, mark_group;
    mark_group    |        regexp_replace        | mark_time_id | mark_is_deleted | mark_is_rlbk_protected |     mark_comment     | mark_log_rows_before_next | mark_logged_rlbk_target_mark 
------------------+------------------------------+--------------+-----------------+------------------------+----------------------+---------------------------+------------------------------
 myGroup2         | M3                           |        10012 | t               | f                      | This mark is deleted |                         0 | 
 myGroup1         | M4                           |        10018 | t               | f                      |                      |                        10 | 
 myGroup1         | M5                           |        10019 | t               | f                      |                      |                         3 | 
 myGroup1         | Before logged rollback to M4 |        10025 | t               | f                      |                      |                        28 | 
 myGroup1         | STOP_%                       |        10027 | t               | f                      |                      |                         0 | 
 myGroup2         | STOP_%                       |        10027 | t               | f                      |                      |                         0 | 
 myGroup1         | Stop after rollback          |        10034 | t               | f                      |                      |                         0 | 
 myGroup2         | Stop after rollback          |        10034 | t               | f                      |                      |                         0 | 
 myGroup1         | Multi-1                      |        10035 | f               | f                      |                      |                         0 | 
 myGroup2         | Multi-1                      |        10035 | f               | f                      |                      |                         0 | 
 phil's group#3", | M1_rollbackable              |        10049 | f               | f                      |                      |                        52 | 
 phil's group#3", | M2_rollbackable              |        10050 | f               | f                      |                      |                         3 | 
 phil's group#3", | phil's mark #3               |        10052 | f               | f                      | Third mark set       |                           | 
(13 rows)

select sequ_schema, sequ_name, sequ_time_id, sequ_last_val, sequ_is_called from emaj.emaj_sequence order by sequ_time_id, sequ_schema, sequ_name;
     sequ_schema     |      sequ_name      | sequ_time_id | sequ_last_val | sequ_is_called 
---------------------+---------------------+--------------+---------------+----------------
 emaj_myschema2      | myTbl3_log_seq      |        10012 |            10 | t
 emaj_myschema2      | mytbl1_log_seq      |        10012 |            15 | t
 emaj_myschema2      | mytbl2_log_seq      |        10012 |             2 | t
 emaj_myschema2      | mytbl4_log_seq      |        10012 |             4 | t
 emaj_myschema2      | mytbl5_log_seq      |        10012 |             4 | t
 emaj_myschema2      | mytbl6_log_seq      |        10012 |            14 | t
 myschema2           | myTbl3_col31_seq    |        10012 |            20 | t
 myschema2           | myseq1              |        10012 |          1003 | t
 emaj_myschema1      | myTbl3_log_seq      |        10018 |            10 | t
 emaj_myschema1      | mytbl1_log_seq      |        10018 |            30 | t
 emaj_myschema1      | mytbl2_log_seq      |        10018 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10018 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10018 |             8 | t
 myschema1           | myTbl3_col31_seq    |        10018 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10018 |             5 | t
 emaj_myschema1      | myTbl3_log_seq      |        10019 |            20 | t
 emaj_myschema1      | mytbl1_log_seq      |        10019 |            30 | t
 emaj_myschema1      | mytbl2_log_seq      |        10019 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10019 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10019 |             8 | t
 myschema1           | myTbl3_col31_seq    |        10019 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10019 |             5 | t
 emaj_myschema1      | myTbl3_log_seq      |        10025 |            20 | t
 emaj_myschema1      | mytbl1_log_seq      |        10025 |            32 | t
 emaj_myschema1      | mytbl2_log_seq      |        10025 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10025 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10025 |            12 | t
 myschema1           | myTbl3_col31_seq    |        10025 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10025 |             5 | t
 emaj_myschema1      | myTbl3_log_seq      |        10027 |            45 | t
 emaj_myschema1      | mytbl1_log_seq      |        10027 |            33 | t
 emaj_myschema1      | mytbl2_log_seq      |        10027 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10027 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10027 |            14 | t
 emaj_myschema2      | myTbl3_log_seq      |        10027 |            10 | t
 emaj_myschema2      | mytbl1_log_seq      |        10027 |            15 | t
 emaj_myschema2      | mytbl2_log_seq      |        10027 |             2 | t
 emaj_myschema2      | mytbl4_log_seq      |        10027 |            10 | t
 emaj_myschema2      | mytbl5_log_seq      |        10027 |             7 | t
 emaj_myschema2      | mytbl6_log_seq      |        10027 |            23 | t
 myschema1           | myTbl3_col31_seq    |        10027 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10027 |             5 | t
 myschema2           | myTbl3_col31_seq    |        10027 |            20 | t
 myschema2           | myseq1              |        10027 |          1004 | f
 emaj_myschema1      | myTbl3_log_seq      |        10034 |            45 | t
 emaj_myschema1      | mytbl1_log_seq      |        10034 |            33 | t
 emaj_myschema1      | mytbl2_log_seq      |        10034 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10034 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10034 |            14 | t
 emaj_myschema2      | myTbl3_log_seq      |        10034 |            10 | t
 emaj_myschema2      | mytbl1_log_seq      |        10034 |            15 | t
 emaj_myschema2      | mytbl2_log_seq      |        10034 |             2 | t
 emaj_myschema2      | mytbl4_log_seq      |        10034 |            10 | t
 emaj_myschema2      | mytbl5_log_seq      |        10034 |             7 | t
 emaj_myschema2      | mytbl6_log_seq      |        10034 |            23 | t
 myschema1           | myTbl3_col31_seq    |        10034 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10034 |             5 | t
 myschema2           | myTbl3_col31_seq    |        10034 |            20 | t
 myschema2           | myseq1              |        10034 |          1004 | f
 emaj_myschema1      | myTbl3_log_seq      |        10035 |            45 | t
 emaj_myschema1      | mytbl1_log_seq      |        10035 |            33 | t
 emaj_myschema1      | mytbl2_log_seq      |        10035 |             3 | t
 emaj_myschema1      | mytbl2b_log_seq     |        10035 |             3 | t
 emaj_myschema1      | mytbl4_log_seq      |        10035 |            14 | t
 emaj_myschema2      | myTbl3_log_seq      |        10035 |            10 | t
 emaj_myschema2      | mytbl1_log_seq      |        10035 |            15 | t
 emaj_myschema2      | mytbl2_log_seq      |        10035 |             2 | t
 emaj_myschema2      | mytbl4_log_seq      |        10035 |            10 | t
 emaj_myschema2      | mytbl5_log_seq      |        10035 |             7 | t
 emaj_myschema2      | mytbl6_log_seq      |        10035 |            23 | t
 myschema1           | myTbl3_col31_seq    |        10035 |            20 | t
 myschema1           | mytbl2b_col20_seq   |        10035 |             5 | t
 myschema2           | myTbl3_col31_seq    |        10035 |            20 | t
 myschema2           | myseq1              |        10035 |          1004 | f
 emaj_phil's schema3 | myTbl2\_log_seq     |        10049 |             1 | f
 emaj_phil's schema3 | phil's tbl1_log_seq |        10049 |             1 | f
 phil's schema3      | myTbl2\_col21_seq   |        10049 |             1 | f
 phil's schema3      | phil's seq\1        |        10049 |          1000 | f
 emaj_phil's schema3 | myTbl2\_log_seq     |        10050 |             2 | t
 emaj_phil's schema3 | phil's tbl1_log_seq |        10050 |            50 | t
 phil's schema3      | myTbl2\_col21_seq   |        10050 |             1 | f
 phil's schema3      | phil's seq\1        |        10050 |          1000 | t
 emaj_phil's schema3 | myTbl2\_log_seq     |        10052 |             2 | t
 emaj_phil's schema3 | phil's tbl1_log_seq |        10052 |            53 | t
 phil's schema3      | myTbl2\_col21_seq   |        10052 |             1 | f
 phil's schema3      | phil's seq\1        |        10052 |          1001 | t
(86 rows)

select sqhl_schema, sqhl_table, sqhl_begin_time_id, sqhl_end_time_id, sqhl_hole_size from emaj.emaj_seq_hole order by 1,2,3;
 sqhl_schema | sqhl_table | sqhl_begin_time_id | sqhl_end_time_id | sqhl_hole_size 
-------------+------------+--------------------+------------------+----------------
 myschema1   | mytbl1     |              10019 |            10024 |              1
 myschema1   | mytbl4     |              10019 |            10024 |              2
 myschema2   | mytbl4     |              10012 |            10023 |              6
 myschema2   | mytbl5     |              10012 |            10023 |              3
 myschema2   | mytbl6     |              10012 |            10023 |              9
(5 rows)

select rlbt_rlbk_id, rlbt_step, rlbt_schema, rlbt_table, rlbt_object, rlbt_quantity from emaj.emaj_rlbk_stat
  order by rlbt_rlbk_id, rlbt_step, rlbt_schema, rlbt_table, rlbt_object;
 rlbt_rlbk_id |  rlbt_step  | rlbt_schema | rlbt_table |    rlbt_object    | rlbt_quantity 
--------------+-------------+-------------+------------+-------------------+---------------
         6018 | RLBK_TABLE  | myschema2   | myTbl3     |                   |             2
         6018 | CTRL+DBLINK |             |            |                   |             1
         6019 | DIS_LOG_TRG |             |            |                   |             1
         6019 | RLBK_TABLE  | myschema2   | myTbl3     |                   |             6
         6019 | DELETE_LOG  | myschema2   | myTbl3     |                   |             6
         6019 | ENA_LOG_TRG |             |            |                   |             1
         6019 | CTRL+DBLINK |             |            |                   |             4
        10000 | DROP_FK     |             |            |                   |             1
        10000 | SET_FK_DEF  |             |            |                   |             2
        10000 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             4
        10000 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             1
        10000 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             3
        10000 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             4
        10000 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             3
        10000 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             3
        10000 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10000 | CTRL-DBLINK |             |            |                   |            10
        10001 | DROP_FK     |             |            |                   |             1
        10001 | SET_FK_DEF  |             |            |                   |             2
        10001 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             2
        10001 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             1
        10001 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             3
        10001 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             2
        10001 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             3
        10001 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             3
        10001 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10001 | CTRL-DBLINK |             |            |                   |            10
        10002 | DIS_LOG_TRG |             |            |                   |             2
        10002 | DROP_FK     |             |            |                   |             1
        10002 | SET_FK_DEF  |             |            |                   |             1
        10002 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             3
        10002 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             8
        10002 | DELETE_LOG  | myschema1   | mytbl1     |                   |             3
        10002 | DELETE_LOG  | myschema1   | mytbl4     |                   |             8
        10002 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             8
        10002 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10002 | ENA_LOG_TRG |             |            |                   |             2
        10002 | CTRL+DBLINK |             |            |                   |            12
        10003 | DROP_FK     |             |            |                   |             1
        10003 | SET_FK_DEF  |             |            |                   |             2
        10003 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             8
        10003 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             3
        10003 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             9
        10003 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             8
        10003 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             9
        10003 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             9
        10003 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10003 | CTRL+DBLINK |             |            |                   |            10
        10004 | DIS_LOG_TRG |             |            |                   |             3
        10004 | DROP_FK     |             |            |                   |             1
        10004 | SET_FK_DEF  |             |            |                   |             2
        10004 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             6
        10004 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             3
        10004 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             9
        10004 | DELETE_LOG  | myschema2   | mytbl4     |                   |             6
        10004 | DELETE_LOG  | myschema2   | mytbl5     |                   |             3
        10004 | DELETE_LOG  | myschema2   | mytbl6     |                   |             9
        10004 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             6
        10004 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             9
        10004 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             9
        10004 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10004 | ENA_LOG_TRG |             |            |                   |             3
        10004 | CTRL+DBLINK |             |            |                   |            19
        10005 | DIS_LOG_TRG |             |            |                   |             2
        10005 | DROP_FK     |             |            |                   |             1
        10005 | SET_FK_DEF  |             |            |                   |             1
        10005 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             1
        10005 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             2
        10005 | DELETE_LOG  | myschema1   | mytbl1     |                   |             1
        10005 | DELETE_LOG  | myschema1   | mytbl4     |                   |             2
        10005 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             2
        10005 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10005 | ENA_LOG_TRG |             |            |                   |             2
        10005 | CTRL+DBLINK |             |            |                   |            12
        10006 | DROP_FK     |             |            |                   |             1
        10006 | SET_FK_DEF  |             |            |                   |             1
        10006 | RLBK_TABLE  | myschema1   | myTbl3     |                   |            10
        10006 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             1
        10006 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             2
        10006 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             2
        10006 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10006 | CTRL+DBLINK |             |            |                   |             7
(82 rows)

-- user tables
select * from "phil's schema3"."phil's tbl1" order by "phil's col11","phil's col12";
 phil's col11 | phil's col12 | phil\s col13 
--------------+--------------+--------------
            1 | DEF          | \x1c
            2 | DEF          | \x1c
            3 | AB'C         | \x1c
            4 | AB'C         | \x0c
            5 | AB'C         | \x0c
            6 | AB'C         | \x0c
            7 | AB'C         | \x0c
            8 | AB'C         | \x0c
            9 | AB'C         | \x0c
           11 | AB'C         | \x0c
           12 | AB'C         | \x0c
           13 | AB'C         | \x0c
           14 | AB'C         | \x0c
           15 | AB'C         | \x0c
           16 | AB'C         | \x0c
           17 | AB'C         | \x0c
           18 | AB'C         | \x1c27
           19 | AB'C         | \x1c27
           20 | AB'C         | \x1c27
(19 rows)

select * from "phil's schema3"."myTbl2\" order by col21;
 col21 | col22 |   col23    
-------+-------+------------
     1 | ABC   | 12-31-2010
     2 | DEF   | 
(2 rows)

-- log tables
select "phil's col11", "phil's col12", "phil\s col13", emaj_verb, emaj_tuple, emaj_gid from "emaj_phil's schema3"."phil's tbl1_log" order by emaj_gid, emaj_tuple desc;
 phil's col11 | phil's col12 | phil\s col13 | emaj_verb | emaj_tuple | emaj_gid 
--------------+--------------+--------------+-----------+------------+----------
            1 | AB'C         | \x0c         | INS       | NEW        |   100165
            2 | AB'C         | \x0c         | INS       | NEW        |   100166
            3 | AB'C         | \x0c         | INS       | NEW        |   100167
            4 | AB'C         | \x0c         | INS       | NEW        |   100168
            5 | AB'C         | \x0c         | INS       | NEW        |   100169
            6 | AB'C         | \x0c         | INS       | NEW        |   100170
            7 | AB'C         | \x0c         | INS       | NEW        |   100171
            8 | AB'C         | \x0c         | INS       | NEW        |   100172
            9 | AB'C         | \x0c         | INS       | NEW        |   100173
           10 | AB'C         | \x0c         | INS       | NEW        |   100174
           11 | AB'C         | \x0c         | INS       | NEW        |   100175
           12 | AB'C         | \x0c         | INS       | NEW        |   100176
           13 | AB'C         | \x0c         | INS       | NEW        |   100177
           14 | AB'C         | \x0c         | INS       | NEW        |   100178
           15 | AB'C         | \x0c         | INS       | NEW        |   100179
           16 | AB'C         | \x0c         | INS       | NEW        |   100180
           17 | AB'C         | \x0c         | INS       | NEW        |   100181
           18 | AB'C         | \x0c         | INS       | NEW        |   100182
           19 | AB'C         | \x0c         | INS       | NEW        |   100183
           20 | AB'C         | \x0c         | INS       | NEW        |   100184
           21 | AB'C         | \x0c         | INS       | NEW        |   100185
           22 | AB'C         | \x0c         | INS       | NEW        |   100186
           23 | AB'C         | \x0c         | INS       | NEW        |   100187
           24 | AB'C         | \x0c         | INS       | NEW        |   100188
           25 | AB'C         | \x0c         | INS       | NEW        |   100189
           26 | AB'C         | \x0c         | INS       | NEW        |   100190
           27 | AB'C         | \x0c         | INS       | NEW        |   100191
           28 | AB'C         | \x0c         | INS       | NEW        |   100192
           29 | AB'C         | \x0c         | INS       | NEW        |   100193
           30 | AB'C         | \x0c         | INS       | NEW        |   100194
           31 | AB'C         | \x0c         | INS       | NEW        |   100195
            1 | AB'C         | \x0c         | UPD       | OLD        |   100196
            1 | AB'C         | \x1c         | UPD       | NEW        |   100196
            2 | AB'C         | \x0c         | UPD       | OLD        |   100197
            2 | AB'C         | \x1c         | UPD       | NEW        |   100197
            3 | AB'C         | \x0c         | UPD       | OLD        |   100198
            3 | AB'C         | \x1c         | UPD       | NEW        |   100198
           18 | AB'C         | \x0c         | UPD       | OLD        |   100199
           18 | AB'C         | \x1c27       | UPD       | NEW        |   100199
           19 | AB'C         | \x0c         | UPD       | OLD        |   100200
           19 | AB'C         | \x1c27       | UPD       | NEW        |   100200
           20 | AB'C         | \x0c         | UPD       | OLD        |   100201
           20 | AB'C         | \x1c27       | UPD       | NEW        |   100201
           21 | AB'C         | \x0c         | UPD       | OLD        |   100202
           21 | AB'C         | \x1c27       | UPD       | NEW        |   100202
           22 | AB'C         | \x0c         | UPD       | OLD        |   100203
           22 | AB'C         | \x1c27       | UPD       | NEW        |   100203
           23 | AB'C         | \x0c         | DEL       | OLD        |   100205
           24 | AB'C         | \x0c         | DEL       | OLD        |   100206
           25 | AB'C         | \x0c         | DEL       | OLD        |   100207
           26 | AB'C         | \x0c         | DEL       | OLD        |   100208
           27 | AB'C         | \x0c         | DEL       | OLD        |   100209
           28 | AB'C         | \x0c         | DEL       | OLD        |   100210
           29 | AB'C         | \x0c         | DEL       | OLD        |   100211
           30 | AB'C         | \x0c         | DEL       | OLD        |   100212
           31 | AB'C         | \x0c         | DEL       | OLD        |   100213
           21 | AB'C         | \x1c27       | DEL       | OLD        |   100214
           22 | AB'C         | \x1c27       | DEL       | OLD        |   100215
           10 | AB'C         | \x0c         | DEL       | OLD        |   100217
            1 | AB'C         | \x1c         | UPD       | OLD        |   100218
            1 | DEF          | \x1c         | UPD       | NEW        |   100218
            2 | AB'C         | \x1c         | UPD       | OLD        |   100219
            2 | DEF          | \x1c         | UPD       | NEW        |   100219
(63 rows)

select col21, col22, col23, emaj_verb, emaj_tuple, emaj_gid from "emaj_phil's schema3"."myTbl2\_log" order by emaj_gid, emaj_tuple desc;
 col21 | col22 |   col23    | emaj_verb | emaj_tuple | emaj_gid 
-------+-------+------------+-----------+------------+----------
     1 | ABC   | 12-31-2010 | INS       | NEW        |   100204
     2 | DEF   |            | INS       | NEW        |   100216
(2 rows)

-----------------------------
-- Step 11 : for myGroup1, in a transaction, update tables and rollback the transaction, 
--           then rollback to previous mark 
-----------------------------
set search_path=public,myschema1;
--
begin transaction;
  delete from mytbl1;
rollback;
--
select * from emaj.emaj_rollback_group('myGroup1','EMAJ_LAST_MARK',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 1 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

-----------------------------
-- Checking step 11
-----------------------------
-- emaj tables
select sqhl_schema, sqhl_table, sqhl_begin_time_id, sqhl_end_time_id, sqhl_hole_size from emaj.emaj_seq_hole order by 1,2,3;
 sqhl_schema | sqhl_table | sqhl_begin_time_id | sqhl_end_time_id | sqhl_hole_size 
-------------+------------+--------------------+------------------+----------------
 myschema1   | mytbl1     |              10019 |            10024 |              1
 myschema1   | mytbl1     |              10035 |            10056 |             20
 myschema1   | mytbl4     |              10019 |            10024 |              2
 myschema2   | mytbl4     |              10012 |            10023 |              6
 myschema2   | mytbl5     |              10012 |            10023 |              3
 myschema2   | mytbl6     |              10012 |            10023 |              9
(6 rows)

select rlbt_rlbk_id, rlbt_step, rlbt_schema, rlbt_table, rlbt_object, rlbt_quantity from emaj.emaj_rlbk_stat
  order by rlbt_rlbk_id, rlbt_step, rlbt_schema, rlbt_table, rlbt_object;
 rlbt_rlbk_id |  rlbt_step  | rlbt_schema | rlbt_table |    rlbt_object    | rlbt_quantity 
--------------+-------------+-------------+------------+-------------------+---------------
         6018 | RLBK_TABLE  | myschema2   | myTbl3     |                   |             2
         6018 | CTRL+DBLINK |             |            |                   |             1
         6019 | DIS_LOG_TRG |             |            |                   |             1
         6019 | RLBK_TABLE  | myschema2   | myTbl3     |                   |             6
         6019 | DELETE_LOG  | myschema2   | myTbl3     |                   |             6
         6019 | ENA_LOG_TRG |             |            |                   |             1
         6019 | CTRL+DBLINK |             |            |                   |             4
        10000 | DROP_FK     |             |            |                   |             1
        10000 | SET_FK_DEF  |             |            |                   |             2
        10000 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             4
        10000 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             1
        10000 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             3
        10000 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             4
        10000 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             3
        10000 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             3
        10000 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10000 | CTRL-DBLINK |             |            |                   |            10
        10001 | DROP_FK     |             |            |                   |             1
        10001 | SET_FK_DEF  |             |            |                   |             2
        10001 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             2
        10001 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             1
        10001 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             3
        10001 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             2
        10001 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             3
        10001 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             3
        10001 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10001 | CTRL-DBLINK |             |            |                   |            10
        10002 | DIS_LOG_TRG |             |            |                   |             2
        10002 | DROP_FK     |             |            |                   |             1
        10002 | SET_FK_DEF  |             |            |                   |             1
        10002 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             3
        10002 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             8
        10002 | DELETE_LOG  | myschema1   | mytbl1     |                   |             3
        10002 | DELETE_LOG  | myschema1   | mytbl4     |                   |             8
        10002 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             8
        10002 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10002 | ENA_LOG_TRG |             |            |                   |             2
        10002 | CTRL+DBLINK |             |            |                   |            12
        10003 | DROP_FK     |             |            |                   |             1
        10003 | SET_FK_DEF  |             |            |                   |             2
        10003 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             8
        10003 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             3
        10003 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             9
        10003 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             8
        10003 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             9
        10003 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             9
        10003 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10003 | CTRL+DBLINK |             |            |                   |            10
        10004 | DIS_LOG_TRG |             |            |                   |             3
        10004 | DROP_FK     |             |            |                   |             1
        10004 | SET_FK_DEF  |             |            |                   |             2
        10004 | RLBK_TABLE  | myschema2   | mytbl4     |                   |             6
        10004 | RLBK_TABLE  | myschema2   | mytbl5     |                   |             3
        10004 | RLBK_TABLE  | myschema2   | mytbl6     |                   |             9
        10004 | DELETE_LOG  | myschema2   | mytbl4     |                   |             6
        10004 | DELETE_LOG  | myschema2   | mytbl5     |                   |             3
        10004 | DELETE_LOG  | myschema2   | mytbl6     |                   |             9
        10004 | SET_FK_IMM  | myschema2   | mytbl4     | mytbl4_col43_fkey |             6
        10004 | SET_FK_IMM  | myschema2   | mytbl6     | mytbl6_col61_fkey |             9
        10004 | SET_FK_IMM  | myschema2   | mytbl8     | mytbl8_col81_fkey |             9
        10004 | ADD_FK      | myschema2   | mytbl4     | mytbl4_col44_fkey |             2
        10004 | ENA_LOG_TRG |             |            |                   |             3
        10004 | CTRL+DBLINK |             |            |                   |            19
        10005 | DIS_LOG_TRG |             |            |                   |             2
        10005 | DROP_FK     |             |            |                   |             1
        10005 | SET_FK_DEF  |             |            |                   |             1
        10005 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             1
        10005 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             2
        10005 | DELETE_LOG  | myschema1   | mytbl1     |                   |             1
        10005 | DELETE_LOG  | myschema1   | mytbl4     |                   |             2
        10005 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             2
        10005 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10005 | ENA_LOG_TRG |             |            |                   |             2
        10005 | CTRL+DBLINK |             |            |                   |            12
        10006 | DROP_FK     |             |            |                   |             1
        10006 | SET_FK_DEF  |             |            |                   |             1
        10006 | RLBK_TABLE  | myschema1   | myTbl3     |                   |            10
        10006 | RLBK_TABLE  | myschema1   | mytbl1     |                   |             1
        10006 | RLBK_TABLE  | myschema1   | mytbl4     |                   |             2
        10006 | SET_FK_IMM  | myschema1   | mytbl4     | mytbl4_col43_fkey |             2
        10006 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10006 | CTRL+DBLINK |             |            |                   |             7
        10013 | DIS_LOG_TRG |             |            |                   |             1
        10013 | DROP_FK     |             |            |                   |             1
        10013 | RLBK_TABLE  | myschema1   | mytbl1     |                   |            20
        10013 | DELETE_LOG  | myschema1   | mytbl1     |                   |            20
        10013 | ADD_FK      | myschema1   | mytbl4     | mytbl4_col44_fkey |             0
        10013 | ENA_LOG_TRG |             |            |                   |             1
        10013 | CTRL+DBLINK |             |            |                   |             6
(89 rows)

-----------------------------
-- Step 12 : tests snaps and script generation functions
-----------------------------
-- first add some updates for tables with unusual types (arrays, geometric)
set search_path=public,myschema2;
insert into myTbl5 values (10,'{"abc","def","ghi"}','{1,2,3}',NULL,'{}');
insert into myTbl5 values (20,array['abc','def','ghi'],array[3,4,5],array['2000/02/01'::date,'2000/02/28'::date],'{"id":1000, "c1":"abc"}');
update myTbl5 set col54 = '{"2010/11/28","2010/12/03"}', col55 = '{"id":1001, "c2":"def"}' where col54 is null;
insert into myTbl6 select i+10, point(i,1.3), '((0,0),(2,2))', circle(point(5,5),i),'((-2,-2),(3,0),(1,4))','10.20.30.40/27' from generate_series (1,8) as i;
update myTbl6 set col64 = '<(5,6),3.5>', col65 = null where col61 <= 13;
-- also add rows with unusual text content
insert into mytbl2 values (10, E'row 1 \r... and row 2 with a '' (quote) character',null);
insert into mytbl2 values (11, E'row 1 with a true \\ character\r... and row 2 with two \\n true and a '' (quote) characters',null);
-- and manupulate NULL characters
insert into mytbl1 values (200, E'Start\tEnd ', E'A\\000B'::BYTEA);
update mytbl1 set col12 = E' Start\tEnd' where col11 = 200;
delete from mytbl1 where col13 = E'A\\000B'::BYTEA;
-- also apply some changes in sequence characteristics
reset role;
alter sequence myschema2.myseq1 minvalue 1 maxvalue 100 increment 10 start 21 restart 11 cache 2 cycle;
set role emaj_regression_tests_adm_user;
-- reset directory for snaps
\! rm -Rf /tmp/emaj_test/snaps
\! mkdir -p /tmp/emaj_test/snaps
-- ... and snap the all groups
select emaj.emaj_snap_group('myGroup1','/tmp/emaj_test/snaps','CSV HEADER');
 emaj_snap_group 
-----------------
               7
(1 row)

select emaj.emaj_snap_group('myGroup2','/tmp/emaj_test/snaps','CSV HEADER');
 emaj_snap_group 
-----------------
               8
(1 row)

select emaj.emaj_snap_group('phil''s group#3",','/tmp/emaj_test/snaps','CSV HEADER');
 emaj_snap_group 
-----------------
               4
(1 row)

\! ls /tmp/emaj_test/snaps
_INFO
myschema1_myTbl3.snap
myschema1_myTbl3_col31_seq.snap
myschema1_mytbl1.snap
myschema1_mytbl2.snap
myschema1_mytbl2b.snap
myschema1_mytbl2b_col20_seq.snap
myschema1_mytbl4.snap
myschema2_myTbl3.snap
myschema2_myTbl3_col31_seq.snap
myschema2_myseq1.snap
myschema2_mytbl1.snap
myschema2_mytbl2.snap
myschema2_mytbl4.snap
myschema2_mytbl5.snap
myschema2_mytbl6.snap
phil's_schema3_myTbl2_.snap
phil's_schema3_myTbl2__col21_seq.snap
phil's_schema3_phil's_seq_1.snap
phil's_schema3_phil's_tbl1.snap
-- reset directory for emaj_gen_sql_group tests
\! rm -Rf /tmp/emaj_test/sql_scripts
\! mkdir /tmp/emaj_test/sql_scripts
-- generate a sql script for each active group (and check the result with detailed log statistics + number of sequences)
select emaj.emaj_gen_sql_group('myGroup1', 'Multi-1', NULL, '/tmp/emaj_test/sql_scripts/myGroup1.sql');
NOTICE:  table "emaj_temp_script" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_temp_script CASCADE"
PL/pgSQL function emaj._gen_sql_groups(text[],boolean,text,text,text,text[]) line 110 at SQL statement
PL/pgSQL function emaj.emaj_gen_sql_group(text,text,text,text,text[]) line 14 at RETURN
 emaj_gen_sql_group 
--------------------
                  0
(1 row)

select coalesce(sum(stat_rows),0) + 2 as check from emaj.emaj_detailed_log_stat_group('myGroup1', 'Multi-1', NULL);
 check 
-------
     2
(1 row)

select emaj.emaj_gen_sql_group('myGroup2', 'Multi-1', NULL, '/tmp/emaj_test/sql_scripts/myGroup2.sql', array[
     'myschema2.mytbl1','myschema2.mytbl2','myschema2.myTbl3','myschema2.mytbl4',
     'myschema2.mytbl5','myschema2.mytbl6','myschema2.myseq1','myschema2.myTbl3_col31_seq']);
NOTICE:  table "emaj_temp_script" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_temp_script CASCADE"
PL/pgSQL function emaj._gen_sql_groups(text[],boolean,text,text,text,text[]) line 110 at SQL statement
PL/pgSQL function emaj.emaj_gen_sql_group(text,text,text,text,text[]) line 14 at RETURN
 emaj_gen_sql_group 
--------------------
                 26
(1 row)

select sum(stat_rows) + 2 as check from emaj.emaj_detailed_log_stat_group('myGroup2', 'Multi-1', NULL);
 check 
-------
    27
(1 row)

select emaj.emaj_gen_sql_group('phil''s group#3",', 'M1_rollbackable', NULL, '/tmp/emaj_test/sql_scripts/Group3.sql');
NOTICE:  table "emaj_temp_script" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_temp_script CASCADE"
PL/pgSQL function emaj._gen_sql_groups(text[],boolean,text,text,text,text[]) line 110 at SQL statement
PL/pgSQL function emaj.emaj_gen_sql_group(text,text,text,text,text[]) line 14 at RETURN
 emaj_gen_sql_group 
--------------------
                 56
(1 row)

select sum(stat_rows) + 2 as check from emaj.emaj_detailed_log_stat_group('phil''s group#3",', 'M1_rollbackable', NULL);
 check 
-------
    57
(1 row)

-- generate another sql script for myGroup1 but with a manual export and check both scripts are the same
select emaj.emaj_gen_sql_group('myGroup1', 'Multi-1', NULL, NULL);
NOTICE:  table "emaj_temp_script" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_temp_script CASCADE"
PL/pgSQL function emaj._gen_sql_groups(text[],boolean,text,text,text,text[]) line 110 at SQL statement
PL/pgSQL function emaj.emaj_gen_sql_group(text,text,text,text,text[]) line 14 at RETURN
 emaj_gen_sql_group 
--------------------
                  0
(1 row)

\copy (select * from emaj_sql_script) to '/tmp/emaj_test/sql_scripts/myGroup1_2.sql'
-- mask timestamp in initial comment and compare
\! find /tmp/emaj_test/sql_scripts -name '*.sql' -type f -print0 | xargs -0 sed -i -s 's/at .*$/at [ts]$/'
\! diff /tmp/emaj_test/sql_scripts/myGroup1.sql /tmp/emaj_test/sql_scripts/myGroup1_2.sql
-- process \\ characters in script files
\! find /tmp/emaj_test/sql_scripts -name '*.sql' -type f -print0 | xargs -0 sed -i_s -s 's/\\\\/\\/g'
-- comment transaction commands for the need of the current test
\! find /tmp/emaj_test/sql_scripts -name '*.sql' -type f -print0 | xargs -0 sed -i -s 's/^BEGIN/--BEGIN/;s/^COMMIT/--COMMIT/'
-- mask timestamp in initial comment
\! find /tmp/emaj_test/sql_scripts -name '*.sql' -type f -print0 | xargs -0 sed -i -s 's/at .*$/at [ts]$/'
\! ls /tmp/emaj_test/sql_scripts
Group3.sql
Group3.sql_s
myGroup1.sql
myGroup1.sql_s
myGroup1_2.sql
myGroup1_2.sql_s
myGroup2.sql
myGroup2.sql_s
-- reset directory for second set of snaps
\! rm -Rf /tmp/emaj_test/snaps2
\! mkdir /tmp/emaj_test/snaps2
-- in a single transaction and as superuser:
--   rollback groups, replay updates with generated scripts, snap groups again and cancel the transaction
reset role;
begin;
  select * from emaj.emaj_rollback_group('myGroup1','Multi-1',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 0 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

  select * from emaj.emaj_rollback_group('myGroup2','Multi-1',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl6_col61_fkey" on the table "myschema2.mytbl6" references the table "myschema2.mytbl7" that is outside the groups (myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
WARNING:  _check_fk_groups: The table "myschema2.mytbl6" is referenced by the foreign key "mytbl8_col81_fkey" on the table "myschema2.mytbl8" that is outside the groups (myGroup2).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 4 / 6 tables effectively processed.
(2 rows)

  select * from emaj.emaj_rollback_group('phil''s group#3",','M1_rollbackable',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
WARNING:  _check_fk_groups: The table "phil's schema3.phil's tbl1" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 / 2 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

\i /tmp/emaj_test/sql_scripts/myGroup1.sql
-- SQL script generated by E-Maj at [ts]$
--    for tables group(s): myGroup1
--    processing logs between mark Multi-1 and the current situation
SET standard_conforming_strings = OFF;
SET escape_string_warning = OFF;
SET datestyle = 'ISO, YMD';
--BEGIN TRANSACTION;
--COMMIT;
RESET standard_conforming_strings;
RESET escape_string_warning;
RESET datestyle;
\i /tmp/emaj_test/sql_scripts/myGroup2.sql
-- SQL script generated by E-Maj at [ts]$
--    for tables group(s): myGroup2
--    processing logs between mark Multi-1 and the current situation
--    only for the following tables/sequences: myschema2.myTbl3,myschema2.myTbl3_col31_seq,myschema2.myseq1,myschema2.mytbl1,myschema2.mytbl2,myschema2.mytbl4,myschema2.mytbl5,myschema2.mytbl6
SET standard_conforming_strings = OFF;
SET escape_string_warning = OFF;
SET datestyle = 'ISO, YMD';
--BEGIN TRANSACTION;
INSERT INTO myschema2.mytbl5 VALUES (10, '{abc,def,ghi}', '{1,2,3}', NULL, '{}');
INSERT INTO myschema2.mytbl5 VALUES (20, '{abc,def,ghi}', '{3,4,5}', '{2000-02-01,2000-02-28}', '{"id":1000, "c1":"abc"}');
UPDATE ONLY myschema2.mytbl5 SET col51 = 10, col52 = '{abc,def,ghi}', col53 = '{1,2,3}', col54 = '{2010-11-28,2010-12-03}', col55 = '{"id":1001, "c2":"def"}' WHERE col51 = 10;
INSERT INTO myschema2.mytbl6 VALUES (11, '(1,1.3)', '(2,2),(0,0)', '<(5,5),1>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (12, '(2,1.3)', '(2,2),(0,0)', '<(5,5),2>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (13, '(3,1.3)', '(2,2),(0,0)', '<(5,5),3>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (14, '(4,1.3)', '(2,2),(0,0)', '<(5,5),4>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (15, '(5,1.3)', '(2,2),(0,0)', '<(5,5),5>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (16, '(6,1.3)', '(2,2),(0,0)', '<(5,5),6>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (17, '(7,1.3)', '(2,2),(0,0)', '<(5,5),7>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
INSERT INTO myschema2.mytbl6 VALUES (18, '(8,1.3)', '(2,2),(0,0)', '<(5,5),8>', '((-2,-2),(3,0),(1,4))', '10.20.30.40/27');
UPDATE ONLY myschema2.mytbl6 SET col61 = 0, col62 = NULL, col63 = NULL, col64 = '<(5,6),3.5>', col65 = NULL, col66 = NULL WHERE col61 = 0;
UPDATE ONLY myschema2.mytbl6 SET col61 = 4, col62 = '(4,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 4;
UPDATE ONLY myschema2.mytbl6 SET col61 = 5, col62 = '(5,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 5;
UPDATE ONLY myschema2.mytbl6 SET col61 = 6, col62 = '(6,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 6;
UPDATE ONLY myschema2.mytbl6 SET col61 = 7, col62 = '(7,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 7;
UPDATE ONLY myschema2.mytbl6 SET col61 = 8, col62 = '(8,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 8;
UPDATE ONLY myschema2.mytbl6 SET col61 = 11, col62 = '(1,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 11;
UPDATE ONLY myschema2.mytbl6 SET col61 = 12, col62 = '(2,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 12;
UPDATE ONLY myschema2.mytbl6 SET col61 = 13, col62 = '(3,1.3)', col63 = '(2,2),(0,0)', col64 = '<(5,6),3.5>', col65 = NULL, col66 = '10.20.30.40/27' WHERE col61 = 13;
INSERT INTO myschema2.mytbl2 VALUES (10, 'row 1 \r... and row 2 with a '' (quote) character', NULL);
INSERT INTO myschema2.mytbl2 VALUES (11, E'row 1 with a true \\ character\r... and row 2 with two \\n true and a '' (quote) characters', NULL);
INSERT INTO myschema2.mytbl1 VALUES (200, 'Start\tEnd', E'\\x410042');
UPDATE ONLY myschema2.mytbl1 SET col11 = 200, col12 = ' Start\tEnd', col13 = E'\\x410042' WHERE col11 = 200 AND col12 = 'Start\tEnd';
DELETE FROM ONLY myschema2.mytbl1 WHERE col11 = 200 AND col12 = ' Start\tEnd';
ALTER SEQUENCE myschema2.myseq1  RESTART 11 START 21 INCREMENT 10 MINVALUE 1 MAXVALUE 100 CACHE 2 CYCLE ;
--COMMIT;
RESET standard_conforming_strings;
RESET escape_string_warning;
RESET datestyle;
\i /tmp/emaj_test/sql_scripts/Group3.sql
-- SQL script generated by E-Maj at [ts]$
--    for tables group(s): phil's group#3",
--    processing logs between mark M1_rollbackable and the current situation
SET standard_conforming_strings = OFF;
SET escape_string_warning = OFF;
SET datestyle = 'ISO, YMD';
--BEGIN TRANSACTION;
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (1, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (2, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (3, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (4, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (5, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (6, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (7, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (8, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (9, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (10, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (11, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (12, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (13, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (14, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (15, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (16, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (17, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (18, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (19, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (20, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (21, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (22, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (23, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (24, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (25, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (26, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (27, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (28, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (29, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (30, 'AB''C', E'\\x0c');
INSERT INTO "phil's schema3"."phil's tbl1" VALUES (31, 'AB''C', E'\\x0c');
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 1, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c' WHERE "phil's col11" = 1 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 2, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c' WHERE "phil's col11" = 2 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 3, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c' WHERE "phil's col11" = 3 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 18, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c27' WHERE "phil's col11" = 18 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 19, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c27' WHERE "phil's col11" = 19 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 20, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c27' WHERE "phil's col11" = 20 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 21, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c27' WHERE "phil's col11" = 21 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 22, "phil's col12" = 'AB''C', "phil\s col13" = E'\\x1c27' WHERE "phil's col11" = 22 AND "phil's col12" = 'AB''C';
INSERT INTO "phil's schema3"."myTbl2\" VALUES (1, 'ABC', '2010-12-31');
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 23 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 24 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 25 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 26 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 27 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 28 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 29 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 30 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 31 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 21 AND "phil's col12" = 'AB''C';
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 22 AND "phil's col12" = 'AB''C';
INSERT INTO "phil's schema3"."myTbl2\" VALUES (2, 'DEF', NULL);
DELETE FROM ONLY "phil's schema3"."phil's tbl1" WHERE "phil's col11" = 10 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 1, "phil's col12" = 'DEF', "phil\s col13" = E'\\x1c' WHERE "phil's col11" = 1 AND "phil's col12" = 'AB''C';
UPDATE ONLY "phil's schema3"."phil's tbl1" SET "phil's col11" = 2, "phil's col12" = 'DEF', "phil\s col13" = E'\\x1c' WHERE "phil's col11" = 2 AND "phil's col12" = 'AB''C';
ALTER SEQUENCE "phil's schema3"."phil's seq\1"  RESTART 1002;
--COMMIT;
RESET standard_conforming_strings;
RESET escape_string_warning;
RESET datestyle;
  select emaj.emaj_snap_group('myGroup1','/tmp/emaj_test/snaps2','CSV HEADER');
 emaj_snap_group 
-----------------
               7
(1 row)

  select emaj.emaj_snap_group('myGroup2','/tmp/emaj_test/snaps2','CSV HEADER');
 emaj_snap_group 
-----------------
               8
(1 row)

  select emaj.emaj_snap_group('phil''s group#3",','/tmp/emaj_test/snaps2','CSV HEADER');
 emaj_snap_group 
-----------------
               4
(1 row)

rollback;
-- mask timestamp in _INFO files
\! sed -i_s -s 's/at .*/at [ts]/' /tmp/emaj_test/snaps/_INFO /tmp/emaj_test/snaps2/_INFO
-- and compare both snaps sets
-- sequences are detected as different because of :
-- - the effect of RESTART on is_called and next_val attributes
-- - internal log_cnt value being reset
\! diff --exclude _INFO_s /tmp/emaj_test/snaps /tmp/emaj_test/snaps2
diff --exclude _INFO_s /tmp/emaj_test/snaps/phil's_schema3_phil's_seq_1.snap /tmp/emaj_test/snaps2/phil's_schema3_phil's_seq_1.snap
2c2
< phil's seq\1,1001,1000,1,2000,1000,1,t,t
---
> phil's seq\1,1002,1000,1,2000,1000,1,t,f
-- reset the sequence myschema2.myseq1 to its previous characteristics
reset role;
alter sequence myschema2.myseq1 restart 1004 start 1000 increment 1 maxvalue 9223372036854775807 minvalue 1000 cache 1 no cycle;
set role emaj_regression_tests_adm_user;
-----------------------------
-- Step 13 : test use of a table with a very long name (63 characters long)
-----------------------------
select emaj.emaj_stop_group('phil''s group#3",');
 emaj_stop_group 
-----------------
               4
(1 row)

-- rename the "phil's tbl1" table and alter its group
reset role;
alter table "phil's schema3"."phil's tbl1" rename to table_with_very_looooooooooooooooooooooooooooooooooooooong_name;
set role emaj_regression_tests_adm_user;
update emaj.emaj_group_def set grpdef_tblseq = 'table_with_very_looooooooooooooooooooooooooooooooooooooong_name'
  where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'phil''s tbl1';
select emaj.emaj_alter_group('phil''s group#3",');
NOTICE:  drop cascades to trigger emaj_log_trg on table "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name
CONTEXT:  SQL statement "DROP FUNCTION IF EXISTS "emaj_phil's schema3"."phil's tbl1_log_fnct"() CASCADE"
PL/pgSQL function emaj._drop_tbl(emaj.emaj_relation,bigint) line 24 at EXECUTE
SQL statement "SELECT emaj._drop_tbl(emaj.emaj_relation.*, v_timeId) FROM emaj.emaj_relation
        WHERE rel_schema = v_schema AND rel_tblseq = v_table AND upper_inf(rel_time_range)"
PL/pgSQL function emaj._remove_tbl(text,text,text,boolean,bigint,text) line 21 at PERFORM
SQL statement "SELECT emaj._remove_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, r_plan.altr_group_is_logging,
                                   v_timeId, v_function)"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 24 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  table "table_with_very_looooooooooooooooooooooooooooooooo#1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."table_with_very_looooooooooooooooooooooooooooooooo#1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.table_with_very_looooooooooooooooooooooooooooooooooooooong_name" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 72 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
WARNING:  _check_fk_groups: The table "phil's schema3.table_with_very_looooooooooooooooooooooooooooooooooooooong_name" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 72 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                4
(1 row)

-- use the table and its group
select emaj.emaj_start_group('phil''s group#3",','M1_after_alter_group');
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_group(text,text,boolean) line 12 at RETURN
WARNING:  _check_fk_groups: The table "phil's schema3.table_with_very_looooooooooooooooooooooooooooooooooooooong_name" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._start_groups(text[],text,boolean,boolean) line 27 at PERFORM
PL/pgSQL function emaj.emaj_start_group(text,text,boolean) line 12 at RETURN
 emaj_start_group 
------------------
                4
(1 row)

update "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name set "phil's col12" = 'GHI' where "phil's col11" between 6 and 9;
select emaj.emaj_set_mark_group('phil''s group#3",','M2');
 emaj_set_mark_group 
---------------------
                   4
(1 row)

delete from "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name where "phil's col11" > 18;
select * from emaj.emaj_rollback_group('phil''s group#3",','M1_after_alter_group',false) order by 1,2;
WARNING:  _check_fk_groups: The foreign key "mytbl2_col21_fkey" on the table "phil's schema3.myTbl2\" references the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
WARNING:  _check_fk_groups: The table "phil's schema3.table_with_very_looooooooooooooooooooooooooooooooooooooong_name" is referenced by the foreign key "mytbl4_col44_fkey" on the table "phil's schema3.mytbl4" that is outside the groups (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._check_fk_groups(v_groupNames)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 61 at PERFORM
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 1 / 2 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select emaj.emaj_stop_group('phil''s group#3",');
 emaj_stop_group 
-----------------
               4
(1 row)

select emaj.emaj_drop_group('phil''s group#3",');
 emaj_drop_group 
-----------------
               4
(1 row)

--
reset role;
alter table "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name rename to "phil's tbl1";
update emaj.emaj_group_def set grpdef_tblseq = 'phil''s tbl1'
  where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'table_with_very_looooooooooooooooooooooooooooooooooooooong_name';
-----------------------------
-- Step 14 : test use of groups or marks protection
-----------------------------
set role emaj_regression_tests_adm_user;
-- try to rollback a protected group
select emaj.emaj_protect_group('myGroup2');
 emaj_protect_group 
--------------------
                  1
(1 row)

select * from emaj.emaj_rollback_group('myGroup2','M3',false) order by 1,2;
ERROR:  _check_group_names: The group "myGroup2" is currently protected against rollback operations.
CONTEXT:  SQL statement "SELECT emaj._check_group_names(v_groupNames := v_groupNames, v_mayBeNull := FALSE, v_lockGroups := TRUE,
                                     v_checkList := 'LOGGING,ROLLBACKABLE,UNPROTECTED')"
PL/pgSQL function emaj._rlbk_check(text[],text,boolean,boolean) line 16 at SQL statement
SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
select emaj.emaj_unprotect_group('myGroup2');
 emaj_unprotect_group 
----------------------
                    1
(1 row)

-- try to rollback over a protected mark
select emaj.emaj_set_mark_group('myGroup1','Mark_to_protect');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

select emaj.emaj_protect_mark_group('myGroup1','Mark_to_protect');
 emaj_protect_mark_group 
-------------------------
                       1
(1 row)

select * from emaj.emaj_rollback_group('myGroup1','Multi-1',false) order by 1,2;
ERROR:  _rlbk_check: Protected marks (Mark_to_protect) for the group "myGroup1" block the rollback to the mark "Multi-1".
CONTEXT:  SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_group(text,text,boolean) line 7 at RETURN QUERY
select emaj.emaj_unprotect_mark_group('myGroup1','Mark_to_protect');
 emaj_unprotect_mark_group 
---------------------------
                         1
(1 row)

select emaj.emaj_delete_mark_group('myGroup1','Mark_to_protect');
 emaj_delete_mark_group 
------------------------
                      1
(1 row)

-----------------------------
-- Step 15 : test complex use of rollbacks consolidations
-----------------------------
set search_path=public,myschema1;
-- 2 consolidations of 2 logged rollbacks
-- Multi-1 MC1 MC2 RMC1S RMC1D      MC3 MC4 MC5 RMC3S RMC3D
--         ^       lrg(MC1)         ^           lrg(MC3)
--         xxxxxxxxxxxxxxx conso(RMC1D)
-- 	       	                        xxxxxxxxxxxxxxxxxxx conso(RMC3D)
select emaj.emaj_set_mark_group('myGroup1','MC1');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl1 select i, 'Test', 'Conso' from generate_series (2000,2012) as i;
insert into myTbl2 values (2000,'TC1',NULL);
delete from myTbl1 where col11 > 2010;
select emaj.emaj_set_mark_group('myGroup1','MC2');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

update myTbl2 set col22 = 'TC2' WHERE col22 ='TC1';
select * from emaj.emaj_logged_rollback_group('myGroup1','MC1',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 3 / 5 tables effectively processed.
(2 rows)

insert into myTbl2 values (2000,'TC3',NULL);
select emaj.emaj_rename_mark_group('myGroup1','EMAJ_LAST_MARK','RLBK_MC1_DONE');
 emaj_rename_mark_group 
------------------------
 
(1 row)

select emaj.emaj_set_mark_group('myGroup1','MC3');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into "myTbl3" (col33) select generate_series(2000,2039,4)/100;
insert into myTbl4 values (2000,'FK...',1,10,'ABC');
update myTbl4 set col43 = NULL where col41 = 2000;
select emaj.emaj_set_mark_group('myGroup1','MC4');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

select emaj.emaj_set_mark_group('myGroup1','MC5');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

select * from emaj.emaj_logged_rollback_group('myGroup1','MC3',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select cons_group, regexp_replace(cons_end_rlbk_mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), 
       cons_target_rlbk_mark_name, cons_end_rlbk_mark_time_id, cons_target_rlbk_mark_time_id, cons_rows, cons_marks, cons_marks
  from emaj.emaj_get_consolidable_rollbacks();
 cons_group | regexp_replace  | cons_target_rlbk_mark_name | cons_end_rlbk_mark_time_id | cons_target_rlbk_mark_time_id | cons_rows | cons_marks | cons_marks 
------------+-----------------+----------------------------+----------------------------+-------------------------------+-----------+------------+------------
 myGroup1   | RLBK_MC1_DONE   | MC1                        |                      10071 |                         10068 |        33 |          2 |          2
 myGroup1   | RLBK_MC3_%_DONE | MC3                        |                      10076 |                         10072 |        23 |          3 |          3
(2 rows)

  
-- consolidate both logged rollback at once
select cons_target_rlbk_mark_name, regexp_replace(cons_end_rlbk_mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), 
       emaj.emaj_consolidate_rollback_group(cons_group, cons_end_rlbk_mark_name)
  from emaj.emaj_get_consolidable_rollbacks() where cons_group = 'myGroup1';
 cons_target_rlbk_mark_name | regexp_replace  | emaj_consolidate_rollback_group 
----------------------------+-----------------+---------------------------------
 MC1                        | RLBK_MC1_DONE   |                               5
 MC3                        | RLBK_MC3_%_DONE |                               4
(2 rows)

select cons_group, regexp_replace(cons_end_rlbk_mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), 
       cons_target_rlbk_mark_name, cons_end_rlbk_mark_time_id, cons_target_rlbk_mark_time_id, cons_rows, cons_marks
  from emaj.emaj_get_consolidable_rollbacks();
 cons_group | regexp_replace  | cons_target_rlbk_mark_name | cons_end_rlbk_mark_time_id | cons_target_rlbk_mark_time_id | cons_rows | cons_marks 
------------+-----------------+----------------------------+----------------------------+-------------------------------+-----------+------------
 myGroup1   | RLBK_MC1_DONE   | MC1                        |                      10071 |                         10068 |         0 |          0
 myGroup1   | RLBK_MC3_%_DONE | MC3                        |                      10076 |                         10072 |         0 |          0
(2 rows)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('myGroup1','Multi-1',NULL);
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
 myGroup1   | myschema1   | mytbl2     | Multi-1         |                | postgres  | INSERT    |         1
 myGroup1   | myschema1   | mytbl2b    | Multi-1         |                | postgres  | INSERT    |         1
(2 rows)

-- 2 consolidations of 2 nested logged rollbacks
-- MC6 MC7 MC8  RMC8S RMC8D M9 RMC6S RMC6D
--         ^    lrg(MC8)
--         xxxxxxxxxxxx conso(RMC8D)
-- ^                           lrb(MC6)
-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx conso(RMC6D)
select emaj.emaj_set_mark_group('myGroup1','MC6');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl1 select i, 'Test', 'Conso' from generate_series (2000,2012) as i;
insert into myTbl2 values (3000,'TC6',NULL);
delete from myTbl1 where col11 > 2010;
select emaj.emaj_set_mark_group('myGroup1','MC7');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

update myTbl2 set col22 = 'TC7' WHERE col22 ='TC6';
select emaj.emaj_set_mark_group('myGroup1','MC8');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl2 values (3001,'TC8',NULL);
select * from emaj.emaj_logged_rollback_group('myGroup1','MC8',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select emaj.emaj_consolidate_rollback_group('myGroup1','EMAJ_LAST_MARK');
 emaj_consolidate_rollback_group 
---------------------------------
                               4
(1 row)

select emaj.emaj_set_mark_group('myGroup1','MC9');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into "myTbl3" (col33) select generate_series(2000,2039,4)/100;
insert into myTbl4 values (2000,'FK...',1,10,'ABC');
update myTbl4 set col43 = NULL where col41 = 2000;
select * from emaj.emaj_logged_rollback_group('myGroup1','MC6',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 5 / 5 tables effectively processed.
(2 rows)

select emaj.emaj_consolidate_rollback_group('myGroup1','EMAJ_LAST_MARK');
 emaj_consolidate_rollback_group 
---------------------------------
                               7
(1 row)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('myGroup1','Multi-1',NULL);
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
 myGroup1   | myschema1   | mytbl2     | Multi-1         |                | postgres  | INSERT    |         1
 myGroup1   | myschema1   | mytbl2b    | Multi-1         |                | postgres  | INSERT    |         1
(2 rows)

-- consolidation of 2 logged rollbacks referencing the same mark
-- MC10  RMC10S RMC10D M11 RMC10S RMC10D
-- ^     lrg(MC10)
-- ^                       lrb(MC10)
-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx conso(RMC10D)
select emaj.emaj_set_mark_group('myGroup1','MC10');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl1 select i, 'Test', 'Conso' from generate_series (3000,3010) as i;
delete from myTbl1 where col11 > 3005;
select * from emaj.emaj_logged_rollback_group('myGroup1','MC10',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 1 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

update myTbl2 set col22 = 'TC7' WHERE col22 ='TC6';
select emaj.emaj_set_mark_group('myGroup1','MC11');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl4 values (3000,'FK...',1,10,'ABC');
update myTbl4 set col43 = NULL where col41 = 3000;
select * from emaj.emaj_logged_rollback_group('myGroup1','MC10',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 / 5 tables effectively processed.
 Notice        | 2 sequences processed.
(2 rows)

select emaj.emaj_consolidate_rollback_group('myGroup1','EMAJ_LAST_MARK');
 emaj_consolidate_rollback_group 
---------------------------------
                               4
(1 row)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('myGroup1','Multi-1',NULL);
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
 myGroup1   | myschema1   | mytbl2     | Multi-1         |                | postgres  | INSERT    |         1
 myGroup1   | myschema1   | mytbl2b    | Multi-1         |                | postgres  | INSERT    |         1
(2 rows)

-- consolidation of 1 from 2 overlapping logged rollbacks
-- MC15 MC16 RMC15S RMC15D MC17 RMC16S RMC16D
-- ^         lrg(MC15)
--      ^                       lrg(MC16)
-- xxxxxxxxxxxxxxxxx conso(RMC15D)
select emaj.emaj_set_mark_group('myGroup1','MC15');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl1 select i, 'Test', 'Conso' from generate_series (4000,4012) as i;
insert into myTbl2 values (4000,'TC15',NULL);
delete from myTbl1 where col11 > 4010;
select emaj.emaj_set_mark_group('myGroup1','MC16');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

update myTbl2 set col22 = 'TC16' WHERE col22 ='TC15';
select * from emaj.emaj_logged_rollback_group('myGroup1','MC15',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 3 / 5 tables effectively processed.
(2 rows)

select emaj.emaj_rename_mark_group('myGroup1','EMAJ_LAST_MARK','RLBK_MC15_DONE');
 emaj_rename_mark_group 
------------------------
 
(1 row)

select emaj.emaj_set_mark_group('myGroup1','MC17');
 emaj_set_mark_group 
---------------------
                   7
(1 row)

insert into myTbl2 values (4001,'TC15',NULL);
select * from emaj.emaj_logged_rollback_group('myGroup1','MC16',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 3 / 5 tables effectively processed.
(2 rows)

select emaj.emaj_consolidate_rollback_group('myGroup1','RLBK_MC15_DONE');
 emaj_consolidate_rollback_group 
---------------------------------
                               5
(1 row)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_role, stat_verb, stat_rows
  from emaj.emaj_detailed_log_stat_group('myGroup1','Multi-1',NULL);
 stat_group | stat_schema | stat_table | stat_first_mark | stat_last_mark | stat_role | stat_verb | stat_rows 
------------+-------------+------------+-----------------+----------------+-----------+-----------+-----------
 myGroup1   | myschema1   | mytbl1     | Multi-1         |                | postgres  | INSERT    |        11
 myGroup1   | myschema1   | mytbl2     | Multi-1         |                | postgres  | DELETE    |         1
 myGroup1   | myschema1   | mytbl2     | Multi-1         |                | postgres  | INSERT    |         3
 myGroup1   | myschema1   | mytbl2b    | Multi-1         |                | postgres  | DELETE    |         1
 myGroup1   | myschema1   | mytbl2b    | Multi-1         |                | postgres  | INSERT    |         3
(5 rows)

select * from myTbl1 order by col11;
 col11 |   col12    |    col13     
-------+------------+--------------
     2 | ABC        | \x1c
     3 | ABC        | \x1c
     4 | ABC        | \x0c
     5 | ABC        | \x0c
     6 | ABC        | \x0c
     7 | ABC        | \x0c
     8 | ABC        | \x0c
     9 | ABC        | \x0c
    10 | ABC        | \x0c
   100 | DEF        | \x00
   101 | DEF        | \x00
   102 | DEF        | \x00
   103 | DEF        | \x00
   104 | DEF        | \x00
   105 | DEF        | \x00
   106 | DEF        | \x00
   107 | DEF        | \x00
   108 | DEF        | \x00
   109 | DEF        | \x00
   110 | DEF        | \x00
  4000 | Test       | \x436f6e736f
  4001 | Test       | \x436f6e736f
  4002 | Test       | \x436f6e736f
  4003 | Test       | \x436f6e736f
  4004 | Test       | \x436f6e736f
  4005 | Test       | \x436f6e736f
  4006 | Test       | \x436f6e736f
  4007 | Test       | \x436f6e736f
  4008 | Test       | \x436f6e736f
  4009 | Test       | \x436f6e736f
  4010 | Test       | \x436f6e736f
(31 rows)

select * from myTbl2 order by col21;
 col21 | col22 |   col23    
-------+-------+------------
     1 | ABC   | 12-31-2010
     2 | DEF   | 
     3 | GHI   | 01-02-2010
  2000 | TC3   | 
  4000 | TC15  | 
(5 rows)

select mark_group, regexp_replace(mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), mark_time_id, mark_is_deleted, mark_is_rlbk_protected, mark_comment, mark_log_rows_before_next, mark_logged_rlbk_target_mark from emaj.emaj_mark where mark_group = 'myGroup1' order by mark_time_id, mark_group;
 mark_group |        regexp_replace        | mark_time_id | mark_is_deleted | mark_is_rlbk_protected | mark_comment | mark_log_rows_before_next | mark_logged_rlbk_target_mark 
------------+------------------------------+--------------+-----------------+------------------------+--------------+---------------------------+------------------------------
 myGroup1   | M4                           |        10018 | t               | f                      |              |                        10 | 
 myGroup1   | M5                           |        10019 | t               | f                      |              |                         3 | 
 myGroup1   | Before logged rollback to M4 |        10025 | t               | f                      |              |                        28 | 
 myGroup1   | STOP_%                       |        10027 | t               | f                      |              |                         0 | 
 myGroup1   | Stop after rollback          |        10034 | t               | f                      |              |                         0 | 
 myGroup1   | Multi-1                      |        10035 | f               | f                      |              |                         0 | 
 myGroup1   | MC1                          |        10068 | f               | f                      |              |                         0 | 
 myGroup1   | RLBK_MC1_DONE                |        10071 | f               | f                      |              |                         2 | MC1
 myGroup1   | MC3                          |        10072 | f               | f                      |              |                         0 | 
 myGroup1   | RLBK_MC3_%_DONE              |        10076 | f               | f                      |              |                         0 | MC3
 myGroup1   | MC6                          |        10077 | f               | f                      |              |                         0 | 
 myGroup1   | RLBK_MC6_%_DONE              |        10084 | f               | f                      |              |                         0 | MC6
 myGroup1   | MC10                         |        10085 | f               | f                      |              |                         0 | 
 myGroup1   | RLBK_MC10_%_DONE             |        10090 | f               | f                      |              |                         0 | MC10
 myGroup1   | MC15                         |        10091 | f               | f                      |              |                         0 | 
 myGroup1   | RLBK_MC15_DONE               |        10094 | f               | f                      |              |                         0 | MC15
 myGroup1   | MC17                         |        10095 | f               | f                      |              |                         2 | 
 myGroup1   | RLBK_MC16_%_START            |        10096 | f               | f                      |              |                        15 | 
 myGroup1   | RLBK_MC16_%_DONE             |        10097 | f               | f                      |              |                           | 
(19 rows)

select sequ_schema, sequ_name, sequ_time_id, sequ_last_val, sequ_is_called from emaj.emaj_sequence where sequ_schema = 'emaj_myschema1' order by sequ_time_id, sequ_schema, sequ_name;
  sequ_schema   |    sequ_name    | sequ_time_id | sequ_last_val | sequ_is_called 
----------------+-----------------+--------------+---------------+----------------
 emaj_myschema1 | myTbl3_log_seq  |        10018 |            10 | t
 emaj_myschema1 | mytbl1_log_seq  |        10018 |            30 | t
 emaj_myschema1 | mytbl2_log_seq  |        10018 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10018 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10018 |             8 | t
 emaj_myschema1 | myTbl3_log_seq  |        10019 |            20 | t
 emaj_myschema1 | mytbl1_log_seq  |        10019 |            30 | t
 emaj_myschema1 | mytbl2_log_seq  |        10019 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10019 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10019 |             8 | t
 emaj_myschema1 | myTbl3_log_seq  |        10025 |            20 | t
 emaj_myschema1 | mytbl1_log_seq  |        10025 |            32 | t
 emaj_myschema1 | mytbl2_log_seq  |        10025 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10025 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10025 |            12 | t
 emaj_myschema1 | myTbl3_log_seq  |        10027 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10027 |            33 | t
 emaj_myschema1 | mytbl2_log_seq  |        10027 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10027 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10027 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10034 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10034 |            33 | t
 emaj_myschema1 | mytbl2_log_seq  |        10034 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10034 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10034 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10035 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10035 |            33 | t
 emaj_myschema1 | mytbl2_log_seq  |        10035 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10035 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10035 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10068 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10068 |            53 | t
 emaj_myschema1 | mytbl2_log_seq  |        10068 |             3 | t
 emaj_myschema1 | mytbl2b_log_seq |        10068 |             3 | t
 emaj_myschema1 | mytbl4_log_seq  |        10068 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10071 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10071 |            79 | t
 emaj_myschema1 | mytbl2_log_seq  |        10071 |             6 | t
 emaj_myschema1 | mytbl2b_log_seq |        10071 |             7 | t
 emaj_myschema1 | mytbl4_log_seq  |        10071 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10072 |            45 | t
 emaj_myschema1 | mytbl1_log_seq  |        10072 |            79 | t
 emaj_myschema1 | mytbl2_log_seq  |        10072 |             7 | t
 emaj_myschema1 | mytbl2b_log_seq |        10072 |             8 | t
 emaj_myschema1 | mytbl4_log_seq  |        10072 |            14 | t
 emaj_myschema1 | myTbl3_log_seq  |        10076 |            65 | t
 emaj_myschema1 | mytbl1_log_seq  |        10076 |            79 | t
 emaj_myschema1 | mytbl2_log_seq  |        10076 |             7 | t
 emaj_myschema1 | mytbl2b_log_seq |        10076 |             8 | t
 emaj_myschema1 | mytbl4_log_seq  |        10076 |            17 | t
 emaj_myschema1 | myTbl3_log_seq  |        10077 |            65 | t
 emaj_myschema1 | mytbl1_log_seq  |        10077 |            79 | t
 emaj_myschema1 | mytbl2_log_seq  |        10077 |             7 | t
 emaj_myschema1 | mytbl2b_log_seq |        10077 |             8 | t
 emaj_myschema1 | mytbl4_log_seq  |        10077 |            17 | t
 emaj_myschema1 | myTbl3_log_seq  |        10084 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10084 |           105 | t
 emaj_myschema1 | mytbl2_log_seq  |        10084 |            12 | t
 emaj_myschema1 | mytbl2b_log_seq |        10084 |            14 | t
 emaj_myschema1 | mytbl4_log_seq  |        10084 |            20 | t
 emaj_myschema1 | myTbl3_log_seq  |        10085 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10085 |           105 | t
 emaj_myschema1 | mytbl2_log_seq  |        10085 |            12 | t
 emaj_myschema1 | mytbl2b_log_seq |        10085 |            14 | t
 emaj_myschema1 | mytbl4_log_seq  |        10085 |            20 | t
 emaj_myschema1 | myTbl3_log_seq  |        10090 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10090 |           127 | t
 emaj_myschema1 | mytbl2_log_seq  |        10090 |            12 | t
 emaj_myschema1 | mytbl2b_log_seq |        10090 |            14 | t
 emaj_myschema1 | mytbl4_log_seq  |        10090 |            23 | t
 emaj_myschema1 | myTbl3_log_seq  |        10091 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10091 |           127 | t
 emaj_myschema1 | mytbl2_log_seq  |        10091 |            12 | t
 emaj_myschema1 | mytbl2b_log_seq |        10091 |            14 | t
 emaj_myschema1 | mytbl4_log_seq  |        10091 |            23 | t
 emaj_myschema1 | myTbl3_log_seq  |        10094 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10094 |           153 | t
 emaj_myschema1 | mytbl2_log_seq  |        10094 |            15 | t
 emaj_myschema1 | mytbl2b_log_seq |        10094 |            18 | t
 emaj_myschema1 | mytbl4_log_seq  |        10094 |            23 | t
 emaj_myschema1 | myTbl3_log_seq  |        10095 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10095 |           153 | t
 emaj_myschema1 | mytbl2_log_seq  |        10095 |            15 | t
 emaj_myschema1 | mytbl2b_log_seq |        10095 |            18 | t
 emaj_myschema1 | mytbl4_log_seq  |        10095 |            23 | t
 emaj_myschema1 | myTbl3_log_seq  |        10096 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10096 |           153 | t
 emaj_myschema1 | mytbl2_log_seq  |        10096 |            16 | t
 emaj_myschema1 | mytbl2b_log_seq |        10096 |            19 | t
 emaj_myschema1 | mytbl4_log_seq  |        10096 |            23 | t
 emaj_myschema1 | myTbl3_log_seq  |        10097 |            85 | t
 emaj_myschema1 | mytbl1_log_seq  |        10097 |           164 | t
 emaj_myschema1 | mytbl2_log_seq  |        10097 |            18 | t
 emaj_myschema1 | mytbl2b_log_seq |        10097 |            21 | t
 emaj_myschema1 | mytbl4_log_seq  |        10097 |            23 | t
(95 rows)

select sqhl_schema, sqhl_table, sqhl_begin_time_id, sqhl_end_time_id, sqhl_hole_size from emaj.emaj_seq_hole where sqhl_schema = 'myschema1' order by 1,2,3;
 sqhl_schema | sqhl_table | sqhl_begin_time_id | sqhl_end_time_id | sqhl_hole_size 
-------------+------------+--------------------+------------------+----------------
 myschema1   | myTbl3     |              10072 |            10076 |             20
 myschema1   | myTbl3     |              10077 |            10084 |             20
 myschema1   | mytbl1     |              10019 |            10024 |              1
 myschema1   | mytbl1     |              10035 |            10056 |             20
 myschema1   | mytbl1     |              10068 |            10071 |             26
 myschema1   | mytbl1     |              10077 |            10084 |             26
 myschema1   | mytbl1     |              10085 |            10090 |             22
 myschema1   | mytbl1     |              10091 |            10094 |             26
 myschema1   | mytbl2     |              10068 |            10071 |              3
 myschema1   | mytbl2     |              10077 |            10084 |              5
 myschema1   | mytbl2     |              10091 |            10094 |              3
 myschema1   | mytbl2b    |              10068 |            10071 |              4
 myschema1   | mytbl2b    |              10077 |            10084 |              6
 myschema1   | mytbl2b    |              10091 |            10094 |              4
 myschema1   | mytbl4     |              10019 |            10024 |              2
 myschema1   | mytbl4     |              10072 |            10076 |              3
 myschema1   | mytbl4     |              10077 |            10084 |              3
 myschema1   | mytbl4     |              10085 |            10090 |              3
(18 rows)

select * from emaj.emaj_rollback_group('myGroup1','Multi-1',false) order by 1,2;
 rlbk_severity |            rlbk_message             
---------------+-------------------------------------
 Notice        | 2 sequences processed.
 Notice        | 3 / 5 tables effectively processed.
(2 rows)

-----------------------------
-- Step 16 : test transactions with several emaj operations
-----------------------------
select emaj.emaj_create_group('myGroup4');
NOTICE:  table "mytblm_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblm_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
WARNING:  _create_tbl: The table "myschema4.mytblm" has triggers (mytblm_insert_trigger). They will be automatically disabled during E-Maj rollback operations, unless they have been recorded into the list of triggers that may be kept enabled, with the emaj_ignore_app_trigger() function.
CONTEXT:  SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mypartp1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp1_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp1"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp1"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mypartp2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytblc1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc1_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytblc2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
 emaj_create_group 
-------------------
                 5
(1 row)

-- several similar operations in a single transaction, using different mark names
begin;
  select emaj.emaj_start_group('myGroup4','M1');
 emaj_start_group 
------------------
                5
(1 row)

  select emaj.emaj_set_mark_group('myGroup4','M2');
 emaj_set_mark_group 
---------------------
                   5
(1 row)

  select emaj.emaj_set_mark_group('myGroup4','M3');
 emaj_set_mark_group 
---------------------
                   5
(1 row)

  select emaj.emaj_alter_group('myGroup4','M4');
 emaj_alter_group 
------------------
                5
(1 row)

  select emaj.emaj_alter_group('myGroup4','M5');
 emaj_alter_group 
------------------
                5
(1 row)

  select emaj.emaj_stop_group('myGroup4','M6');
 emaj_stop_group 
-----------------
               5
(1 row)

  select emaj.emaj_start_group('myGroup4','M7',false);
 emaj_start_group 
------------------
                5
(1 row)

  select emaj.emaj_stop_group('myGroup4','M8');
 emaj_stop_group 
-----------------
               5
(1 row)

commit;
select * from emaj.emaj_mark where mark_group = 'myGroup4' order by mark_time_id, mark_group;
 mark_group | mark_name | mark_time_id | mark_is_deleted | mark_is_rlbk_protected | mark_comment | mark_log_rows_before_next | mark_logged_rlbk_target_mark 
------------+-----------+--------------+-----------------+------------------------+--------------+---------------------------+------------------------------
 myGroup4   | M1        |        10100 | t               | f                      |              |                         0 | 
 myGroup4   | M2        |        10101 | t               | f                      |              |                         0 | 
 myGroup4   | M3        |        10102 | t               | f                      |              |                         0 | 
 myGroup4   | M4        |        10103 | t               | f                      |              |                         0 | 
 myGroup4   | M5        |        10104 | t               | f                      |              |                         0 | 
 myGroup4   | M6        |        10105 | t               | f                      |              |                         0 | 
 myGroup4   | M7        |        10106 | t               | f                      |              |                         0 | 
 myGroup4   | M8        |        10107 | t               | f                      |              |                         0 | 
(8 rows)

-----------------------------
-- Step 17 : test partition attach and detach
-----------------------------
-- Needs postgres 10+
set role emaj_regression_tests_adm_user;
select emaj.emaj_start_group('myGroup4','Start');
 emaj_start_group 
------------------
                5
(1 row)

insert into mySchema4.myTblP values (-1,'Stored in partition 1'), (1,'Stored in partition 2');
select emaj.emaj_set_mark_group('myGroup4','M1');
 emaj_set_mark_group 
---------------------
                   5
(1 row)

update mySchema4.myTblP set col1 = 2 where col1 = 1;
-- create a new partition and add it into the group ; in passing also add the sequence linked to the serial column of the mother table
reset role;
CREATE TABLE mySchema4.myPartP3 PARTITION OF mySchema4.myTblP (PRIMARY KEY (col1)) FOR VALUES FROM (10) TO (19);
ERROR:  syntax error at or near "PARTITION"
LINE 1: CREATE TABLE mySchema4.myPartP3 PARTITION OF mySchema4.myTbl...
                                        ^
-- create the table with PG 9.6- so that next scripts do not abort
CREATE TABLE IF NOT EXISTS mySchema4.myPartP3 (PRIMARY KEY (col1)) INHERITS (mySchema4.myTblP);
grant all on mySchema4.myPartP3 to emaj_regression_tests_adm_user;
set role emaj_regression_tests_adm_user;
insert into emaj.emaj_group_def values ('myGroup4','myschema4','mypartp3');
insert into emaj.emaj_group_def values ('myGroup4','myschema4','mytblp_col3_seq');
select emaj.emaj_alter_group('myGroup4','Add partition 3');
NOTICE:  table "mypartp3_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp3_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp3" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp3"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp3" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp3"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
WARNING:  _create_seq: The sequence myschema4.mytblp_col3_seq is linked to table myschema4.mytblp but this table does not belong to any tables group.
CONTEXT:  SQL statement "SELECT emaj._create_seq(v_schema, v_sequence, v_group, v_timeId)"
PL/pgSQL function emaj._add_seq(text,text,text,boolean,bigint,text) line 9 at PERFORM
SQL statement "SELECT emaj._add_seq(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, r_plan.altr_group_is_logging,
                                v_timeId, v_function)"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 109 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                7
(1 row)

insert into mySchema4.myTblP values (11,'Stored in partition 3');
-- remove an obsolete partition ; in passing also remove the sequence linke to the serial column of the mother table
delete from emaj.emaj_group_def where grpdef_schema = 'myschema4' and grpdef_tblseq = 'mypartp1';
delete from emaj.emaj_group_def where grpdef_schema = 'myschema4' and grpdef_tblseq = 'mytblp_col3_seq';
select emaj.emaj_alter_group('myGroup4','Remove partition 1');
 emaj_alter_group 
------------------
                5
(1 row)

reset role;
drop table mySchema4.myPartP1;
set role emaj_regression_tests_adm_user;
-- verify that emaj_adm has the proper grants to delete old marks leading to an old log table drop
begin transaction;
  select emaj.emaj_delete_before_mark_group('myGroup4','EMAJ_LAST_MARK');
 emaj_delete_before_mark_group 
-------------------------------
                             3
(1 row)

rollback;
-- look at statistics and log content
select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_rows
  from emaj.emaj_log_stat_group('myGroup4',NULL, NULL) order by 1,2,3,4;
 stat_group | stat_schema | stat_table | stat_first_mark |   stat_last_mark   | stat_rows 
------------+-------------+------------+-----------------+--------------------+-----------
 myGroup4   | myschema4   | mypartp1   | Start           | Remove partition 1 |         0
 myGroup4   | myschema4   | mypartp2   | Start           |                    |         0
 myGroup4   | myschema4   | mypartp3   | Add partition 3 |                    |         0
 myGroup4   | myschema4   | mytblc1    | Start           |                    |         0
 myGroup4   | myschema4   | mytblc2    | Start           |                    |         0
 myGroup4   | myschema4   | mytblm     | Start           |                    |         0
(6 rows)

select * from emaj.emaj_relation where rel_schema = 'myschema4' and rel_tblseq like 'mypar%' order by rel_tblseq, rel_time_range;
 rel_schema | rel_tblseq | rel_time_range | rel_group | rel_kind | rel_priority | rel_log_schema | rel_log_table  | rel_log_dat_tsp |   rel_log_index    | rel_log_idx_tsp | rel_log_sequence | rel_log_function  |      rel_sql_columns       | rel_sql_pk_columns | rel_sql_pk_eq_conditions | rel_log_seq_last_value | rel_emaj_verb_attnum 
------------+------------+----------------+-----------+----------+--------------+----------------+----------------+-----------------+--------------------+-----------------+------------------+-------------------+----------------------------+--------------------+--------------------------+------------------------+----------------------
 myschema4  | mypartp1   | [10099,10111)  | myGroup4  | r        |              | emaj_myschema4 | mypartp1_log_1 |                 | mypartp1_log_idx_1 |                 | mypartp1_log_seq |                   |                            |                    |                          |                      0 |                    4
 myschema4  | mypartp2   | [10099,)       | myGroup4  | r        |              | emaj_myschema4 | mypartp2_log   |                 | mypartp2_log_idx   |                 | mypartp2_log_seq | mypartp2_log_fnct | tbl.col1,tbl.col2,tbl.col3 | col1               | tbl.col1 = keys.col1     |                        |                    4
 myschema4  | mypartp3   | [10110,)       | myGroup4  | r        |              | emaj_myschema4 | mypartp3_log   |                 | mypartp3_log_idx   |                 | mypartp3_log_seq | mypartp3_log_fnct | tbl.col1,tbl.col2,tbl.col3 | col1               | tbl.col1 = keys.col1     |                        |                    4
(3 rows)

select col1, col2, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema4.mypartP3_log order by emaj_gid;
 col1 | col2 | emaj_verb | emaj_tuple | emaj_gid 
------+------+-----------+------------+----------
(0 rows)

select col1, col2, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema4.mypartP1_log_1 order by emaj_gid;
 col1 | col2 | emaj_verb | emaj_tuple | emaj_gid 
------+------+-----------+------------+----------
(0 rows)

-- rollback to a mark set before the first changes
select * from emaj.emaj_rollback_group('myGroup4','Start');
ERROR:  _rlbk_check: This rollback operation would cross some previously executed alter group operations, which is not allowed by the current function parameters.
CONTEXT:  SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
SQL statement "SELECT rlbk_message::INT FROM emaj._rlbk_groups(array[v_groupName], v_mark, FALSE, FALSE, NULL) WHERE rlbk_severity = 'Notice'"
PL/pgSQL function emaj.emaj_rollback_group(text,text) line 7 at RETURN
select rlbk_severity, regexp_replace(rlbk_message,E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g')
  from emaj.emaj_rollback_group('myGroup4','Start',true);
 rlbk_severity |                                             regexp_replace                                              
---------------+---------------------------------------------------------------------------------------------------------
 Notice        | 0 / 5 tables effectively processed.
 Warning       | The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table myschema4.mypartp1 has been left unchanged (not in group anymore since <timestamp>)
 Warning       | The sequence myschema4.mytblp_col3_seq has been left unchanged (not in group anymore since <timestamp>)
(4 rows)

-- testing a row update leading to a partition change (needs pg 11)
insert into mySchema4.myTblP values (1,'Initialy stored in partition 2'), (11,'Stored in partition 3');
select emaj.emaj_set_mark_group('myGroup4','Before update');
 emaj_set_mark_group 
---------------------
                   5
(1 row)

update mySchema4.myTblP set col1 = 12 where col1=1;
select emaj.emaj_logged_rollback_group('myGroup4','Before update');
 emaj_logged_rollback_group 
----------------------------
                          0
(1 row)

select col1, col2, col3, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema4.mypartP2_log;
 col1 | col2 | col3 | emaj_verb | emaj_tuple | emaj_gid 
------+------+------+-----------+------------+----------
(0 rows)

select col1, col2, col3, emaj_verb, emaj_tuple, emaj_gid from emaj_myschema4.mypartP3_log;
 col1 | col2 | col3 | emaj_verb | emaj_tuple | emaj_gid 
------+------+------+-----------+------------+----------
(0 rows)

select emaj.emaj_stop_group('myGroup4');
 emaj_stop_group 
-----------------
               5
(1 row)

select emaj.emaj_drop_group('myGroup4');
 emaj_drop_group 
-----------------
               5
(1 row)

-----------------------------
-- Step 18 : test defect with application table or sequence
--           also test some changes on the unlogged and the with oids tables
-----------------------------
update emaj.emaj_group_def set grpdef_group = 'phil''s group#3",' where grpdef_schema = 'myschema5';
insert into emaj.emaj_group_def values ('phil''s group#3",','phil''s schema3','mytbl4');
select emaj.emaj_create_group('phil''s group#3",',false);
NOTICE:  table "myoidstbl_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema5.myoidstbl_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema5.myoidstbl" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema5.myoidstbl"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema5.myoidstbl" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema5.myoidstbl"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "myunloggedtbl_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema5.myunloggedtbl_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "myschema5.myunloggedtbl" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema5.myunloggedtbl"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema5.myunloggedtbl" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema5.myunloggedtbl"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "myTbl2\_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."myTbl2\_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp,
                               v_timeId, v_isRollbackable, FALSE)
        FROM (
          SELECT grpdef_schema, grpdef_tblseq, grpdef_group, grpdef_priority, grpdef_log_dat_tsp, grpdef_log_idx_tsp
            FROM emaj.emaj_group_def, pg_catalog.pg_class, pg_catalog.pg_namespace
            WHERE grpdef_group = v_groupName
              AND relnamespace = pg_namespace.oid
              AND nspname = grpdef_schema AND relname = grpdef_tblseq
              AND relkind = 'r'
            ORDER BY grpdef_priority, grpdef_schema, grpdef_tblseq
             ) AS t"
PL/pgSQL function emaj.emaj_create_group(text,boolean,boolean) line 63 at PERFORM
 emaj_create_group 
-------------------
                 7
(1 row)

select emaj.emaj_start_group('phil''s group#3",','start');
 emaj_start_group 
------------------
                7
(1 row)

-----------------------------
-- test changes on the unlogged and the with oids tables
-----------------------------
insert into myschema5.myUnloggedTbl values (10),(11),(12);
update myschema5.myUnloggedTbl set col1 = 13 where col1 = 12;
delete from myschema5.myUnloggedTbl where col1 = 10;
insert into myschema5.myOidsTbl values (20),(21),(22);
update myschema5.myOidsTbl set col1 = 23 where col1 = 22;
delete from myschema5.myOidsTbl where col1 = 21;
select col1, emaj_verb, emaj_tuple, emaj_gid, emaj_user from emaj_myschema5.myUnloggedTbl_log order by emaj_gid;
 col1 | emaj_verb | emaj_tuple | emaj_gid | emaj_user 
------+-----------+------------+----------+-----------
   10 | INS       | NEW        |   100544 | postgres
   11 | INS       | NEW        |   100545 | postgres
   12 | INS       | NEW        |   100546 | postgres
   12 | UPD       | OLD        |   100547 | postgres
   13 | UPD       | NEW        |   100547 | postgres
   10 | DEL       | OLD        |   100548 | postgres
(6 rows)

select col1, emaj_verb, emaj_tuple, emaj_gid, emaj_user from emaj_myschema5.myOidsTbl_log order by emaj_gid;
 col1 | emaj_verb | emaj_tuple | emaj_gid | emaj_user 
------+-----------+------------+----------+-----------
   20 | INS       | NEW        |   100549 | postgres
   21 | INS       | NEW        |   100550 | postgres
   22 | INS       | NEW        |   100551 | postgres
   22 | UPD       | OLD        |   100552 | postgres
   23 | UPD       | NEW        |   100552 | postgres
   21 | DEL       | OLD        |   100553 | postgres
(6 rows)

-- disable event triggers for this step and change an application table structure
select emaj.emaj_disable_protection_by_event_triggers();
 emaj_disable_protection_by_event_triggers 
-------------------------------------------
                                         3
(1 row)

-----------------------------
-- test remove_and_add operations to repair an application table
-----------------------------
reset role;
alter table "phil's schema3".mytbl4 alter column col45 type char(11);
set role emaj_regression_tests_adm_user;
select * from emaj.emaj_verify_all();
                                                                            emaj_verify_all                                                                             
------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Warning: Some E-Maj event triggers exist but are disabled. You may enable them using the emaj_enable_protection_by_event_triggers() function.
 In group "phil's group#3",", the structure of the application table "phil's schema3"."mytbl4" is not coherent with its log table ("emaj_phil's schema3"."mytbl4_log").
(2 rows)

delete from emaj.emaj_group_def where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'mytbl4';
select emaj.emaj_alter_group('phil''s group#3",','remove_the_damaged_table');
 emaj_alter_group 
------------------
                6
(1 row)

insert into emaj.emaj_group_def values ('phil''s group#3",','phil''s schema3','mytbl4');
select emaj.emaj_alter_group('phil''s group#3",','re_add_the_table');
NOTICE:  table "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                7
(1 row)

select * from emaj.emaj_relation where rel_schema = 'phil''s schema3' and rel_tblseq = 'mytbl4' order by rel_time_range;
   rel_schema   | rel_tblseq | rel_time_range |    rel_group     | rel_kind | rel_priority |   rel_log_schema    | rel_log_table | rel_log_dat_tsp |  rel_log_index   | rel_log_idx_tsp | rel_log_sequence | rel_log_function |                  rel_sql_columns                  | rel_sql_pk_columns | rel_sql_pk_eq_conditions | rel_log_seq_last_value | rel_emaj_verb_attnum 
----------------+------------+----------------+------------------+----------+--------------+---------------------+---------------+-----------------+------------------+-----------------+------------------+------------------+---------------------------------------------------+--------------------+--------------------------+------------------------+----------------------
 phil's schema3 | mytbl4     | [10118,10120)  | phil's group#3", | r        |              | emaj_phil's schema3 | mytbl4_log_1  |                 | mytbl4_log_idx_1 |                 | mytbl4_log_seq   |                  |                                                   |                    |                          |                      0 |                    6
 phil's schema3 | mytbl4     | [10121,)       | phil's group#3", | r        |              | emaj_phil's schema3 | mytbl4_log    |                 | mytbl4_log_idx   |                 | mytbl4_log_seq   | mytbl4_log_fnct  | tbl.col41,tbl.col42,tbl.col43,tbl.col44,tbl.col45 | col41              | tbl.col41 = keys.col41   |                        |                    6
(2 rows)

-----------------------------
-- test a remove operation to fix the case of a deleted log table, log sequence or log function
-----------------------------
reset role;
drop table "emaj_phil's schema3".mytbl4_log;
set role emaj_regression_tests_adm_user;
select * from emaj.emaj_verify_all();
                                                                emaj_verify_all                                                                
-----------------------------------------------------------------------------------------------------------------------------------------------
 Warning: Some E-Maj event triggers exist but are disabled. You may enable them using the emaj_enable_protection_by_event_triggers() function.
 In group "phil's group#3",", the log table "emaj_phil's schema3"."mytbl4_log" is not found.
(2 rows)

delete from emaj.emaj_group_def where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'mytbl4';
select emaj.emaj_alter_group('phil''s group#3",','remove_the_damaged_table_2');
NOTICE:  relation "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "ALTER TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log RENAME TO mytbl4_log_2"
PL/pgSQL function emaj._remove_tbl(text,text,text,boolean,bigint,text) line 42 at EXECUTE
SQL statement "SELECT emaj._remove_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, r_plan.altr_group_is_logging,
                                   v_timeId, v_function)"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 24 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  relation "mytbl4_log_idx" does not exist, skipping
CONTEXT:  SQL statement "ALTER INDEX IF EXISTS "emaj_phil's schema3".mytbl4_log_idx RENAME TO mytbl4_log_idx_2"
PL/pgSQL function emaj._remove_tbl(text,text,text,boolean,bigint,text) line 44 at EXECUTE
SQL statement "SELECT emaj._remove_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, r_plan.altr_group_is_logging,
                                   v_timeId, v_function)"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 24 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                6
(1 row)

insert into emaj.emaj_group_def values ('phil''s group#3",','phil''s schema3','mytbl4');
select emaj.emaj_alter_group('phil''s group#3",','re_add_the_table_2');
NOTICE:  table "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                7
(1 row)

select * from emaj.emaj_relation where rel_schema = 'phil''s schema3' and rel_tblseq = 'mytbl4' order by rel_time_range;
   rel_schema   | rel_tblseq | rel_time_range |    rel_group     | rel_kind | rel_priority |   rel_log_schema    | rel_log_table | rel_log_dat_tsp |  rel_log_index   | rel_log_idx_tsp | rel_log_sequence | rel_log_function |                  rel_sql_columns                  | rel_sql_pk_columns | rel_sql_pk_eq_conditions | rel_log_seq_last_value | rel_emaj_verb_attnum 
----------------+------------+----------------+------------------+----------+--------------+---------------------+---------------+-----------------+------------------+-----------------+------------------+------------------+---------------------------------------------------+--------------------+--------------------------+------------------------+----------------------
 phil's schema3 | mytbl4     | [10118,10120)  | phil's group#3", | r        |              | emaj_phil's schema3 | mytbl4_log_1  |                 | mytbl4_log_idx_1 |                 | mytbl4_log_seq   |                  |                                                   |                    |                          |                      0 |                    6
 phil's schema3 | mytbl4     | [10121,10122)  | phil's group#3", | r        |              | emaj_phil's schema3 | mytbl4_log_2  |                 | mytbl4_log_idx_2 |                 | mytbl4_log_seq   |                  |                                                   |                    |                          |                      0 |                    6
 phil's schema3 | mytbl4     | [10123,)       | phil's group#3", | r        |              | emaj_phil's schema3 | mytbl4_log    |                 | mytbl4_log_idx   |                 | mytbl4_log_seq   | mytbl4_log_fnct  | tbl.col41,tbl.col42,tbl.col43,tbl.col44,tbl.col45 | col41              | tbl.col41 = keys.col41   |                        |                    6
(3 rows)

-----------------------------
-- test a remove operation to fix the case of a deleted application table or sequence
-----------------------------
-- in fact just rename the table and the sequence
reset role;
alter table "phil's schema3".mytbl4 rename to mytbl4_sav;
alter sequence "phil's schema3"."phil's seq\1" rename to "phil's seq\1_sav";
set role emaj_regression_tests_adm_user;
-- try to set a mark or alter the group
begin;
  select emaj.emaj_set_mark_group('phil''s group#3",','should fails');
ERROR:  _verify_groups (1): In group "phil's group#3",", the table "phil's schema3"."mytbl4" does not exist any more. You may use "SELECT * FROM emaj.emaj_verify_all()" to look for other issues.
CONTEXT:  SQL statement "SELECT 0 FROM emaj._verify_groups(array[v_groupName], TRUE)"
PL/pgSQL function emaj.emaj_set_mark_group(text,text) line 18 at PERFORM
rollback;
begin;
  select emaj.emaj_alter_group('phil''s group#3",','should also fails');
WARNING:  _alter_groups: in the group "phil's group#3"",", the table or sequence "phil's schema3".mytbl4 does not exist.
CONTEXT:  PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
WARNING:  _alter_groups: in the group "phil's group#3"",", the table or sequence "phil's schema3"."phil's seq\1" does not exist.
CONTEXT:  PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
ERROR:  _alter_groups: One or several errors have been detected in the emaj_group_def table content.
CONTEXT:  PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
rollback;
delete from emaj.emaj_group_def where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'mytbl4';
delete from emaj.emaj_group_def where grpdef_schema = 'phil''s schema3' and grpdef_tblseq = 'phil''s seq\1';
select emaj.emaj_alter_group('phil''s group#3",','remove_the_dropped_table_and_seq');
NOTICE:  drop cascades to trigger emaj_log_trg on table "phil's schema3".mytbl4_sav
CONTEXT:  SQL statement "DROP FUNCTION IF EXISTS "emaj_phil's schema3".mytbl4_log_fnct() CASCADE"
PL/pgSQL function emaj._remove_tbl(text,text,text,boolean,bigint,text) line 60 at EXECUTE
SQL statement "SELECT emaj._remove_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, r_plan.altr_group_is_logging,
                                   v_timeId, v_function)"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 24 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                5
(1 row)

-- check that the log table does not exist anymore
select count(*) from emaj."phil's schema3_mytbl4_log";
ERROR:  relation "emaj.phil's schema3_mytbl4_log" does not exist
LINE 1: select count(*) from emaj."phil's schema3_mytbl4_log";
                             ^
-- revert the changes
insert into emaj.emaj_group_def values ('phil''s group#3",','phil''s schema3','mytbl4');
insert into emaj.emaj_group_def values ('phil''s group#3",','phil''s schema3','phil''s seq\1');
reset role;
alter table "phil's schema3".mytbl4_sav rename to mytbl4;
alter table "phil's schema3".mytbl4 alter column col45 type char(10);
alter sequence "phil's schema3"."phil's seq\1_sav" rename to "phil's seq\1";
select emaj.emaj_alter_group('phil''s group#3",','revert_last_changes');
NOTICE:  table "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(r_plan.altr_schema, r_plan.altr_tblseq, r_plan.altr_group, grpdef_priority, grpdef_log_dat_tsp,
                                grpdef_log_idx_tsp, r_plan.altr_group_is_logging, v_timeId, v_function)
            FROM emaj.emaj_group_def
            WHERE grpdef_group = r_plan.altr_group AND grpdef_schema = r_plan.altr_schema AND grpdef_tblseq = r_plan.altr_tblseq"
PL/pgSQL function emaj._alter_exec(bigint,boolean) line 102 at PERFORM
SQL statement "SELECT emaj._alter_exec(v_timeId, v_multiGroup)"
PL/pgSQL function emaj._alter_groups(text[],boolean,text) line 58 at PERFORM
PL/pgSQL function emaj.emaj_alter_group(text,text) line 6 at RETURN
 emaj_alter_group 
------------------
                7
(1 row)

-- ree-nable the event triggers and drop the group
set role emaj_regression_tests_adm_user;
select emaj.emaj_enable_protection_by_event_triggers();
 emaj_enable_protection_by_event_triggers 
------------------------------------------
                                        3
(1 row)

select emaj.emaj_stop_group('phil''s group#3",');
 emaj_stop_group 
-----------------
               7
(1 row)

select emaj.emaj_drop_group('phil''s group#3",');
NOTICE:  table "mytbl4_log_2" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log_2 CASCADE"
PL/pgSQL function emaj._drop_tbl(emaj.emaj_relation,bigint) line 35 at EXECUTE
SQL statement "SELECT CASE WHEN r_rel.rel_kind = 'r' THEN emaj._drop_tbl(r_rel, v_timeId)
                     WHEN r_rel.rel_kind = 'S' THEN emaj._drop_seq(r_rel, v_timeId) END"
PL/pgSQL function emaj._drop_group(text,boolean) line 23 at PERFORM
SQL statement "SELECT emaj._drop_group(v_groupName, FALSE)"
PL/pgSQL function emaj.emaj_drop_group(text) line 14 at SQL statement
 emaj_drop_group 
-----------------
               7
(1 row)

-----------------------------
-- Step 19 : test use of dynamic tables group management (assign, move, remove, change)
-----------------------------
-- create, start and populate groups
-- grp_tmp is empty, grp_tmp_3 and grp_tmp_4 contains tables and sequences frop respectively phil''s schema3 and myschema4
-- grp_tmp_4 is started before being populated
select emaj.emaj_create_group('grp_tmp',true,true);
 emaj_create_group 
-------------------
                 0
(1 row)

select emaj.emaj_create_group('grp_tmp_3',true,true);
 emaj_create_group 
-------------------
                 0
(1 row)

select emaj.emaj_create_group('grp_tmp_4',true,true);
 emaj_create_group 
-------------------
                 0
(1 row)

select emaj.emaj_start_groups('{"grp_tmp","grp_tmp_4"}','Start');
 emaj_start_groups 
-------------------
                 0
(1 row)

begin;
  select emaj.emaj_assign_tables('phil''s schema3','.*','','grp_tmp_3');
NOTICE:  table "myTbl2\_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."myTbl2\_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.myTbl2\" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."myTbl2\""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mytbl4_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3".mytbl4_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "phil's tbl1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS "emaj_phil's schema3"."phil's tbl1_log""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.phil's tbl1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3"."phil's tbl1""
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
 emaj_assign_tables 
--------------------
                  3
(1 row)

  select emaj.emaj_assign_sequences('phil''s schema3','.*','','grp_tmp_3');
WARNING:  _create_seq: The sequence phil's schema3.myTbl2\_col21_seq is linked to table phil's schema3.myTbl2\ but this table belong to another tables group (phil's group#3",).
CONTEXT:  SQL statement "SELECT emaj._create_seq(v_schema, v_sequence, v_group, v_timeId)"
PL/pgSQL function emaj._add_seq(text,text,text,boolean,bigint,text) line 9 at PERFORM
SQL statement "SELECT emaj._add_seq(v_schema, v_oneSequence, v_group, v_groupIsLogging, v_timeId, v_function)"
PL/pgSQL function emaj._assign_sequences(text,text[],text,text,boolean,boolean) line 93 at PERFORM
PL/pgSQL function emaj.emaj_assign_sequences(text,text,text,text,text) line 23 at RETURN
 emaj_assign_sequences 
-----------------------
                     2
(1 row)

  select emaj.emaj_assign_tables('myschema4','.*','','grp_tmp_4');
WARNING:  _assign_tables: Some tables without PRIMARY KEY (mytblp) are not selected.
CONTEXT:  PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mypartp3_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp3_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp3" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp3"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp3" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp3"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mypartp2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mypartp2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mypartp2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mypartp2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mytblc1_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc1_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc1" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc1"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mytblc2_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblc2_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblc2" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblc2"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  table "mytblm_log" does not exist, skipping
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_myschema4.mytblm_log"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 80 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_log_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "myschema4.mytblm" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON myschema4.mytblm"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
WARNING:  _create_tbl: The table "myschema4.mytblm" has triggers (mytblm_insert_trigger). They will be automatically disabled during E-Maj rollback operations, unless they have been recorded into the list of triggers that may be kept enabled, with the emaj_ignore_app_trigger() function.
CONTEXT:  SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_tables(text,text,text,text,jsonb,text) line 23 at RETURN
 emaj_assign_tables 
--------------------
                  5
(1 row)

  select emaj.emaj_assign_sequences('myschema4','.*','','grp_tmp_4');
WARNING:  _create_seq: The sequence myschema4.mytblp_col3_seq is linked to table myschema4.mytblp but this table does not belong to any tables group.
CONTEXT:  SQL statement "SELECT emaj._create_seq(v_schema, v_sequence, v_group, v_timeId)"
PL/pgSQL function emaj._add_seq(text,text,text,boolean,bigint,text) line 9 at PERFORM
SQL statement "SELECT emaj._add_seq(v_schema, v_oneSequence, v_group, v_groupIsLogging, v_timeId, v_function)"
PL/pgSQL function emaj._assign_sequences(text,text[],text,text,boolean,boolean) line 93 at PERFORM
PL/pgSQL function emaj.emaj_assign_sequences(text,text,text,text,text) line 23 at RETURN
 emaj_assign_sequences 
-----------------------
                     1
(1 row)

  select emaj.emaj_ignore_app_trigger('ADD','myschema4','mytblm','mytblm_insert_trigger');
 emaj_ignore_app_trigger 
-------------------------
                       1
(1 row)

commit;
select emaj.emaj_start_group('grp_tmp_3','Start');
 emaj_start_group 
------------------
                5
(1 row)

select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk1');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

-- perform some changes and set marks
insert into "phil's schema3".mytbl4 (col41)
  select i from generate_series(3,8) i;
delete from "phil's schema3"."myTbl2\";
insert into "phil's schema3"."myTbl2\" (col22,col23)
  select 'After Mk1','12-31-2020' from generate_series(1,3);
select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk2');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

insert into "phil's schema3"."myTbl2\" (col22,col23)
  select 'After Mk2','12-31-2030' from generate_series(1,3);
select nextval(E'"phil''s schema3"."phil''s seq\\1"');
 nextval 
---------
    1002
(1 row)

insert into myschema4.mytblm
  select '2006-06-30'::date + ('1 year'::interval) * i, i, 'After Mk2'
    from generate_series(0,9) i;
select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk3');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

delete from myschema4.mytblm
  where col1 = '2006-06-30';
update myschema4.mytblm set col3 = 'After Mk2 and updated after Mk3'
  where col1 > '2013-01-01';
-- rollback to the previous mark (old syntax)
select emaj.emaj_rollback_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk3');
 emaj_rollback_groups 
----------------------
                    5
(1 row)

-- change some priority and log tablespaces
select emaj.emaj_modify_tables('phil''s schema3','.*tbl1','','{"priority":-1,"log_data_tablespace":"tsp log''2"}'::jsonb,'Modify 1 table');
 emaj_modify_tables 
--------------------
                  1
(1 row)

-- move all tables and sequences into grp_tmp and set a common mark
select emaj.emaj_move_tables('phil''s schema3','.*','','grp_tmp','Move_tbl_3_to_tmp');
 emaj_move_tables 
------------------
                3
(1 row)

select emaj.emaj_move_sequences('phil''s schema3','.*','','grp_tmp','Move_seq_3_to_tmp');
 emaj_move_sequences 
---------------------
                   2
(1 row)

select emaj.emaj_move_tables('myschema4','.*','','grp_tmp','Move_tbl_4_to_tmp');
 emaj_move_tables 
------------------
                5
(1 row)

select emaj.emaj_move_sequences('myschema4','.*','','grp_tmp','Move_seq_4_to_tmp');
 emaj_move_sequences 
---------------------
                   1
(1 row)

select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk4');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

-- perform some other changes and set marks
update "phil's schema3".mytbl4 set col42 = 'Updated after Mk4'
  where col41 > 5;
delete from "phil's schema3"."myTbl2\"
  where col21 = 4;
delete from "phil's schema3".mytbl4
  where col41 = 4;
select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk5');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

insert into myschema4.mytblm
  select '2017-06-30'::date + ('1 year'::interval) * i, 5, 'After Mk5'
    from generate_series(0,3) i;
select nextval(E'"phil''s schema3"."phil''s seq\\1"');
 nextval 
---------
    1003
(1 row)

select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk6');
 emaj_set_mark_groups 
----------------------
                   11
(1 row)

update myschema4.mytblm set col3 = 'After Mk5 and updated after Mk6'
  where col1 > '2017-01-01';
-- remove the table mytblm and the sequence phil's seq\1
select emaj.emaj_remove_table('myschema4','mytblc1','Remove_mytblc1');
 emaj_remove_table 
-------------------
                 1
(1 row)

select emaj.emaj_remove_sequence('phil''s schema3','phil''s seq\1','Remove_myseq1');
 emaj_remove_sequence 
----------------------
                    1
(1 row)

-- logged rollback to Mk5
select rlbk_severity, regexp_replace(rlbk_message,E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g')
  from emaj.emaj_logged_rollback_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk5', true);
 rlbk_severity |                                                regexp_replace                                                 
---------------+---------------------------------------------------------------------------------------------------------------
 Notice        | 2 / 7 tables effectively processed.
 Notice        | 2 sequences processed.
 Warning       | The table myschema4.mytblc1 has been left unchanged (not in group anymore since <timestamp>)
 Warning       | The sequence "phil's schema3"."phil's seq\1" has been left unchanged (not in group anymore since <timestamp>)
(4 rows)

select emaj.emaj_rename_mark_group(group_name,'EMAJ_LAST_MARK','End_logged_rollback')
  from (values ('grp_tmp_3'),('grp_tmp_4'),('grp_tmp')) as t(group_name);
 emaj_rename_mark_group 
------------------------
 
 
 
(3 rows)

-- perform some other changes and set marks
delete from myschema4.mytblm
  where col1 = '2018-06-30';
select emaj.emaj_set_mark_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk7');
 emaj_set_mark_groups 
----------------------
                    9
(1 row)

delete from mySchema4.mytblm;
-- consolidate the logged rollback
select * from emaj.emaj_get_consolidable_rollbacks() order by 1,2;
 cons_group | cons_target_rlbk_mark_name | cons_target_rlbk_mark_time_id | cons_end_rlbk_mark_name | cons_end_rlbk_mark_time_id | cons_rows | cons_marks 
------------+----------------------------+-------------------------------+-------------------------+----------------------------+-----------+------------
 grp_tmp    | Mk5                        |                         10147 | End_logged_rollback     |                      10152 |        12 |          4
 grp_tmp_3  | Mk5                        |                         10147 | End_logged_rollback     |                      10152 |         0 |          2
 grp_tmp_4  | Mk5                        |                         10147 | End_logged_rollback     |                      10152 |         0 |          2
(3 rows)

select emaj.emaj_consolidate_rollback_group('grp_tmp','End_logged_rollback');
 emaj_consolidate_rollback_group 
---------------------------------
                               4
(1 row)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_rows
  from emaj.emaj_log_stat_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk1',null)
  order by stat_first_mark_datetime, stat_schema, stat_table;
 stat_group |  stat_schema   | stat_table  |  stat_first_mark  |  stat_last_mark   | stat_rows 
------------+----------------+-------------+-------------------+-------------------+-----------
 grp_tmp_4  | myschema4      | mypartp2    | Mk1               | Move_tbl_4_to_tmp |         0
 grp_tmp_4  | myschema4      | mypartp3    | Mk1               | Move_tbl_4_to_tmp |         0
 grp_tmp_4  | myschema4      | mytblc1     | Mk1               | Move_tbl_4_to_tmp |         4
 grp_tmp_4  | myschema4      | mytblc2     | Mk1               | Move_tbl_4_to_tmp |         6
 grp_tmp_4  | myschema4      | mytblm      | Mk1               | Move_tbl_4_to_tmp |         0
 grp_tmp_3  | phil's schema3 | myTbl2\     | Mk1               | Move_tbl_3_to_tmp |         8
 grp_tmp_3  | phil's schema3 | mytbl4      | Mk1               | Move_tbl_3_to_tmp |         6
 grp_tmp_3  | phil's schema3 | phil's tbl1 | Mk1               | Move_tbl_3_to_tmp |         0
 grp_tmp    | phil's schema3 | myTbl2\     | Move_tbl_3_to_tmp |                   |         1
 grp_tmp    | phil's schema3 | mytbl4      | Move_tbl_3_to_tmp |                   |         4
 grp_tmp    | phil's schema3 | phil's tbl1 | Move_tbl_3_to_tmp |                   |         0
 grp_tmp    | myschema4      | mypartp2    | Move_tbl_4_to_tmp |                   |         0
 grp_tmp    | myschema4      | mypartp3    | Move_tbl_4_to_tmp |                   |         0
 grp_tmp    | myschema4      | mytblc1     | Move_tbl_4_to_tmp | [deleted mark]    |         0
 grp_tmp    | myschema4      | mytblc2     | Move_tbl_4_to_tmp |                   |         6
 grp_tmp    | myschema4      | mytblm      | Move_tbl_4_to_tmp |                   |         0
(16 rows)

select mark_time_id, regexp_replace(mark_name,E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'), mark_group,
       mark_is_deleted, mark_log_rows_before_next
  from emaj.emaj_mark where mark_group in ('grp_tmp_3','grp_tmp_4','grp_tmp')
  order by 1,2,3;
 mark_time_id |   regexp_replace    | mark_group | mark_is_deleted | mark_log_rows_before_next 
--------------+---------------------+------------+-----------------+---------------------------
        10131 | Start               | grp_tmp    | f               |                         0
        10131 | Start               | grp_tmp_4  | f               |                         0
        10134 | ASSIGN_%            | grp_tmp_4  | f               |                         0
        10135 | ASSIGN_%            | grp_tmp_4  | f               |                         0
        10136 | Start               | grp_tmp_3  | f               |                         0
        10137 | Mk1                 | grp_tmp    | f               |                         0
        10137 | Mk1                 | grp_tmp_3  | f               |                        11
        10137 | Mk1                 | grp_tmp_4  | f               |                         0
        10138 | Mk2                 | grp_tmp    | f               |                         0
        10138 | Mk2                 | grp_tmp_3  | f               |                         3
        10138 | Mk2                 | grp_tmp_4  | f               |                        10
        10139 | Mk3                 | grp_tmp    | f               |                         0
        10139 | Mk3                 | grp_tmp_3  | f               |                         0
        10139 | Mk3                 | grp_tmp_4  | f               |                         0
        10141 | Modify 1 table      | grp_tmp_3  | f               |                         0
        10142 | Move_tbl_3_to_tmp   | grp_tmp    | f               |                         0
        10142 | Move_tbl_3_to_tmp   | grp_tmp_3  | f               |                         0
        10143 | Move_seq_3_to_tmp   | grp_tmp    | f               |                         0
        10143 | Move_seq_3_to_tmp   | grp_tmp_3  | f               |                         0
        10144 | Move_tbl_4_to_tmp   | grp_tmp    | f               |                         0
        10144 | Move_tbl_4_to_tmp   | grp_tmp_4  | f               |                         0
        10145 | Move_seq_4_to_tmp   | grp_tmp    | f               |                         0
        10145 | Move_seq_4_to_tmp   | grp_tmp_4  | f               |                         0
        10146 | Mk4                 | grp_tmp    | f               |                         5
        10146 | Mk4                 | grp_tmp_3  | f               |                         0
        10146 | Mk4                 | grp_tmp_4  | f               |                         0
        10147 | Mk5                 | grp_tmp    | f               |                         0
        10147 | Mk5                 | grp_tmp_3  | f               |                         0
        10147 | Mk5                 | grp_tmp_4  | f               |                         0
        10148 | Mk6                 | grp_tmp_3  | f               |                         0
        10148 | Mk6                 | grp_tmp_4  | f               |                         0
        10151 | RLBK_Mk5_%_START    | grp_tmp_3  | f               |                         0
        10151 | RLBK_Mk5_%_START    | grp_tmp_4  | f               |                         0
        10152 | End_logged_rollback | grp_tmp    | f               |                         0
        10152 | End_logged_rollback | grp_tmp_3  | f               |                         0
        10152 | End_logged_rollback | grp_tmp_4  | f               |                         0
        10153 | Mk7                 | grp_tmp    | f               |                          
        10153 | Mk7                 | grp_tmp_3  | f               |                          
        10153 | Mk7                 | grp_tmp_4  | f               |                          
(39 rows)

-- generate sql script
\! rm -Rf /tmp/emaj_test/sql_scripts
\! mkdir /tmp/emaj_test/sql_scripts
select emaj.emaj_gen_sql_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk1',null,'/tmp/emaj_test/sql_scripts/allGroups.sql');
NOTICE:  drop cascades to view emaj_sql_script
CONTEXT:  SQL statement "DROP TABLE IF EXISTS emaj_temp_script CASCADE"
PL/pgSQL function emaj._gen_sql_groups(text[],boolean,text,text,text,text[]) line 110 at SQL statement
PL/pgSQL function emaj.emaj_gen_sql_groups(text[],text,text,text,text[]) line 14 at RETURN
 emaj_gen_sql_groups 
---------------------
                  26
(1 row)

--  \! grep -iP '(insert|update|delete|alter)' /tmp/emaj_test/sql_scripts/allGroups.sql
\! rm -Rf /tmp/emaj_test/sql_scripts
-- revert the priority and log tablespaces changes
select emaj.emaj_modify_tables('phil''s schema3','.*tbl1','','{"priority":null,"log_data_tablespace":null}'::jsonb,'revert changes for 1 table');
 emaj_modify_tables 
--------------------
                  1
(1 row)

-- rollback to a mark set before the tables and sequences move
select rlbk_severity, regexp_replace(rlbk_message,E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g')
  from emaj.emaj_rollback_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk3', false);
ERROR:  _rlbk_check: This rollback operation would cross some previously executed alter group operations, which is not allowed by the current function parameters.
CONTEXT:  SQL statement "SELECT emaj._rlbk_check(v_groupNames, v_mark, v_isAlterGroupAllowed, FALSE)"
PL/pgSQL function emaj._rlbk_init(text[],text,boolean,integer,boolean,boolean) line 23 at SQL statement
SQL statement "SELECT emaj._rlbk_init(v_groupNames, v_mark, v_isLoggedRlbk, 1, v_multiGroup, v_isAlterGroupAllowed)"
PL/pgSQL function emaj._rlbk_groups(text[],text,boolean,boolean,boolean) line 25 at SQL statement
PL/pgSQL function emaj.emaj_rollback_groups(text[],text,boolean) line 8 at RETURN QUERY
select rlbk_severity, regexp_replace(rlbk_message,E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g')
  from emaj.emaj_rollback_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk3',true);
 rlbk_severity |                                                         regexp_replace                                                         
---------------+--------------------------------------------------------------------------------------------------------------------------------
 Notice        | 3 / 7 tables effectively processed.
 Notice        | 2 sequences processed.
 Warning       | The table "phil's schema3"."myTbl2\" has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table "phil's schema3".mytbl4 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table "phil's schema3"."phil's tbl1" has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The sequence "phil's schema3"."myTbl2\_col21_seq" has only been rolled back to its latest group attachment state (<timestamp>)
 Warning       | The sequence "phil's schema3"."phil's seq\1" has only been rolled back to its latest group attachment state (<timestamp>)
 Warning       | The table myschema4.mypartp2 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table myschema4.mytblc1 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table myschema4.mytblc2 has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The table myschema4.mytblm has only been rolled back to its latest group attachment (<timestamp>)
 Warning       | The sequence myschema4.mytblp_col3_seq has only been rolled back to its latest group attachment state (<timestamp>)
 Warning       | Tables group change not rolled back: log data tablespace for "phil's schema3"."phil's tbl1"
 Warning       | Tables group change not rolled back: E-Maj priority for "phil's schema3"."phil's tbl1"
(15 rows)

select stat_group, stat_schema, stat_table, stat_first_mark, stat_last_mark, stat_rows
  from emaj.emaj_log_stat_groups('{"grp_tmp_3","grp_tmp_4","grp_tmp"}','Mk1',null)
  order by stat_first_mark_datetime, stat_schema, stat_table;
 stat_group |  stat_schema   | stat_table  | stat_first_mark | stat_last_mark | stat_rows 
------------+----------------+-------------+-----------------+----------------+-----------
 grp_tmp_4  | myschema4      | mypartp2    | Mk1             | [deleted mark] |         0
 grp_tmp_4  | myschema4      | mypartp3    | Mk1             | [deleted mark] |         0
 grp_tmp_4  | myschema4      | mytblc1     | Mk1             | [deleted mark] |         4
 grp_tmp_4  | myschema4      | mytblc2     | Mk1             | [deleted mark] |         6
 grp_tmp_4  | myschema4      | mytblm      | Mk1             | [deleted mark] |         0
 grp_tmp_3  | phil's schema3 | myTbl2\     | Mk1             | [deleted mark] |         8
 grp_tmp_3  | phil's schema3 | mytbl4      | Mk1             | [deleted mark] |         6
 grp_tmp_3  | phil's schema3 | phil's tbl1 | Mk1             | [deleted mark] |         0
 grp_tmp    | phil's schema3 | myTbl2\     | [deleted mark]  |                |         0
 grp_tmp    | phil's schema3 | mytbl4      | [deleted mark]  |                |         0
 grp_tmp    | phil's schema3 | phil's tbl1 | [deleted mark]  |                |         0
 grp_tmp    | myschema4      | mypartp2    | [deleted mark]  |                |         0
 grp_tmp    | myschema4      | mypartp3    | [deleted mark]  |                |         0
 grp_tmp    | myschema4      | mytblc1     | [deleted mark]  | [deleted mark] |         0
 grp_tmp    | myschema4      | mytblc2     | [deleted mark]  |                |         0
 grp_tmp    | myschema4      | mytblm      | [deleted mark]  |                |         0
(16 rows)

-- delete all marks before Mk3
select emaj.emaj_delete_before_mark_group(group_name,'Mk3')
  from (values ('grp_tmp_3'),('grp_tmp_4'),('grp_tmp')) as t(group_name);
 emaj_delete_before_mark_group 
-------------------------------
                             3
                             5
                             3
(3 rows)

-- test a remove_table following log sequence deletion
select emaj.emaj_disable_protection_by_event_triggers();
 emaj_disable_protection_by_event_triggers 
-------------------------------------------
                                         3
(1 row)

reset role;
drop sequence "emaj_phil's schema3".mytbl4_log_seq;
set role emaj_regression_tests_adm_user;
select emaj.emaj_enable_protection_by_event_triggers();
 emaj_enable_protection_by_event_triggers 
------------------------------------------
                                        3
(1 row)

select * from emaj.emaj_verify_all();
                                      emaj_verify_all                                      
-------------------------------------------------------------------------------------------
 In group "grp_tmp", the log sequence "emaj_phil's schema3"."mytbl4_log_seq" is not found.
(1 row)

--     a removal while the group is LOGGING fails
select emaj.emaj_remove_table('phil''s schema3','mytbl4');
ERROR:  relation "emaj_phil's schema3.mytbl4_log_seq" does not exist
LINE 1: ...ast_value ELSE last_value - increment_by END FROM "emaj_phil...
                                                             ^
QUERY:  SELECT CASE WHEN is_called THEN last_value ELSE last_value - increment_by END FROM "emaj_phil's schema3".mytbl4_log_seq
CONTEXT:  PL/pgSQL function emaj._log_stat_tbl(emaj.emaj_relation,bigint,bigint) line 29 at EXECUTE
SQL statement "WITH stat_group1 AS (                             -- for each group, time id of the last active mark
      SELECT mark_group, max(mark_time_id) AS last_mark_time_id
        FROM emaj.emaj_mark
        WHERE NOT mark_is_deleted
        GROUP BY mark_group),
         stat_group2 AS (                             -- compute the number of log rows for all tables currently belonging to these groups
      SELECT mark_group, last_mark_time_id, coalesce(
          (SELECT sum(emaj._log_stat_tbl(emaj_relation, greatest(last_mark_time_id, lower(rel_time_range)),NULL))
             FROM emaj.emaj_relation
             WHERE rel_group = mark_group AND rel_kind = 'r' AND upper_inf(rel_time_range)), 0) AS mark_stat
        FROM stat_group1 )
    UPDATE emaj.emaj_mark m SET mark_log_rows_before_next = mark_stat
      FROM stat_group2 s
      WHERE s.mark_group = m.mark_group AND s.last_mark_time_id = m.mark_time_id"
PL/pgSQL function emaj._set_mark_groups(text[],text,boolean,boolean,text,bigint,text) line 46 at SQL statement
SQL statement "SELECT emaj._set_mark_groups(v_loggingGroups, v_markName, FALSE, TRUE, NULL, v_timeId)"
PL/pgSQL function emaj._remove_tables(text,text[],text,boolean,boolean) line 74 at PERFORM
PL/pgSQL function emaj.emaj_remove_table(text,text,text) line 6 at RETURN
select emaj.emaj_force_stop_group('grp_tmp');
 emaj_force_stop_group 
-----------------------
                     9
(1 row)

select emaj.emaj_remove_table('phil''s schema3','mytbl4');
NOTICE:  sequence "mytbl4_log_seq" does not exist, skipping
CONTEXT:  SQL statement "DROP SEQUENCE IF EXISTS "emaj_phil's schema3".mytbl4_log_seq"
PL/pgSQL function emaj._drop_tbl(emaj.emaj_relation,bigint) line 28 at EXECUTE
SQL statement "SELECT emaj._drop_tbl(emaj.emaj_relation.*, v_timeId) FROM emaj.emaj_relation
        WHERE rel_schema = v_schema AND rel_tblseq = v_table AND upper_inf(rel_time_range)"
PL/pgSQL function emaj._remove_tbl(text,text,text,boolean,bigint,text) line 21 at PERFORM
SQL statement "SELECT emaj._remove_tbl(v_schema, v_oneTable, v_groupName, v_groupIsLogging, v_timeId, v_function)"
PL/pgSQL function emaj._remove_tables(text,text[],text,boolean,boolean) line 87 at PERFORM
PL/pgSQL function emaj.emaj_remove_table(text,text,text) line 6 at RETURN
 emaj_remove_table 
-------------------
                 1
(1 row)

select emaj.emaj_assign_table('phil''s schema3','mytbl4','grp_tmp');
NOTICE:  trigger "emaj_log_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_log_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_log_trigger(text,text,text,text) line 9 at EXECUTE
SQL statement "SELECT emaj._create_log_trigger(v_fullTableName, v_logTableName, v_sequenceName, v_logFnctName)"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 127 at PERFORM
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_table(text,text,text,jsonb,text) line 7 at RETURN
NOTICE:  trigger "emaj_trunc_trg" for relation "phil's schema3.mytbl4" does not exist, skipping
CONTEXT:  SQL statement "DROP TRIGGER IF EXISTS emaj_trunc_trg ON "phil's schema3".mytbl4"
PL/pgSQL function emaj._create_tbl(text,text,text,integer,text,text,bigint,boolean,boolean) line 135 at EXECUTE
SQL statement "SELECT emaj._create_tbl(v_schema, v_table, v_group, v_priority, v_logDatTsp, v_logIdxTsp,
                             v_timeId, v_groupIsRollbackable, v_groupIsLogging)"
PL/pgSQL function emaj._add_tbl(text,text,text,integer,text,text,boolean,bigint,text) line 19 at PERFORM
SQL statement "SELECT emaj._add_tbl(v_schema, v_oneTable, v_group, v_priority, v_logDatTsp, v_logIdxTsp, v_groupIsLogging,
                              v_timeId, v_function)"
PL/pgSQL function emaj._assign_tables(text,text[],text,jsonb,text,boolean,boolean) line 237 at PERFORM
PL/pgSQL function emaj.emaj_assign_table(text,text,text,jsonb,text) line 7 at RETURN
 emaj_assign_table 
-------------------
                 1
(1 row)

select * from emaj.emaj_verify_all();
  emaj_verify_all  
-------------------
 No error detected
(1 row)

select emaj.emaj_start_group('grp_tmp','Group restart');
 emaj_start_group 
------------------
                9
(1 row)

-- reset groups at their initial state
select emaj.emaj_stop_group('grp_tmp_3');
 emaj_stop_group 
-----------------
               0
(1 row)

select emaj.emaj_drop_group('grp_tmp_3');
 emaj_drop_group 
-----------------
               0
(1 row)

select emaj.emaj_set_mark_group('grp_tmp_4','Last_mark');
 emaj_set_mark_group 
---------------------
                   0
(1 row)

select emaj.emaj_force_drop_group('grp_tmp_4');
 emaj_force_drop_group 
-----------------------
                     0
(1 row)

select emaj.emaj_stop_group('grp_tmp');
 emaj_stop_group 
-----------------
               9
(1 row)

select emaj.emaj_drop_group('grp_tmp');
 emaj_drop_group 
-----------------
               9
(1 row)

select * from emaj.emaj_rel_hist order by 1,2,3;
  relh_schema   |                           relh_tblseq                           | relh_time_range |    relh_group    | relh_kind 
----------------+-----------------------------------------------------------------+-----------------+------------------+-----------
 myschema4      | mypartp1                                                        | [10044,10047)   | myGroup4         | r
 myschema4      | mypartp1                                                        | [10099,10111)   | myGroup4         | r
 myschema4      | mypartp2                                                        | [10044,10047)   | myGroup4         | r
 myschema4      | mypartp2                                                        | [10099,10117)   | myGroup4         | r
 myschema4      | mypartp2                                                        | [10134,10144)   | grp_tmp_4        | r
 myschema4      | mypartp2                                                        | [10144,10165)   | grp_tmp          | r
 myschema4      | mypartp3                                                        | [10110,10117)   | myGroup4         | r
 myschema4      | mypartp3                                                        | [10134,10144)   | grp_tmp_4        | r
 myschema4      | mypartp3                                                        | [10144,10165)   | grp_tmp          | r
 myschema4      | mytblc1                                                         | [10044,10047)   | myGroup4         | r
 myschema4      | mytblc1                                                         | [10099,10117)   | myGroup4         | r
 myschema4      | mytblc1                                                         | [10134,10144)   | grp_tmp_4        | r
 myschema4      | mytblc1                                                         | [10144,10149)   | grp_tmp          | r
 myschema4      | mytblc2                                                         | [10044,10047)   | myGroup4         | r
 myschema4      | mytblc2                                                         | [10099,10117)   | myGroup4         | r
 myschema4      | mytblc2                                                         | [10134,10144)   | grp_tmp_4        | r
 myschema4      | mytblc2                                                         | [10144,10165)   | grp_tmp          | r
 myschema4      | mytblm                                                          | [10044,10047)   | myGroup4         | r
 myschema4      | mytblm                                                          | [10099,10117)   | myGroup4         | r
 myschema4      | mytblm                                                          | [10134,10144)   | grp_tmp_4        | r
 myschema4      | mytblm                                                          | [10144,10165)   | grp_tmp          | r
 myschema4      | mytblp_col3_seq                                                 | [10110,10111)   | myGroup4         | S
 myschema4      | mytblp_col3_seq                                                 | [10135,10145)   | grp_tmp_4        | S
 myschema4      | mytblp_col3_seq                                                 | [10145,10165)   | grp_tmp          | S
 myschema5      | myoidstbl                                                       | [10118,10127)   | phil's group#3", | r
 myschema5      | myunloggedtbl                                                   | [10118,10127)   | phil's group#3", | r
 phil's schema3 | myTbl2\                                                         | [10039,10046)   | phil's group#3", | r
 phil's schema3 | myTbl2\                                                         | [10048,10066)   | phil's group#3", | r
 phil's schema3 | myTbl2\                                                         | [10118,10127)   | phil's group#3", | r
 phil's schema3 | myTbl2\                                                         | [10132,10142)   | grp_tmp_3        | r
 phil's schema3 | myTbl2\                                                         | [10142,10165)   | grp_tmp          | r
 phil's schema3 | myTbl2\_col21_seq                                               | [10040,10046)   | phil's group#3", | S
 phil's schema3 | myTbl2\_col21_seq                                               | [10048,10066)   | phil's group#3", | S
 phil's schema3 | myTbl2\_col21_seq                                               | [10118,10127)   | phil's group#3", | S
 phil's schema3 | myTbl2\_col21_seq                                               | [10133,10143)   | grp_tmp_3        | S
 phil's schema3 | myTbl2\_col21_seq                                               | [10143,10165)   | grp_tmp          | S
 phil's schema3 | mytbl4                                                          | [10118,10120)   | phil's group#3", | r
 phil's schema3 | mytbl4                                                          | [10121,10122)   | phil's group#3", | r
 phil's schema3 | mytbl4                                                          | [10123,10124)   | phil's group#3", | r
 phil's schema3 | mytbl4                                                          | [10125,10127)   | phil's group#3", | r
 phil's schema3 | mytbl4                                                          | [10132,10142)   | grp_tmp_3        | r
 phil's schema3 | mytbl4                                                          | [10142,10157)   | grp_tmp          | r
 phil's schema3 | mytbl4                                                          | [10158,10165)   | grp_tmp          | r
 phil's schema3 | phil's seq\1                                                    | [10040,10046)   | phil's group#3", | S
 phil's schema3 | phil's seq\1                                                    | [10048,10066)   | phil's group#3", | S
 phil's schema3 | phil's seq\1                                                    | [10118,10124)   | phil's group#3", | S
 phil's schema3 | phil's seq\1                                                    | [10125,10127)   | phil's group#3", | S
 phil's schema3 | phil's seq\1                                                    | [10133,10143)   | grp_tmp_3        | S
 phil's schema3 | phil's seq\1                                                    | [10143,10150)   | grp_tmp          | S
 phil's schema3 | phil's tbl1                                                     | [10039,10041)   | phil's group#3", | r
 phil's schema3 | phil's tbl1                                                     | [10041,10045)   | phil's group#3", | r
 phil's schema3 | phil's tbl1                                                     | [10045,10046)   | phil's group#3", | r
 phil's schema3 | phil's tbl1                                                     | [10048,10061)   | phil's group#3", | r
 phil's schema3 | phil's tbl1                                                     | [10118,10127)   | phil's group#3", | r
 phil's schema3 | phil's tbl1                                                     | [10132,10142)   | grp_tmp_3        | r
 phil's schema3 | phil's tbl1                                                     | [10142,10165)   | grp_tmp          | r
 phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name | [10061,10066)   | phil's group#3", | r
(57 rows)

select * from emaj.emaj_relation where rel_schema in ('phil''s schema3','myschema4');
 rel_schema | rel_tblseq | rel_time_range | rel_group | rel_kind | rel_priority | rel_log_schema | rel_log_table | rel_log_dat_tsp | rel_log_index | rel_log_idx_tsp | rel_log_sequence | rel_log_function | rel_sql_columns | rel_sql_pk_columns | rel_sql_pk_eq_conditions | rel_log_seq_last_value | rel_emaj_verb_attnum 
------------+------------+----------------+-----------+----------+--------------+----------------+---------------+-----------------+---------------+-----------------+------------------+------------------+-----------------+--------------------+--------------------------+------------------------+----------------------
(0 rows)

-----------------------------
-- test end: check, reset history and force sequences id
-----------------------------
-- first set all rollback events state
select emaj.emaj_cleanup_rollback_state();
 emaj_cleanup_rollback_state 
-----------------------------
                           0
(1 row)

-- check rollback related tables
select rlbk_id, rlbk_groups, rlbk_mark, rlbk_time_id, rlbk_is_logged, rlbk_is_alter_group_allowed, rlbk_nb_session, rlbk_nb_table,
       rlbk_nb_sequence, rlbk_eff_nb_table, rlbk_status, rlbk_begin_hist_id, rlbk_dblink_schema, rlbk_is_dblink_used,
       case when rlbk_end_datetime is null then 'null' else '[ts]' end as "end_datetime",
       regexp_replace(array_to_string(rlbk_messages,'#'),E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g')
  from emaj.emaj_rlbk where rlbk_id >= 10000 order by rlbk_id;
 rlbk_id |          rlbk_groups          |      rlbk_mark       | rlbk_time_id | rlbk_is_logged | rlbk_is_alter_group_allowed | rlbk_nb_session | rlbk_nb_table | rlbk_nb_sequence | rlbk_eff_nb_table | rlbk_status | rlbk_begin_hist_id | rlbk_dblink_schema | rlbk_is_dblink_used | end_datetime |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    regexp_replace                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
---------+-------------------------------+----------------------+--------------+----------------+-----------------------------+-----------------+---------------+------------------+-------------------+-------------+--------------------+--------------------+---------------------+--------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   10000 | {myGroup2}                    | M2                   |        10013 | t              | f                           |               1 |             6 |                2 |                 3 | COMMITTED   |              10062 |                    | f                   | [ts]         | Notice: 3 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10001 | {myGroup2}                    | M3                   |        10015 | t              | f                           |               1 |             6 |                2 |                 3 | COMMITTED   |              10081 |                    | f                   | [ts]         | Notice: 3 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10002 | {myGroup1}                    | M2                   |        10017 | f              | f                           |               1 |             5 |                2 |                 2 | COMMITTED   |              10100 | public             | t                   | [ts]         | Notice: 2 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10003 | {myGroup2}                    | M2                   |        10021 | t              | f                           |               1 |             6 |                2 |                 3 | COMMITTED   |              10128 | public             | t                   | [ts]         | Notice: 3 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10004 | {myGroup2}                    | M3                   |        10023 | f              | f                           |               1 |             6 |                2 |                 3 | COMMITTED   |              10148 | public             | t                   | [ts]         | Notice: 3 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10005 | {myGroup1}                    | M5                   |        10024 | f              | f                           |               1 |             5 |                2 |                 2 | COMMITTED   |              10170 | public             | t                   | [ts]         | Notice: 2 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10006 | {myGroup1}                    | M4                   |        10025 | t              | t                           |               1 |             5 |                2 |                 3 | COMMITTED   |              10185 | public             | t                   | [ts]         | Notice: 3 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10007 | {myGroup1,myGroup2}           | Multi-1              |        10030 | t              | f                           |               1 |            11 |                4 |                 0 | COMMITTED   |              10236 | public             | t                   | [ts]         | Notice: 0 / 11 tables effectively processed.#Notice: 4 sequences processed.
   10008 | {myGroup1,myGroup2}           | Multi-2              |        10032 | f              | f                           |               1 |            11 |                4 |                 0 | COMMITTED   |              10252 | public             | t                   | [ts]         | Notice: 0 / 11 tables effectively processed.#Notice: 4 sequences processed.
   10009 | {myGroup1,myGroup2}           | Multi-1              |        10033 | f              | f                           |               1 |            11 |                4 |                 0 | COMMITTED   |              10268 | public             | t                   | [ts]         | Notice: 0 / 11 tables effectively processed.#Notice: 4 sequences processed.
   10010 | {myGroup2}                    | Multi-2              |        10037 | f              | f                           |               1 |             6 |                2 |                 0 | COMMITTED   |              10304 | public             | t                   | [ts]         | Notice: 0 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10011 | {"phil's group#3\","}         | phil's mark #3       |        10053 | t              | f                           |               1 |             2 |                2 |                 0 | COMMITTED   |              10399 | public             | t                   | [ts]         | Notice: 0 / 2 tables effectively processed.#Notice: 2 sequences processed.
   10012 | {"phil's group#3\","}         | phil's mark #3       |        10055 | f              | f                           |               1 |             2 |                2 |                 0 | COMMITTED   |              10413 | public             | t                   | [ts]         | Notice: 0 / 2 tables effectively processed.#Notice: 2 sequences processed.
   10013 | {myGroup1}                    | Multi-1              |        10056 | f              | f                           |               1 |             5 |                2 |                 1 | COMMITTED   |              10425 | public             | t                   | [ts]         | Notice: 1 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10014 | {myGroup1}                    | Multi-1              |        10057 | f              | f                           |               1 |             5 |                2 |                 0 | ABORTED     |              10451 | public             | t                   | [ts]         | Notice: 0 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10015 | {myGroup2}                    | Multi-1              |        10058 | f              | f                           |               1 |             6 |                2 |                 4 | ABORTED     |              10461 | public             | t                   | [ts]         | Notice: 4 / 6 tables effectively processed.#Notice: 2 sequences processed.
   10016 | {"phil's group#3\","}         | M1_rollbackable      |        10059 | f              | f                           |               1 |             2 |                2 |                 2 | ABORTED     |              10479 | public             | t                   | [ts]         | Notice: 2 / 2 tables effectively processed.#Notice: 2 sequences processed.
   10017 | {"phil's group#3\","}         | M1_after_alter_group |        10064 | f              | f                           |               1 |             2 |                2 |                 1 | COMMITTED   |              10527 | public             | t                   | [ts]         | Notice: 1 / 2 tables effectively processed.#Notice: 2 sequences processed.
   10018 | {myGroup1}                    | MC1                  |        10070 | t              | f                           |               1 |             5 |                2 |                 3 | COMMITTED   |              10568 | public             | t                   | [ts]         | Notice: 3 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10019 | {myGroup1}                    | MC3                  |        10075 | t              | f                           |               1 |             5 |                2 |                 2 | COMMITTED   |              10603 | public             | t                   | [ts]         | Notice: 2 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10020 | {myGroup1}                    | MC8                  |        10080 | t              | f                           |               1 |             5 |                2 |                 2 | COMMITTED   |              10638 | public             | t                   | [ts]         | Notice: 2 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10021 | {myGroup1}                    | MC6                  |        10083 | t              | f                           |               1 |             5 |                2 |                 5 | COMMITTED   |              10663 | public             | t                   | [ts]         | Notice: 5 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10022 | {myGroup1}                    | MC10                 |        10086 | t              | f                           |               1 |             5 |                2 |                 1 | COMMITTED   |              10694 | public             | t                   | [ts]         | Notice: 1 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10023 | {myGroup1}                    | MC10                 |        10089 | t              | f                           |               1 |             5 |                2 |                 2 | COMMITTED   |              10715 | public             | t                   | [ts]         | Notice: 2 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10024 | {myGroup1}                    | MC15                 |        10093 | t              | f                           |               1 |             5 |                2 |                 3 | COMMITTED   |              10744 | public             | t                   | [ts]         | Notice: 3 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10025 | {myGroup1}                    | MC16                 |        10096 | t              | f                           |               1 |             5 |                2 |                 3 | COMMITTED   |              10771 | public             | t                   | [ts]         | Notice: 3 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10026 | {myGroup1}                    | Multi-1              |        10098 | f              | f                           |               1 |             5 |                2 |                 3 | COMMITTED   |              10793 | public             | t                   | [ts]         | Notice: 3 / 5 tables effectively processed.#Notice: 2 sequences processed.
   10027 | {myGroup4}                    | Start                |        10112 | f              | t                           |               1 |             5 |                0 |                 0 | COMMITTED   |              10899 | public             | t                   | [ts]         | Notice: 0 / 5 tables effectively processed.#Warning: The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table myschema4.mypartp1 has been left unchanged (not in group anymore since <timestamp>)#Warning: The sequence myschema4.mytblp_col3_seq has been left unchanged (not in group anymore since <timestamp>)
   10028 | {myGroup4}                    | Before update        |        10114 | t              |                             |               1 |             5 |                0 |                 0 | COMMITTED   |              10917 | public             | t                   | [ts]         | Notice: 0 / 5 tables effectively processed.
   10029 | {grp_tmp,grp_tmp_3,grp_tmp_4} | Mk3                  |        10140 | f              |                             |               1 |             8 |                3 |                 2 | COMMITTED   |              11067 | public             | t                   | [ts]         | Notice: 2 / 8 tables effectively processed.#Notice: 3 sequences processed.
   10030 | {grp_tmp,grp_tmp_3,grp_tmp_4} | Mk5                  |        10151 | t              | t                           |               1 |             7 |                2 |                 2 | COMMITTED   |              11152 | public             | t                   | [ts]         | Notice: 2 / 7 tables effectively processed.#Notice: 2 sequences processed.#Warning: The table myschema4.mytblc1 has been left unchanged (not in group anymore since <timestamp>)#Warning: The sequence "phil's schema3"."phil's seq\1" has been left unchanged (not in group anymore since <timestamp>)
   10031 | {grp_tmp,grp_tmp_3,grp_tmp_4} | Mk3                  |        10155 | f              | t                           |               1 |             7 |                2 |                 3 | COMMITTED   |              11195 | public             | t                   | [ts]         | Notice: 3 / 7 tables effectively processed.#Notice: 2 sequences processed.#Warning: The table "phil's schema3"."myTbl2\" has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table "phil's schema3".mytbl4 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table "phil's schema3"."phil's tbl1" has only been rolled back to its latest group attachment (<timestamp>)#Warning: The sequence "phil's schema3"."myTbl2\_col21_seq" has only been rolled back to its latest group attachment state (<timestamp>)#Warning: The sequence "phil's schema3"."phil's seq\1" has only been rolled back to its latest group attachment state (<timestamp>)#Warning: The table myschema4.mypartp2 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table myschema4.mytblc1 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table myschema4.mytblc2 has only been rolled back to its latest group attachment (<timestamp>)#Warning: The table myschema4.mytblm has only been rolled back to its latest group attachment (<timestamp>)#Warning: The sequence myschema4.mytblp_col3_seq has only been rolled back to its latest group attachment state (<timestamp>)#Warning: Tables group change not rolled back: log data tablespace for "phil's schema3"."phil's tbl1"#Warning: Tables group change not rolled back: E-Maj priority for "phil's schema3"."phil's tbl1"
(32 rows)

select rlbs_rlbk_id, rlbs_session, 
       case when rlbs_end_datetime is null then 'null' else '[ts]' end as "end_datetime"
  from emaj.emaj_rlbk_session where rlbs_rlbk_id >= 10000  order by rlbs_rlbk_id, rlbs_session;
 rlbs_rlbk_id | rlbs_session | end_datetime 
--------------+--------------+--------------
        10000 |            1 | [ts]
        10001 |            1 | [ts]
        10002 |            1 | [ts]
        10003 |            1 | [ts]
        10004 |            1 | [ts]
        10005 |            1 | [ts]
        10006 |            1 | [ts]
        10007 |            1 | [ts]
        10008 |            1 | [ts]
        10009 |            1 | [ts]
        10010 |            1 | [ts]
        10011 |            1 | [ts]
        10012 |            1 | [ts]
        10013 |            1 | [ts]
        10014 |            1 | [ts]
        10015 |            1 | [ts]
        10016 |            1 | [ts]
        10017 |            1 | [ts]
        10018 |            1 | [ts]
        10019 |            1 | [ts]
        10020 |            1 | [ts]
        10021 |            1 | [ts]
        10022 |            1 | [ts]
        10023 |            1 | [ts]
        10024 |            1 | [ts]
        10025 |            1 | [ts]
        10026 |            1 | [ts]
        10027 |            1 | [ts]
        10028 |            1 | [ts]
        10029 |            1 | [ts]
        10030 |            1 | [ts]
        10031 |            1 | [ts]
(32 rows)

select rlbp_rlbk_id, rlbp_step, rlbp_schema, rlbp_table, rlbp_object, rlbp_target_time_id, rlbp_batch_number, rlbp_session,
       rlbp_object_def, rlbp_estimated_quantity, rlbp_estimate_method, rlbp_quantity
  from emaj.emaj_rlbk_plan where rlbp_rlbk_id >= 10000  order by rlbp_rlbk_id, rlbp_step, rlbp_schema, rlbp_table, rlbp_object;
 rlbp_rlbk_id |  rlbp_step  |  rlbp_schema   |                           rlbp_table                            |    rlbp_object    | rlbp_target_time_id | rlbp_batch_number | rlbp_session |                                                                                       rlbp_object_def                                                                                       | rlbp_estimated_quantity | rlbp_estimate_method | rlbp_quantity 
--------------+-------------+----------------+-----------------------------------------------------------------+-------------------+---------------------+-------------------+--------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------+----------------------+---------------
        10000 | DROP_FK     | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10000 | SET_FK_DEF  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10000 | SET_FK_DEF  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10000 | RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |               10011 |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    3 |             2
        10000 | RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |               10011 |                 3 |            1 |                                                                                                                                                                                             |                       1 |                    3 |             1
        10000 | RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |               10011 |                 2 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             3
        10000 | SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    3 |              
        10000 | SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       3 |                    3 |              
        10000 | SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       3 |                    3 |              
        10000 | ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema2.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE                                                                                   |                       2 |                    3 |              
        10000 | CTRL-DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      10 |                    3 |              
        10001 | DROP_FK     | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10001 | SET_FK_DEF  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10001 | SET_FK_DEF  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10001 | RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |               10012 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10001 | RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |               10012 |                 3 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10001 | RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |               10012 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             3
        10001 | SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10001 | SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    2 |              
        10001 | SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    2 |              
        10001 | ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema2.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE                                                                                   |                       2 |                    1 |              
        10001 | CTRL-DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      10 |                    2 |              
        10002 | DIS_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | DIS_LOG_TRG | myschema1      | mytbl4                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10009 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             5
        10002 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10009 |                 1 |            1 |                                                                                                                                                                                             |                       8 |                    3 |             3
        10002 | DELETE_LOG  | myschema1      | mytbl1                                                          |                   |               10009 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             5
        10002 | DELETE_LOG  | myschema1      | mytbl4                                                          |                   |               10009 |                 1 |            1 |                                                                                                                                                                                             |                       8 |                    3 |            12
        10002 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       8 |                    3 |              
        10002 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10002 | ENA_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | ENA_LOG_TRG | myschema1      | mytbl4                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10002 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      12 |                    2 |              
        10003 | DROP_FK     | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10003 | SET_FK_DEF  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10003 | SET_FK_DEF  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10003 | RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |               10011 |                 2 |            1 |                                                                                                                                                                                             |                       8 |                    1 |             2
        10003 | RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |               10011 |                 3 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             1
        10003 | RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |               10011 |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    1 |             3
        10003 | SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       8 |                    2 |              
        10003 | SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    2 |              
        10003 | SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    2 |              
        10003 | ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema2.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE                                                                                   |                       2 |                    1 |              
        10003 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      10 |                    2 |              
        10004 | DIS_LOG_TRG | myschema2      | mytbl4                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | DIS_LOG_TRG | myschema2      | mytbl5                                                          |                   |                     |                 3 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | DIS_LOG_TRG | myschema2      | mytbl6                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | DROP_FK     | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | SET_FK_DEF  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | SET_FK_DEF  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |               10012 |                 2 |            1 |                                                                                                                                                                                             |                       6 |                    1 |             2
        10004 | RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |               10012 |                 3 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             1
        10004 | RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |               10012 |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    1 |             3
        10004 | DELETE_LOG  | myschema2      | mytbl4                                                          |                   |               10012 |                 2 |            1 |                                                                                                                                                                                             |                       6 |                    3 |             6
        10004 | DELETE_LOG  | myschema2      | mytbl5                                                          |                   |               10012 |                 3 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             3
        10004 | DELETE_LOG  | myschema2      | mytbl6                                                          |                   |               10012 |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    3 |             9
        10004 | SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       6 |                    2 |              
        10004 | SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    2 |              
        10004 | SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       9 |                    2 |              
        10004 | ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema2.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE                                                                                   |                       2 |                    1 |              
        10004 | ENA_LOG_TRG | myschema2      | mytbl4                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | ENA_LOG_TRG | myschema2      | mytbl5                                                          |                   |                     |                 3 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | ENA_LOG_TRG | myschema2      | mytbl6                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10004 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      19 |                    2 |              
        10005 | DIS_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | DIS_LOG_TRG | myschema1      | mytbl4                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10019 |                 1 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10005 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10019 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10005 | DELETE_LOG  | myschema1      | mytbl1                                                          |                   |               10019 |                 1 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10005 | DELETE_LOG  | myschema1      | mytbl4                                                          |                   |               10019 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10005 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10005 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10005 | ENA_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | ENA_LOG_TRG | myschema1      | mytbl4                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10005 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      12 |                    2 |              
        10006 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10006 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10006 | RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |               10018 |                 1 |            1 |                                                                                                                                                                                             |                      10 |                    3 |            10
        10006 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10018 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10006 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10018 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10006 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10006 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10006 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       7 |                    2 |              
        10013 | DIS_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10013 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10013 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      20 |                    1 |             0
        10013 | DELETE_LOG  | myschema1      | mytbl1                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      20 |                    1 |             0
        10013 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10013 | ENA_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10013 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       6 |                    2 |              
        10015 | DIS_LOG_TRG | myschema2      | mytbl1                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | DIS_LOG_TRG | myschema2      | mytbl2                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | DIS_LOG_TRG | myschema2      | mytbl5                                                          |                   |                     |                 3 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | DIS_LOG_TRG | myschema2      | mytbl6                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | DROP_FK     | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | SET_FK_DEF  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | SET_FK_DEF  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | RLBK_TABLE  | myschema2      | mytbl1                                                          |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             2
        10015 | RLBK_TABLE  | myschema2      | mytbl2                                                          |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             2
        10015 | RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |               10035 |                 3 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             2
        10015 | RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      17 |                    1 |            14
        10015 | DELETE_LOG  | myschema2      | mytbl1                                                          |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             4
        10015 | DELETE_LOG  | myschema2      | mytbl2                                                          |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             2
        10015 | DELETE_LOG  | myschema2      | mytbl5                                                          |                   |               10035 |                 3 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             4
        10015 | DELETE_LOG  | myschema2      | mytbl6                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      17 |                    1 |            26
        10015 | SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10015 | SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                      17 |                    2 |              
        10015 | SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                      17 |                    2 |              
        10015 | ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema2.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE                                                                                   |                       2 |                    1 |              
        10015 | ENA_LOG_TRG | myschema2      | mytbl1                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | ENA_LOG_TRG | myschema2      | mytbl2                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | ENA_LOG_TRG | myschema2      | mytbl5                                                          |                   |                     |                 3 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | ENA_LOG_TRG | myschema2      | mytbl6                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10015 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      23 |                    2 |              
        10016 | DIS_LOG_TRG | phil's schema3 | myTbl2\                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | DIS_LOG_TRG | phil's schema3 | phil's tbl1                                                     |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | DROP_FK     | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | DROP_FK     | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | RLBK_TABLE  | phil's schema3 | myTbl2\                                                         |                   |               10049 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             2
        10016 | RLBK_TABLE  | phil's schema3 | phil's tbl1                                                     |                   |               10049 |                 1 |            1 |                                                                                                                                                                                             |                      53 |                    3 |            33
        10016 | DELETE_LOG  | phil's schema3 | myTbl2\                                                         |                   |               10049 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             2
        10016 | DELETE_LOG  | phil's schema3 | phil's tbl1                                                     |                   |               10049 |                 1 |            1 |                                                                                                                                                                                             |                      53 |                    3 |            63
        10016 | ADD_FK      | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |                     |                 2 |            1 | FOREIGN KEY (col21) REFERENCES "phil's schema3".mytbl4(col41)                                                                                                                               |                       0 |                    3 |              
        10016 | ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES "phil's schema3"."phil's tbl1"("phil's col11", "phil's col12") ON UPDATE SET NULL ON DELETE CASCADE                                                   |                       0 |                    3 |              
        10016 | ENA_LOG_TRG | phil's schema3 | myTbl2\                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | ENA_LOG_TRG | phil's schema3 | phil's tbl1                                                     |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10016 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      12 |                    2 |              
        10017 | DIS_LOG_TRG | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10017 | DROP_FK     | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10017 | RLBK_TABLE  | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |               10062 |                 1 |            1 |                                                                                                                                                                                             |                       6 |                    3 |            10
        10017 | DELETE_LOG  | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |               10062 |                 1 |            1 |                                                                                                                                                                                             |                       6 |                    3 |            10
        10017 | ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name("phil's col11", "phil's col12") ON UPDATE SET NULL ON DELETE CASCADE |                       0 |                    3 |              
        10017 | ENA_LOG_TRG | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10017 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       6 |                    2 |              
        10018 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10018 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10018 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10018 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10018 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10068 |                 1 |            1 |                                                                                                                                                                                             |                      15 |                    1 |            13
        10018 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10068 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             1
        10018 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10068 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             2
        10018 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10018 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10018 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10018 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    3 |              
        10018 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      11 |                    2 |              
        10019 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10019 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10019 | RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |               10072 |                 1 |            1 |                                                                                                                                                                                             |                      10 |                    1 |            10
        10019 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10072 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             1
        10019 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10019 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10019 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       6 |                    2 |              
        10020 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10020 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10020 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10020 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10079 |                 1 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10020 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10079 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10020 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       1 |                    2 |              
        10020 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10020 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10020 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       8 |                    2 |              
        10021 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |               10077 |                 2 |            1 |                                                                                                                                                                                             |                      10 |                    1 |            10
        10021 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10077 |                 1 |            1 |                                                                                                                                                                                             |                      15 |                    1 |            13
        10021 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10077 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             1
        10021 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10077 |                 3 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10021 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10077 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             1
        10021 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    2 |              
        10021 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10021 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10021 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      13 |                    2 |              
        10022 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10022 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10085 |                 1 |            1 |                                                                                                                                                                                             |                      16 |                    1 |            11
        10022 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10022 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       3 |                    2 |              
        10023 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10023 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10023 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10085 |                 1 |            1 |                                                                                                                                                                                             |                      22 |                    1 |            11
        10023 | RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |               10085 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             1
        10023 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10023 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10023 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       6 |                    2 |              
        10024 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10091 |                 1 |            1 |                                                                                                                                                                                             |                      15 |                    1 |            13
        10024 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10091 |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             1
        10024 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10091 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    1 |             2
        10024 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       2 |                    2 |              
        10024 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10024 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10024 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      11 |                    2 |              
        10025 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10092 |                 1 |            1 |                                                                                                                                                                                             |                      11 |                    1 |            11
        10025 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10092 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    1 |             2
        10025 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10092 |                 2 |            1 |                                                                                                                                                                                             |                       4 |                    1 |             2
        10025 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    2 |              
        10025 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10025 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10025 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      11 |                    2 |              
        10026 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | DIS_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | DIS_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | DIS_LOG_TRG | myschema1      | mytbl2                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | DIS_LOG_TRG | myschema1      | mytbl2b                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | DROP_FK     | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | SET_FK_DEF  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      11 |                    1 |            11
        10026 | RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    1 |             3
        10026 | RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       4 |                    1 |             2
        10026 | DELETE_LOG  | myschema1      | mytbl1                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                      11 |                    1 |            11
        10026 | DELETE_LOG  | myschema1      | mytbl2                                                          |                   |               10035 |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    3 |             4
        10026 | DELETE_LOG  | myschema1      | mytbl2b                                                         |                   |               10035 |                 2 |            1 |                                                                                                                                                                                             |                       4 |                    3 |             4
        10026 | SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |                     |                 1 |            1 |                                                                                                                                                                                             |                       4 |                    2 |              
        10026 | ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |                     |                 1 |            1 | FOREIGN KEY (col44, col45) REFERENCES myschema1.mytbl1(col11, col12) ON UPDATE SET NULL ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED                                                     |                       0 |                    3 |              
        10026 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg1        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | ENA_APP_TRG | myschema1      | mytbl2                                                          | mytbl2trg2        |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | ENA_LOG_TRG | myschema1      | mytbl1                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | ENA_LOG_TRG | myschema1      | mytbl2                                                          |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | ENA_LOG_TRG | myschema1      | mytbl2b                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10026 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      20 |                    2 |              
        10029 | DIS_LOG_TRG | myschema4      | mytblc1                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10029 | DIS_LOG_TRG | myschema4      | mytblc2                                                         |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10029 | RLBK_TABLE  | myschema4      | mytblc1                                                         |                   |               10139 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    3 |             1
        10029 | RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |               10139 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             3
        10029 | DELETE_LOG  | myschema4      | mytblc1                                                         |                   |               10139 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    3 |             1
        10029 | DELETE_LOG  | myschema4      | mytblc2                                                         |                   |               10139 |                 1 |            1 |                                                                                                                                                                                             |                       3 |                    3 |             6
        10029 | ENA_LOG_TRG | myschema4      | mytblc1                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10029 | ENA_LOG_TRG | myschema4      | mytblc2                                                         |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10029 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       8 |                    2 |              
        10030 | RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |               10147 |                 1 |            1 |                                                                                                                                                                                             |                       6 |                    1 |             3
        10030 | RLBK_TABLE  | myschema4      | mytblm                                                          |                   |               10147 |                 2 |            1 |                                                                                                                                                                                             |                       2 |                    3 |             1
        10030 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                       2 |                    2 |              
        10031 | DIS_LOG_TRG | myschema4      | mytblc2                                                         |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | DIS_LOG_TRG | phil's schema3 | myTbl2\                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | DIS_LOG_TRG | phil's schema3 | mytbl4                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | DROP_FK     | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | DROP_FK     | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |               10144 |                 1 |            1 |                                                                                                                                                                                             |                       6 |                    1 |             6
        10031 | RLBK_TABLE  | phil's schema3 | myTbl2\                                                         |                   |               10142 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10031 | RLBK_TABLE  | phil's schema3 | mytbl4                                                          |                   |               10142 |                 2 |            1 |                                                                                                                                                                                             |                       4 |                    3 |             4
        10031 | DELETE_LOG  | myschema4      | mytblc2                                                         |                   |               10144 |                 1 |            1 |                                                                                                                                                                                             |                       6 |                    1 |             6
        10031 | DELETE_LOG  | phil's schema3 | myTbl2\                                                         |                   |               10142 |                 2 |            1 |                                                                                                                                                                                             |                       1 |                    1 |             1
        10031 | DELETE_LOG  | phil's schema3 | mytbl4                                                          |                   |               10142 |                 2 |            1 |                                                                                                                                                                                             |                       4 |                    3 |             7
        10031 | ADD_FK      | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |                     |                 2 |            1 | FOREIGN KEY (col21) REFERENCES "phil's schema3".mytbl4(col41)                                                                                                                               |                       0 |                    3 |              
        10031 | ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |                     |                 2 |            1 | FOREIGN KEY (col44, col45) REFERENCES "phil's schema3"."phil's tbl1"("phil's col11", "phil's col12") ON UPDATE SET NULL ON DELETE CASCADE                                                   |                       2 |                    2 |              
        10031 | ENA_LOG_TRG | myschema4      | mytblc2                                                         |                   |                     |                 1 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | ENA_LOG_TRG | phil's schema3 | myTbl2\                                                         |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | ENA_LOG_TRG | phil's schema3 | mytbl4                                                          |                   |                     |                 2 |            1 |                                                                                                                                                                                             |                         |                    2 |              
        10031 | CTRL+DBLINK |                |                                                                 |                   |                     |                   |              |                                                                                                                                                                                             |                      16 |                    2 |              
(265 rows)

select rlbt_step, rlbt_schema, rlbt_table, rlbt_object, rlbt_rlbk_id, rlbt_quantity
  from emaj.emaj_rlbk_stat where rlbt_rlbk_id >= 10000 order by rlbt_rlbk_id, rlbt_step, rlbt_schema, rlbt_table, rlbt_object;
  rlbt_step  |  rlbt_schema   |                           rlbt_table                            |    rlbt_object    | rlbt_rlbk_id | rlbt_quantity 
-------------+----------------+-----------------------------------------------------------------+-------------------+--------------+---------------
 DROP_FK     |                |                                                                 |                   |        10000 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10000 |             2
 RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |        10000 |             4
 RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |        10000 |             1
 RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |        10000 |             3
 SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |        10000 |             4
 SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |        10000 |             3
 SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |        10000 |             3
 ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |        10000 |             2
 CTRL-DBLINK |                |                                                                 |                   |        10000 |            10
 DROP_FK     |                |                                                                 |                   |        10001 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10001 |             2
 RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |        10001 |             2
 RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |        10001 |             1
 RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |        10001 |             3
 SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |        10001 |             2
 SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |        10001 |             3
 SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |        10001 |             3
 ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |        10001 |             2
 CTRL-DBLINK |                |                                                                 |                   |        10001 |            10
 DIS_LOG_TRG |                |                                                                 |                   |        10002 |             2
 DROP_FK     |                |                                                                 |                   |        10002 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10002 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10002 |             3
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10002 |             8
 DELETE_LOG  | myschema1      | mytbl1                                                          |                   |        10002 |             3
 DELETE_LOG  | myschema1      | mytbl4                                                          |                   |        10002 |             8
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10002 |             8
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10002 |             0
 ENA_LOG_TRG |                |                                                                 |                   |        10002 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10002 |            12
 DROP_FK     |                |                                                                 |                   |        10003 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10003 |             2
 RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |        10003 |             8
 RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |        10003 |             3
 RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |        10003 |             9
 SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |        10003 |             8
 SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |        10003 |             9
 SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |        10003 |             9
 ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |        10003 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10003 |            10
 DIS_LOG_TRG |                |                                                                 |                   |        10004 |             3
 DROP_FK     |                |                                                                 |                   |        10004 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10004 |             2
 RLBK_TABLE  | myschema2      | mytbl4                                                          |                   |        10004 |             6
 RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |        10004 |             3
 RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |        10004 |             9
 DELETE_LOG  | myschema2      | mytbl4                                                          |                   |        10004 |             6
 DELETE_LOG  | myschema2      | mytbl5                                                          |                   |        10004 |             3
 DELETE_LOG  | myschema2      | mytbl6                                                          |                   |        10004 |             9
 SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |        10004 |             6
 SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |        10004 |             9
 SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |        10004 |             9
 ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |        10004 |             2
 ENA_LOG_TRG |                |                                                                 |                   |        10004 |             3
 CTRL+DBLINK |                |                                                                 |                   |        10004 |            19
 DIS_LOG_TRG |                |                                                                 |                   |        10005 |             2
 DROP_FK     |                |                                                                 |                   |        10005 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10005 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10005 |             1
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10005 |             2
 DELETE_LOG  | myschema1      | mytbl1                                                          |                   |        10005 |             1
 DELETE_LOG  | myschema1      | mytbl4                                                          |                   |        10005 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10005 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10005 |             0
 ENA_LOG_TRG |                |                                                                 |                   |        10005 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10005 |            12
 DROP_FK     |                |                                                                 |                   |        10006 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10006 |             1
 RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |        10006 |            10
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10006 |             1
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10006 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10006 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10006 |             0
 CTRL+DBLINK |                |                                                                 |                   |        10006 |             7
 DIS_LOG_TRG |                |                                                                 |                   |        10013 |             1
 DROP_FK     |                |                                                                 |                   |        10013 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10013 |            20
 DELETE_LOG  | myschema1      | mytbl1                                                          |                   |        10013 |            20
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10013 |             0
 ENA_LOG_TRG |                |                                                                 |                   |        10013 |             1
 CTRL+DBLINK |                |                                                                 |                   |        10013 |             6
 DIS_LOG_TRG |                |                                                                 |                   |        10015 |             4
 DROP_FK     |                |                                                                 |                   |        10015 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10015 |             2
 RLBK_TABLE  | myschema2      | mytbl1                                                          |                   |        10015 |             3
 RLBK_TABLE  | myschema2      | mytbl2                                                          |                   |        10015 |             2
 RLBK_TABLE  | myschema2      | mytbl5                                                          |                   |        10015 |             3
 RLBK_TABLE  | myschema2      | mytbl6                                                          |                   |        10015 |            17
 DELETE_LOG  | myschema2      | mytbl1                                                          |                   |        10015 |             3
 DELETE_LOG  | myschema2      | mytbl2                                                          |                   |        10015 |             2
 DELETE_LOG  | myschema2      | mytbl5                                                          |                   |        10015 |             3
 DELETE_LOG  | myschema2      | mytbl6                                                          |                   |        10015 |            17
 SET_FK_IMM  | myschema2      | mytbl4                                                          | mytbl4_col43_fkey |        10015 |             2
 SET_FK_IMM  | myschema2      | mytbl6                                                          | mytbl6_col61_fkey |        10015 |            17
 SET_FK_IMM  | myschema2      | mytbl8                                                          | mytbl8_col81_fkey |        10015 |            17
 ADD_FK      | myschema2      | mytbl4                                                          | mytbl4_col44_fkey |        10015 |             2
 ENA_LOG_TRG |                |                                                                 |                   |        10015 |             4
 CTRL+DBLINK |                |                                                                 |                   |        10015 |            23
 DIS_LOG_TRG |                |                                                                 |                   |        10016 |             2
 DROP_FK     |                |                                                                 |                   |        10016 |             2
 RLBK_TABLE  | phil's schema3 | myTbl2\                                                         |                   |        10016 |             2
 RLBK_TABLE  | phil's schema3 | phil's tbl1                                                     |                   |        10016 |            53
 DELETE_LOG  | phil's schema3 | myTbl2\                                                         |                   |        10016 |             2
 DELETE_LOG  | phil's schema3 | phil's tbl1                                                     |                   |        10016 |            53
 ADD_FK      | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |        10016 |             0
 ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |        10016 |             0
 ENA_LOG_TRG |                |                                                                 |                   |        10016 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10016 |            12
 DIS_LOG_TRG |                |                                                                 |                   |        10017 |             1
 DROP_FK     |                |                                                                 |                   |        10017 |             1
 RLBK_TABLE  | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |        10017 |             6
 DELETE_LOG  | phil's schema3 | table_with_very_looooooooooooooooooooooooooooooooooooooong_name |                   |        10017 |             6
 ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |        10017 |             0
 ENA_LOG_TRG |                |                                                                 |                   |        10017 |             1
 CTRL+DBLINK |                |                                                                 |                   |        10017 |             6
 DIS_APP_TRG |                |                                                                 |                   |        10018 |             2
 DROP_FK     |                |                                                                 |                   |        10018 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10018 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10018 |            15
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10018 |             2
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10018 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10018 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10018 |             0
 ENA_APP_TRG |                |                                                                 |                   |        10018 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10018 |            11
 DROP_FK     |                |                                                                 |                   |        10019 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10019 |             1
 RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |        10019 |            10
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10019 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10019 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10019 |             0
 CTRL+DBLINK |                |                                                                 |                   |        10019 |             6
 DIS_APP_TRG |                |                                                                 |                   |        10020 |             2
 SET_FK_DEF  |                |                                                                 |                   |        10020 |             1
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10020 |             1
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10020 |             1
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10020 |             1
 ENA_APP_TRG |                |                                                                 |                   |        10020 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10020 |             8
 DIS_APP_TRG |                |                                                                 |                   |        10021 |             2
 DROP_FK     |                |                                                                 |                   |        10021 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10021 |             1
 RLBK_TABLE  | myschema1      | myTbl3                                                          |                   |        10021 |            10
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10021 |            15
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10021 |             2
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10021 |             2
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10021 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10021 |             4
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10021 |             0
 ENA_APP_TRG |                |                                                                 |                   |        10021 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10021 |            13
 DROP_FK     |                |                                                                 |                   |        10022 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10022 |            16
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10022 |             0
 CTRL+DBLINK |                |                                                                 |                   |        10022 |             3
 DROP_FK     |                |                                                                 |                   |        10023 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10023 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10023 |            22
 RLBK_TABLE  | myschema1      | mytbl4                                                          |                   |        10023 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10023 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10023 |             0
 CTRL+DBLINK |                |                                                                 |                   |        10023 |             6
 DIS_APP_TRG |                |                                                                 |                   |        10024 |             2
 DROP_FK     |                |                                                                 |                   |        10024 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10024 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10024 |            15
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10024 |             2
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10024 |             2
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10024 |             2
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10024 |             0
 ENA_APP_TRG |                |                                                                 |                   |        10024 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10024 |            11
 DIS_APP_TRG |                |                                                                 |                   |        10025 |             2
 DROP_FK     |                |                                                                 |                   |        10025 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10025 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10025 |            11
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10025 |             3
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10025 |             4
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10025 |             3
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10025 |             0
 ENA_APP_TRG |                |                                                                 |                   |        10025 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10025 |            11
 DIS_APP_TRG |                |                                                                 |                   |        10026 |             2
 DIS_LOG_TRG |                |                                                                 |                   |        10026 |             3
 DROP_FK     |                |                                                                 |                   |        10026 |             1
 SET_FK_DEF  |                |                                                                 |                   |        10026 |             1
 RLBK_TABLE  | myschema1      | mytbl1                                                          |                   |        10026 |            11
 RLBK_TABLE  | myschema1      | mytbl2                                                          |                   |        10026 |             4
 RLBK_TABLE  | myschema1      | mytbl2b                                                         |                   |        10026 |             4
 DELETE_LOG  | myschema1      | mytbl1                                                          |                   |        10026 |            11
 DELETE_LOG  | myschema1      | mytbl2                                                          |                   |        10026 |             4
 DELETE_LOG  | myschema1      | mytbl2b                                                         |                   |        10026 |             4
 SET_FK_IMM  | myschema1      | mytbl4                                                          | mytbl4_col43_fkey |        10026 |             4
 ADD_FK      | myschema1      | mytbl4                                                          | mytbl4_col44_fkey |        10026 |             0
 ENA_APP_TRG |                |                                                                 |                   |        10026 |             2
 ENA_LOG_TRG |                |                                                                 |                   |        10026 |             3
 CTRL+DBLINK |                |                                                                 |                   |        10026 |            20
 DIS_LOG_TRG |                |                                                                 |                   |        10029 |             2
 RLBK_TABLE  | myschema4      | mytblc1                                                         |                   |        10029 |             1
 RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |        10029 |             3
 DELETE_LOG  | myschema4      | mytblc1                                                         |                   |        10029 |             1
 DELETE_LOG  | myschema4      | mytblc2                                                         |                   |        10029 |             3
 ENA_LOG_TRG |                |                                                                 |                   |        10029 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10029 |             8
 RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |        10030 |             6
 RLBK_TABLE  | myschema4      | mytblm                                                          |                   |        10030 |             2
 CTRL+DBLINK |                |                                                                 |                   |        10030 |             2
 DIS_LOG_TRG |                |                                                                 |                   |        10031 |             3
 DROP_FK     |                |                                                                 |                   |        10031 |             2
 RLBK_TABLE  | myschema4      | mytblc2                                                         |                   |        10031 |             6
 RLBK_TABLE  | phil's schema3 | myTbl2\                                                         |                   |        10031 |             1
 RLBK_TABLE  | phil's schema3 | mytbl4                                                          |                   |        10031 |             4
 DELETE_LOG  | myschema4      | mytblc2                                                         |                   |        10031 |             6
 DELETE_LOG  | phil's schema3 | myTbl2\                                                         |                   |        10031 |             1
 DELETE_LOG  | phil's schema3 | mytbl4                                                          |                   |        10031 |             4
 ADD_FK      | phil's schema3 | myTbl2\                                                         | mytbl2_col21_fkey |        10031 |             0
 ADD_FK      | phil's schema3 | mytbl4                                                          | mytbl4_col44_fkey |        10031 |             2
 ENA_LOG_TRG |                |                                                                 |                   |        10031 |             3
 CTRL+DBLINK |                |                                                                 |                   |        10031 |            16
(220 rows)

select time_id, time_last_emaj_gid, time_event from emaj.emaj_time_stamp where time_id >= 10000 order by time_id;
 time_id | time_last_emaj_gid | time_event 
---------+--------------------+------------
   10000 |              99999 | M
   10001 |              99999 | D
   10002 |              99999 | D
   10003 |              99999 | D
   10004 |              99999 | C
   10005 |              99999 | C
   10006 |              99999 | C
   10007 |              99999 | M
   10008 |              99999 | M
   10009 |             100028 | M
   10010 |             100039 | M
   10011 |             100080 | M
   10012 |             100088 | M
   10013 |             100088 | R
   10014 |             100094 | M
   10015 |             100094 | R
   10016 |             100100 | M
   10017 |             100100 | R
   10018 |             100114 | M
   10019 |             100124 | M
   10020 |             100124 | M
   10021 |             100124 | R
   10022 |             100130 | M
   10023 |             100130 | R
   10024 |             100133 | R
   10025 |             100136 | R
   10026 |             100159 | M
   10027 |             100164 | M
   10028 |             100164 | M
   10029 |             100164 | M
   10030 |             100164 | R
   10031 |             100164 | M
   10032 |             100164 | R
   10033 |             100164 | R
   10034 |             100164 | M
   10035 |             100164 | M
   10036 |             100164 | M
   10037 |             100164 | R
   10038 |             100164 | C
   10039 |             100164 | A
   10040 |             100164 | A
   10041 |             100164 | A
   10042 |             100164 | M
   10043 |             100164 | M
   10044 |             100164 | C
   10045 |             100164 | A
   10046 |             100164 | D
   10047 |             100164 | D
   10048 |             100164 | C
   10049 |             100164 | M
   10050 |             100216 | M
   10051 |             100216 | M
   10052 |             100219 | M
   10053 |             100219 | R
   10054 |             100219 | M
   10055 |             100219 | R
   10056 |             100239 | R
   10057 |             100264 | R
   10058 |             100264 | R
   10059 |             100264 | R
   10060 |             100344 | M
   10061 |             100344 | A
   10062 |             100344 | M
   10063 |             100348 | M
   10064 |             100350 | R
   10065 |             100350 | M
   10066 |             100350 | D
   10067 |             100350 | M
   10068 |             100350 | M
   10069 |             100367 | M
   10070 |             100369 | R
   10071 |             100383 | M
   10072 |             100385 | M
   10073 |             100397 | M
   10074 |             100397 | M
   10075 |             100397 | R
   10076 |             100408 | M
   10077 |             100408 | M
   10078 |             100425 | M
   10079 |             100427 | M
   10080 |             100429 | R
   10081 |             100431 | M
   10082 |             100431 | M
   10083 |             100443 | R
   10084 |             100468 | M
   10085 |             100468 | M
   10086 |             100484 | R
   10087 |             100490 | M
   10088 |             100490 | M
   10089 |             100492 | R
   10090 |             100493 | M
   10091 |             100493 | M
   10092 |             100510 | M
   10093 |             100512 | R
   10094 |             100526 | M
   10095 |             100526 | M
   10096 |             100528 | R
   10097 |             100543 | M
   10098 |             100543 | R
   10099 |             100543 | C
   10100 |             100543 | M
   10101 |             100543 | M
   10102 |             100543 | M
   10103 |             100543 | A
   10104 |             100543 | A
   10105 |             100543 | M
   10106 |             100543 | M
   10107 |             100543 | M
   10108 |             100543 | M
   10109 |             100543 | M
   10110 |             100543 | A
   10111 |             100543 | A
   10112 |             100543 | R
   10113 |             100543 | M
   10114 |             100543 | R
   10115 |             100543 | M
   10116 |             100543 | M
   10117 |             100543 | D
   10118 |             100543 | C
   10119 |             100543 | M
   10120 |             100553 | A
   10121 |             100553 | A
   10122 |             100553 | A
   10123 |             100553 | A
   10124 |             100553 | A
   10125 |             100553 | A
   10126 |             100553 | M
   10127 |             100553 | D
   10128 |             100553 | C
   10129 |             100553 | C
   10130 |             100553 | C
   10131 |             100553 | M
   10132 |             100553 | A
   10133 |             100553 | A
   10134 |             100553 | A
   10135 |             100553 | A
   10136 |             100553 | M
   10137 |             100553 | M
   10138 |             100564 | M
   10139 |             100577 | M
   10140 |             100581 | R
   10141 |             100581 | A
   10142 |             100581 | A
   10143 |             100581 | A
   10144 |             100581 | A
   10145 |             100581 | A
   10146 |             100581 | M
   10147 |             100586 | M
   10148 |             100590 | M
   10149 |             100594 | A
   10150 |             100594 | A
   10151 |             100594 | R
   10152 |             100598 | M
   10153 |             100598 | M
   10154 |             100604 | A
   10155 |             100604 | R
   10157 |             100604 | A
   10158 |             100604 | A
   10159 |             100604 | M
   10160 |             100604 | M
   10161 |             100604 | D
   10162 |             100604 | M
   10163 |             100604 | D
   10164 |             100604 | M
   10165 |             100604 | D
(165 rows)

select hist_id, hist_function, hist_event, hist_object,
       regexp_replace(regexp_replace(regexp_replace(hist_wording,
            E'\\d\\d\.\\d\\d\\.\\d\\d\\.\\d\\d\\d\\d','%','g'),
            E'\\d\\d\\d\\d/\\d\\d\\/\\d\\d\\ \\d\\d\\:\\d\\d:\\d\\d .*?\\)','<timestamp>)','g'),
            E'\\[.+\\]','(timestamp)','g'), 
       hist_user
  from emaj.emaj_hist order by hist_id;
 hist_id |      hist_function       |          hist_event          |                                   hist_object                                    |                                                         regexp_replace                                                         | hist_user 
---------+--------------------------+------------------------------+----------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+-----------
   10030 | START_GROUP              | BEGIN                        | myGroup1                                                                         | With log reset                                                                                                                 | postgres
   10031 | PURGE_HISTORY            |                              |                                                                                  | 29 emaj_hist rows deleted ; 138 relation history rows deleted ; 89 alter groups events deleted ; 37 rollback events deleted    | postgres
   10032 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10033 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10034 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | M1                                                                                                                             | postgres
   10035 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M1                                                                                                                             | postgres
   10036 | START_GROUP              | END                          | myGroup1                                                                         | 7 tables/sequences processed                                                                                                   | postgres
   10039 | START_GROUP              | BEGIN                        | myGroup2                                                                         | With log reset                                                                                                                 | postgres
   10040 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         |                                                                                                                                | postgres
   10041 | LOCK_GROUP               | END                          | myGroup2                                                                         | 6 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10042 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | M1                                                                                                                             | postgres
   10043 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | M1                                                                                                                             | postgres
   10044 | START_GROUP              | END                          | myGroup2                                                                         | 8 tables/sequences processed                                                                                                   | postgres
   10045 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10046 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10047 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10048 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M2                                                                                                                             | postgres
   10049 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10050 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10051 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10052 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M3                                                                                                                             | postgres
   10053 | COMMENT_MARK_GROUP       |                              | myGroup1                                                                         | Mark M3                                                                                                                        | postgres
   10054 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         |                                                                                                                                | postgres
   10055 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         |                                                                                                                                | postgres
   10056 | LOCK_GROUP               | END                          | myGroup2                                                                         | 6 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10057 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | M2                                                                                                                             | postgres
   10058 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         |                                                                                                                                | postgres
   10059 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         |                                                                                                                                | postgres
   10060 | LOCK_GROUP               | END                          | myGroup2                                                                         | 6 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10061 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | M3                                                                                                                             | postgres
   10062 | ROLLBACK_GROUP           | BEGIN                        | myGroup2                                                                         | Logged rollback to mark M2 (timestamp)                                                                                         | postgres
   10063 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = -3                                                                                                                    | postgres
   10064 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         | Rollback session #1                                                                                                            | postgres
   10065 | LOCK_GROUP               | END                          | myGroup2                                                                         | Rollback session #1: 6 tables locked, 0 deadlock(s)                                                                            | postgres
   10066 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M2_%_START                                                                                                                | postgres
   10067 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M2_%_START                                                                                                                | postgres
   10068 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl4                                                                 | All log rows with emaj_gid > 100080 and <= 100088                                                                              | postgres
   10069 | ROLLBACK_TABLE           | END                          | myschema2.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10070 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl6                                                                 | All log rows with emaj_gid > 100080 and <= 100088                                                                              | postgres
   10071 | ROLLBACK_TABLE           | END                          | myschema2.mytbl6                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10072 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl5                                                                 | All log rows with emaj_gid > 100080 and <= 100088                                                                              | postgres
   10073 | ROLLBACK_TABLE           | END                          | myschema2.mytbl5                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10074 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10075 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 | RESTART 1001 MAXVALUE 2000 CYCLE                                                                                               | postgres
   10076 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M2_%_DONE                                                                                                                 | postgres
   10077 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M2_%_DONE                                                                                                                 | postgres
   10078 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10000                                                                | 3 / 6 tables effectively processed.                                                                                            | postgres
   10079 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10000                                                                | 2 sequences processed.                                                                                                         | postgres
   10080 | ROLLBACK_GROUP           | END                          | myGroup2                                                                         | Rollback_id 10000, 3 tables and 2 sequences effectively processed                                                              | postgres
   10081 | ROLLBACK_GROUP           | BEGIN                        | myGroup2                                                                         | Logged rollback to mark M3 (timestamp)                                                                                         | postgres
   10082 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = -3                                                                                                                    | postgres
   10083 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         | Rollback session #1                                                                                                            | postgres
   10084 | LOCK_GROUP               | END                          | myGroup2                                                                         | Rollback session #1: 6 tables locked, 0 deadlock(s)                                                                            | postgres
   10085 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M3_%_START                                                                                                                | postgres
   10086 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M3_%_START                                                                                                                | postgres
   10087 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl6                                                                 | All log rows with emaj_gid > 100088 and <= 100094                                                                              | postgres
   10088 | ROLLBACK_TABLE           | END                          | myschema2.mytbl6                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10089 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl4                                                                 | All log rows with emaj_gid > 100088 and <= 100094                                                                              | postgres
   10090 | ROLLBACK_TABLE           | END                          | myschema2.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10091 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl5                                                                 | All log rows with emaj_gid > 100088 and <= 100094                                                                              | postgres
   10092 | ROLLBACK_TABLE           | END                          | myschema2.mytbl5                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10093 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10094 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 | RESTART 1004 MAXVALUE 9223372036854775807 NO  CYCLE                                                                            | postgres
   10095 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M3_%_DONE                                                                                                                 | postgres
   10096 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M3_%_DONE                                                                                                                 | postgres
   10097 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10001                                                                | 3 / 6 tables effectively processed.                                                                                            | postgres
   10098 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10001                                                                | 2 sequences processed.                                                                                                         | postgres
   10099 | ROLLBACK_GROUP           | END                          | myGroup2                                                                         | Rollback_id 10001, 3 tables and 2 sequences effectively processed                                                              | postgres
   10100 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Unlogged rollback to mark M2 (timestamp)                                                                                       | postgres
   10101 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10102 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10103 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10104 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100028 and <= 100100                                                                              | postgres
   10105 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 5 rolled back primary keys                                                                                                     | postgres
   10106 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100028 and <= 100100                                                                              | postgres
   10107 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10108 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark M3 is deleted                                                                                                             | postgres
   10109 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10110 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10111 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10002                                                                | 2 / 5 tables effectively processed.                                                                                            | postgres
   10112 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10002                                                                | 2 sequences processed.                                                                                                         | postgres
   10113 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10114 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10002, 2 tables and 2 sequences effectively processed                                                              | postgres
   10115 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10116 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10117 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10118 | CLEANUP_RLBK_STATE       |                              | Rollback id 10002                                                                | set to COMMITTED                                                                                                               | postgres
   10119 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M4                                                                                                                             | postgres
   10120 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10121 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10122 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10123 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M5                                                                                                                             | postgres
   10124 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10125 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10126 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10127 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | M6                                                                                                                             | postgres
   10128 | ROLLBACK_GROUP           | BEGIN                        | myGroup2                                                                         | Logged rollback to mark M2 (timestamp)                                                                                         | postgres
   10129 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10130 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         | Rollback session #1                                                                                                            | postgres
   10131 | LOCK_GROUP               | END                          | myGroup2                                                                         | Rollback session #1: 6 tables locked, 0 deadlock(s)                                                                            | postgres
   10132 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M2_%_START                                                                                                                | postgres
   10133 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M2_%_START                                                                                                                | postgres
   10134 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl6                                                                 | All log rows with emaj_gid > 100080 and <= 100124                                                                              | postgres
   10135 | ROLLBACK_TABLE           | END                          | myschema2.mytbl6                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10136 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl4                                                                 | All log rows with emaj_gid > 100080 and <= 100124                                                                              | postgres
   10137 | ROLLBACK_TABLE           | END                          | myschema2.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10138 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl5                                                                 | All log rows with emaj_gid > 100080 and <= 100124                                                                              | postgres
   10139 | ROLLBACK_TABLE           | END                          | myschema2.mytbl5                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10140 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10141 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 | RESTART 1001 MAXVALUE 2000 CYCLE                                                                                               | postgres
   10142 | SET_MARK_GROUP           | BEGIN                        | myGroup2                                                                         | RLBK_M2_%_DONE                                                                                                                 | postgres
   10143 | SET_MARK_GROUP           | END                          | myGroup2                                                                         | RLBK_M2_%_DONE                                                                                                                 | postgres
   10144 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10003                                                                | 3 / 6 tables effectively processed.                                                                                            | postgres
   10145 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10003                                                                | 2 sequences processed.                                                                                                         | postgres
   10146 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10147 | ROLLBACK_GROUP           | END                          | myGroup2                                                                         | Rollback_id 10003, 3 tables and 2 sequences effectively processed                                                              | postgres
   10148 | ROLLBACK_GROUP           | BEGIN                        | myGroup2                                                                         | Unlogged rollback to mark M3 (timestamp)                                                                                       | postgres
   10149 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10150 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         | Rollback session #1                                                                                                            | postgres
   10151 | LOCK_GROUP               | END                          | myGroup2                                                                         | Rollback session #1: 6 tables locked, 0 deadlock(s)                                                                            | postgres
   10152 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl6                                                                 | All log rows with emaj_gid > 100088 and <= 100130                                                                              | postgres
   10153 | ROLLBACK_TABLE           | END                          | myschema2.mytbl6                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10154 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl4                                                                 | All log rows with emaj_gid > 100088 and <= 100130                                                                              | postgres
   10155 | ROLLBACK_TABLE           | END                          | myschema2.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10156 | ROLLBACK_TABLE           | BEGIN                        | myschema2.mytbl5                                                                 | All log rows with emaj_gid > 100088 and <= 100130                                                                              | postgres
   10157 | ROLLBACK_TABLE           | END                          | myschema2.mytbl5                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10158 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M2_%_START is deleted                                                                                                | postgres
   10159 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M2_%_DONE is deleted                                                                                                 | postgres
   10160 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M3_%_START is deleted                                                                                                | postgres
   10161 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M3_%_DONE is deleted                                                                                                 | postgres
   10162 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M2_%_START is deleted                                                                                                | postgres
   10163 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup2                                                                         | mark RLBK_M2_%_DONE is deleted                                                                                                 | postgres
   10164 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10165 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 | RESTART 1004 MAXVALUE 9223372036854775807 NO  CYCLE                                                                            | postgres
   10166 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10004                                                                | 3 / 6 tables effectively processed.                                                                                            | postgres
   10167 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10004                                                                | 2 sequences processed.                                                                                                         | postgres
   10168 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10169 | ROLLBACK_GROUP           | END                          | myGroup2                                                                         | Rollback_id 10004, 3 tables and 2 sequences effectively processed                                                              | postgres
   10170 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Unlogged rollback to mark M5 (timestamp)                                                                                       | postgres
   10171 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10172 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10173 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10174 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100124 and <= 100133                                                                              | postgres
   10175 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10176 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100124 and <= 100133                                                                              | postgres
   10177 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10178 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark M6 is deleted                                                                                                             | postgres
   10179 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10180 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10181 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10005                                                                | 2 / 5 tables effectively processed.                                                                                            | postgres
   10182 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10005                                                                | 2 sequences processed.                                                                                                         | postgres
   10183 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10184 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10005, 2 tables and 2 sequences effectively processed                                                              | postgres
   10185 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark M4 (timestamp)                                                                                         | postgres
   10186 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10187 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10188 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10189 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_M4_%_START                                                                                                                | postgres
   10190 | CLEANUP_RLBK_STATE       |                              | Rollback id 10003                                                                | set to COMMITTED                                                                                                               | postgres
   10191 | CLEANUP_RLBK_STATE       |                              | Rollback id 10004                                                                | set to COMMITTED                                                                                                               | postgres
   10192 | CLEANUP_RLBK_STATE       |                              | Rollback id 10005                                                                | set to COMMITTED                                                                                                               | postgres
   10193 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_M4_%_START                                                                                                                | postgres
   10194 | ROLLBACK_TABLE           | BEGIN                        | myschema1."myTbl3"                                                               | All log rows with emaj_gid > 100114 and <= 100136                                                                              | postgres
   10195 | ROLLBACK_TABLE           | END                          | myschema1."myTbl3"                                                               | 10 rolled back primary keys                                                                                                    | postgres
   10196 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100114 and <= 100136                                                                              | postgres
   10197 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10198 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100114 and <= 100136                                                                              | postgres
   10199 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10200 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10201 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10202 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_M4_%_DONE                                                                                                                 | postgres
   10203 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_M4_%_DONE                                                                                                                 | postgres
   10204 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10006                                                                | 3 / 5 tables effectively processed.                                                                                            | postgres
   10205 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10006                                                                | 2 sequences processed.                                                                                                         | postgres
   10206 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10207 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10006, 3 tables and 2 sequences effectively processed                                                              | postgres
   10208 | RENAME_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | RLBK_M4_%_START                                                                                                                | postgres
   10209 | RENAME_MARK_GROUP        | END                          | myGroup1                                                                         | RLBK_M4_%_START renamed Before logged rollback to M4                                                                           | postgres
   10210 | DELETE_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | RLBK_M4_%_DONE                                                                                                                 | postgres
   10211 | DELETE_MARK_GROUP        | END                          | myGroup1                                                                         | RLBK_M4_%_DONE                                                                                                                 | postgres
   10212 | DELETE_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | M1                                                                                                                             | postgres
   10213 | DELETE_MARK_GROUP        | END                          | myGroup1                                                                         | M1                                                                                                                             | postgres
   10214 | DELETE_BEFORE_MARK_GROUP | BEGIN                        | myGroup1                                                                         | M4                                                                                                                             | postgres
   10215 | DELETE_BEFORE_MARK_GROUP | END                          | myGroup1                                                                         | 1 marks deleted ; M4 is now the initial mark                                                                                   | postgres
   10219 | CLEANUP_RLBK_STATE       |                              | Rollback id 10006                                                                | set to COMMITTED                                                                                                               | postgres
   10220 | STOP_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10221 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10222 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10223 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | STOP_%                                                                                                                         | postgres
   10224 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | STOP_%                                                                                                                         | postgres
   10225 | STOP_GROUPS              | END                          | myGroup1,myGroup2                                                                | 15 tables/sequences processed                                                                                                  | postgres
   10226 | START_GROUPS             | BEGIN                        | myGroup1,myGroup2                                                                | Without log reset                                                                                                              | postgres
   10227 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10228 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10229 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Multi-1                                                                                                                        | postgres
   10230 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Multi-1                                                                                                                        | postgres
   10231 | START_GROUPS             | END                          | myGroup1,myGroup2                                                                | 15 tables/sequences processed                                                                                                  | postgres
   10232 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Multi-2                                                                                                                        | postgres
   10233 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10234 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10235 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Multi-2                                                                                                                        | postgres
   10236 | ROLLBACK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Logged rollback to mark Multi-1 (timestamp)                                                                                    | postgres
   10237 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10238 | LOCK_GROUP               | BEGIN                        | myGroup1,myGroup2                                                                | Rollback session #1                                                                                                            | postgres
   10239 | LOCK_GROUP               | END                          | myGroup1,myGroup2                                                                | Rollback session #1: 11 tables locked, 0 deadlock(s)                                                                           | postgres
   10240 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | RLBK_Multi-1_%_START                                                                                                           | postgres
   10241 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | RLBK_Multi-1_%_START                                                                                                           | postgres
   10242 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10243 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10244 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10245 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 |                                                                                                                                | postgres
   10246 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | RLBK_Multi-1_%_DONE                                                                                                            | postgres
   10247 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | RLBK_Multi-1_%_DONE                                                                                                            | postgres
   10248 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10007                                                                | 0 / 11 tables effectively processed.                                                                                           | postgres
   10249 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10007                                                                | 4 sequences processed.                                                                                                         | postgres
   10250 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10251 | ROLLBACK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Rollback_id 10007, 0 tables and 4 sequences effectively processed                                                              | postgres
   10252 | ROLLBACK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Unlogged rollback to mark Multi-2 (timestamp)                                                                                  | postgres
   10253 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10254 | LOCK_GROUP               | BEGIN                        | myGroup1,myGroup2                                                                | Rollback session #1                                                                                                            | postgres
   10255 | LOCK_GROUP               | END                          | myGroup1,myGroup2                                                                | Rollback session #1: 11 tables locked, 0 deadlock(s)                                                                           | postgres
   10256 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup1                                                                         | mark RLBK_Multi-1_%_START is deleted                                                                                           | postgres
   10257 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup2                                                                         | mark RLBK_Multi-1_%_START is deleted                                                                                           | postgres
   10258 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup1                                                                         | mark RLBK_Multi-1_%_DONE is deleted                                                                                            | postgres
   10259 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup2                                                                         | mark RLBK_Multi-1_%_DONE is deleted                                                                                            | postgres
   10260 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10261 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10262 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10263 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 |                                                                                                                                | postgres
   10264 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10008                                                                | 0 / 11 tables effectively processed.                                                                                           | postgres
   10265 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10008                                                                | 4 sequences processed.                                                                                                         | postgres
   10266 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10267 | ROLLBACK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Rollback_id 10008, 0 tables and 4 sequences effectively processed                                                              | postgres
   10268 | ROLLBACK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Unlogged rollback to mark Multi-1 (timestamp)                                                                                  | postgres
   10269 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10270 | LOCK_GROUP               | BEGIN                        | myGroup1,myGroup2                                                                | Rollback session #1                                                                                                            | postgres
   10271 | LOCK_GROUP               | END                          | myGroup1,myGroup2                                                                | Rollback session #1: 11 tables locked, 0 deadlock(s)                                                                           | postgres
   10272 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup1                                                                         | mark Multi-2 is deleted                                                                                                        | postgres
   10273 | ROLLBACK_GROUPS          | MARK DELETED                 | myGroup2                                                                         | mark Multi-2 is deleted                                                                                                        | postgres
   10274 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10275 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10276 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10277 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 |                                                                                                                                | postgres
   10278 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10009                                                                | 0 / 11 tables effectively processed.                                                                                           | postgres
   10279 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10009                                                                | 4 sequences processed.                                                                                                         | postgres
   10280 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10281 | ROLLBACK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Rollback_id 10009, 0 tables and 4 sequences effectively processed                                                              | postgres
   10282 | STOP_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10283 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10284 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10285 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Stop after rollback                                                                                                            | postgres
   10286 | CLEANUP_RLBK_STATE       |                              | Rollback id 10007                                                                | set to COMMITTED                                                                                                               | postgres
   10287 | CLEANUP_RLBK_STATE       |                              | Rollback id 10008                                                                | set to COMMITTED                                                                                                               | postgres
   10288 | CLEANUP_RLBK_STATE       |                              | Rollback id 10009                                                                | set to COMMITTED                                                                                                               | postgres
   10289 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Stop after rollback                                                                                                            | postgres
   10290 | STOP_GROUPS              | END                          | myGroup1,myGroup2                                                                | 15 tables/sequences processed                                                                                                  | postgres
   10292 | START_GROUPS             | BEGIN                        | myGroup1,myGroup2                                                                | Without log reset                                                                                                              | postgres
   10293 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10294 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10295 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Multi-1b                                                                                                                       | postgres
   10296 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Multi-1b                                                                                                                       | postgres
   10297 | START_GROUPS             | END                          | myGroup1,myGroup2                                                                | 15 tables/sequences processed                                                                                                  | postgres
   10298 | SET_MARK_GROUPS          | BEGIN                        | myGroup1,myGroup2                                                                | Multi-2                                                                                                                        | postgres
   10299 | LOCK_GROUPS              | BEGIN                        | myGroup1,myGroup2                                                                |                                                                                                                                | postgres
   10300 | LOCK_GROUPS              | END                          | myGroup1,myGroup2                                                                | 11 tables locked, 0 deadlock(s)                                                                                                | postgres
   10301 | SET_MARK_GROUPS          | END                          | myGroup1,myGroup2                                                                | Multi-2                                                                                                                        | postgres
   10302 | DELETE_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | Multi-2                                                                                                                        | postgres
   10303 | DELETE_MARK_GROUP        | END                          | myGroup1                                                                         | Multi-2                                                                                                                        | postgres
   10304 | ROLLBACK_GROUP           | BEGIN                        | myGroup2                                                                         | Unlogged rollback to mark Multi-2 (timestamp)                                                                                  | postgres
   10305 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10306 | LOCK_GROUP               | BEGIN                        | myGroup2                                                                         | Rollback session #1                                                                                                            | postgres
   10307 | LOCK_GROUP               | END                          | myGroup2                                                                         | Rollback session #1: 6 tables locked, 0 deadlock(s)                                                                            | postgres
   10308 | ROLLBACK_SEQUENCE        |                              | myschema2."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10309 | ROLLBACK_SEQUENCE        |                              | myschema2.myseq1                                                                 |                                                                                                                                | postgres
   10310 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10010                                                                | 0 / 6 tables effectively processed.                                                                                            | postgres
   10311 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10010                                                                | 2 sequences processed.                                                                                                         | postgres
   10312 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10313 | ROLLBACK_GROUP           | END                          | myGroup2                                                                         | Rollback_id 10010, 0 tables and 2 sequences effectively processed                                                              | postgres
   10314 | DELETE_MARK_GROUP        | BEGIN                        | myGroup2                                                                         | Multi-2                                                                                                                        | postgres
   10315 | DELETE_MARK_GROUP        | END                          | myGroup2                                                                         | Multi-2                                                                                                                        | postgres
   10316 | DELETE_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | Multi-1                                                                                                                        | postgres
   10317 | DELETE_MARK_GROUP        | END                          | myGroup1                                                                         | Multi-1                                                                                                                        | postgres
   10318 | DELETE_MARK_GROUP        | BEGIN                        | myGroup2                                                                         | Multi-1                                                                                                                        | postgres
   10319 | DELETE_MARK_GROUP        | END                          | myGroup2                                                                         | Multi-1                                                                                                                        | postgres
   10320 | RENAME_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | Multi-1b                                                                                                                       | postgres
   10321 | RENAME_MARK_GROUP        | END                          | myGroup1                                                                         | Multi-1b renamed Multi-1                                                                                                       | postgres
   10322 | RENAME_MARK_GROUP        | BEGIN                        | myGroup2                                                                         | Multi-1b                                                                                                                       | postgres
   10323 | RENAME_MARK_GROUP        | END                          | myGroup2                                                                         | Multi-1b renamed Multi-1                                                                                                       | postgres
   10324 | RENAME_MARK_GROUP        | BEGIN                        | myGroup2                                                                         | M2                                                                                                                             | postgres
   10325 | RENAME_MARK_GROUP        | END                          | myGroup2                                                                         | M2 renamed Deleted M2                                                                                                          | postgres
   10326 | DELETE_BEFORE_MARK_GROUP | BEGIN                        | myGroup2                                                                         | M3                                                                                                                             | postgres
   10327 | DELETE_BEFORE_MARK_GROUP | END                          | myGroup2                                                                         | 2 marks deleted ; M3 is now the initial mark                                                                                   | postgres
   10328 | COMMENT_MARK_GROUP       |                              | myGroup2                                                                         | Mark M3                                                                                                                        | postgres
   10329 | CREATE_GROUP             | BEGIN                        | phil's group#3",                                                                 | audit_only                                                                                                                     | postgres
   10330 | CREATE_GROUP             | END                          | phil's group#3",                                                                 | 0 tables/sequences processed                                                                                                   | postgres
   10331 | ASSIGN_TABLES            | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   10332 | ASSIGN_TABLES            | LOG_SCHEMA CREATED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   10333 | ASSIGN_TABLES            | TABLE ADDED                  | "phil's schema3"."myTbl2\"                                                       | To the idle group phil's group#3",                                                                                             | postgres
   10334 | ASSIGN_TABLES            | TABLE ADDED                  | "phil's schema3"."phil's tbl1"                                                   | To the idle group phil's group#3",                                                                                             | postgres
   10335 | ASSIGN_TABLES            | END                          |                                                                                  | 2 tables assigned to the group phil's group#3",                                                                                | postgres
   10336 | ASSIGN_SEQUENCES         | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   10337 | ASSIGN_SEQUENCES         | SEQUENCE ADDED               | "phil's schema3"."myTbl2\_col21_seq"                                             | To the idle group phil's group#3",                                                                                             | postgres
   10338 | ASSIGN_SEQUENCES         | SEQUENCE ADDED               | "phil's schema3"."phil's seq\1"                                                  | To the idle group phil's group#3",                                                                                             | postgres
   10339 | ASSIGN_SEQUENCES         | END                          |                                                                                  | 2 sequences assigned to the group phil's group#3",                                                                             | postgres
   10340 | DISABLE_PROTECTION       | EVENT TRIGGERS DISABLED      |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   10341 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10342 | ALTER_GROUP              | LOG INDEX TABLESPACE CHANGED | "phil's schema3"."myTbl2\"                                                       | Default tablespace => tsplog1                                                                                                  | postgres
   10343 | ALTER_GROUP              | PRIORITY CHANGED             | "phil's schema3"."myTbl2\"                                                       | NULL => 1                                                                                                                      | postgres
   10344 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10041                                                                                                           | postgres
   10345 | START_GROUP              | BEGIN                        | phil's group#3",                                                                 | With log reset                                                                                                                 | postgres
   10346 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10347 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10348 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | M1_after_alter_group                                                                                                           | postgres
   10349 | CLEANUP_RLBK_STATE       |                              | Rollback id 10010                                                                | set to COMMITTED                                                                                                               | postgres
   10350 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M1_after_alter_group                                                                                                           | postgres
   10351 | START_GROUP              | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10352 | STOP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10353 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10354 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10355 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10356 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10357 | STOP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10358 | ENABLE_PROTECTION        | EVENT TRIGGERS ENABLED       |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   10359 | CREATE_GROUP             | BEGIN                        | myGroup4                                                                         | rollbackable                                                                                                                   | postgres
   10360 | CREATE_GROUP             | LOG_SCHEMA CREATED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   10361 | CREATE_GROUP             | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10362 | ALTER_GROUPS             | BEGIN                        | phil's group#3",,myGroup4                                                        |                                                                                                                                | postgres
   10363 | ALTER_GROUPS             | LOG INDEX TABLESPACE CHANGED | "phil's schema3"."myTbl2\"                                                       | tsplog1 => Default tablespace                                                                                                  | postgres
   10364 | ALTER_GROUPS             | PRIORITY CHANGED             | myschema4.mytblm                                                                 | NULL => 9                                                                                                                      | postgres
   10365 | ALTER_GROUPS             | PRIORITY CHANGED             | "phil's schema3"."myTbl2\"                                                       | 1 => NULL                                                                                                                      | postgres
   10366 | ALTER_GROUPS             | END                          | myGroup4,phil's group#3",                                                        | Timestamp Id : 10045                                                                                                           | postgres
   10367 | DROP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10368 | DROP_GROUP               | LOG_SCHEMA DROPPED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   10369 | DROP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10370 | DROP_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10371 | DROP_GROUP               | LOG_SCHEMA DROPPED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   10372 | DROP_GROUP               | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10373 | CREATE_GROUP             | BEGIN                        | phil's group#3",                                                                 | rollbackable                                                                                                                   | postgres
   10374 | CREATE_GROUP             | LOG_SCHEMA CREATED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   10375 | CREATE_GROUP             | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10376 | START_GROUP              | BEGIN                        | phil's group#3",                                                                 | With log reset                                                                                                                 | postgres
   10377 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10378 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10379 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | M1_rollbackable                                                                                                                | postgres
   10380 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M1_rollbackable                                                                                                                | postgres
   10381 | START_GROUP              | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10382 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10383 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10384 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10385 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M2_rollbackable                                                                                                                | postgres
   10386 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10387 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10388 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10389 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M2_again!                                                                                                                      | postgres
   10390 | SET_MARK_GROUPS          | BEGIN                        | phil's group#3",                                                                 | phil's mark #1                                                                                                                 | postgres
   10391 | LOCK_GROUPS              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10392 | LOCK_GROUPS              | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10393 | SET_MARK_GROUPS          | END                          | phil's group#3",                                                                 | phil's mark #1                                                                                                                 | postgres
   10394 | COMMENT_MARK_GROUP       |                              | phil's group#3",                                                                 | Mark phil's mark #1                                                                                                            | postgres
   10395 | RENAME_MARK_GROUP        | BEGIN                        | phil's group#3",                                                                 | phil's mark #1                                                                                                                 | postgres
   10396 | RENAME_MARK_GROUP        | END                          | phil's group#3",                                                                 | phil's mark #1 renamed phil's mark #3                                                                                          | postgres
   10397 | DELETE_MARK_GROUP        | BEGIN                        | phil's group#3",                                                                 | M2_again!                                                                                                                      | postgres
   10398 | DELETE_MARK_GROUP        | END                          | phil's group#3",                                                                 | M2_again!                                                                                                                      | postgres
   10399 | ROLLBACK_GROUP           | BEGIN                        | phil's group#3",                                                                 | Logged rollback to mark phil's mark #3 (timestamp)                                                                             | postgres
   10400 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10401 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 | Rollback session #1                                                                                                            | postgres
   10402 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | Rollback session #1: 2 tables locked, 0 deadlock(s)                                                                            | postgres
   10403 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | RLBK_phil's mark #3_%_START                                                                                                    | postgres
   10404 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | RLBK_phil's mark #3_%_START                                                                                                    | postgres
   10405 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   10406 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."phil's seq\1"                                                  |                                                                                                                                | postgres
   10407 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | RLBK_phil's mark #3_%_DONE                                                                                                     | postgres
   10408 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | RLBK_phil's mark #3_%_DONE                                                                                                     | postgres
   10409 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10011                                                                | 0 / 2 tables effectively processed.                                                                                            | postgres
   10410 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10011                                                                | 2 sequences processed.                                                                                                         | postgres
   10411 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10412 | ROLLBACK_GROUP           | END                          | phil's group#3",                                                                 | Rollback_id 10011, 0 tables and 2 sequences effectively processed                                                              | postgres
   10413 | ROLLBACK_GROUP           | BEGIN                        | phil's group#3",                                                                 | Unlogged rollback to mark phil's mark #3 (timestamp)                                                                           | postgres
   10414 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10415 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 | Rollback session #1                                                                                                            | postgres
   10416 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | Rollback session #1: 2 tables locked, 0 deadlock(s)                                                                            | postgres
   10417 | ROLLBACK_GROUP           | MARK DELETED                 | phil's group#3",                                                                 | mark RLBK_phil's mark #3_%_START is deleted                                                                                    | postgres
   10418 | ROLLBACK_GROUP           | MARK DELETED                 | phil's group#3",                                                                 | mark RLBK_phil's mark #3_%_DONE is deleted                                                                                     | postgres
   10419 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   10420 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."phil's seq\1"                                                  |                                                                                                                                | postgres
   10421 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10012                                                                | 0 / 2 tables effectively processed.                                                                                            | postgres
   10422 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10012                                                                | 2 sequences processed.                                                                                                         | postgres
   10423 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10424 | ROLLBACK_GROUP           | END                          | phil's group#3",                                                                 | Rollback_id 10012, 0 tables and 2 sequences effectively processed                                                              | postgres
   10425 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Unlogged rollback to mark Multi-1 (timestamp)                                                                                  | postgres
   10426 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10427 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10428 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10429 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100164 and <= 100239                                                                              | postgres
   10430 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 0 rolled back primary keys                                                                                                     | postgres
   10431 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10432 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10433 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10013                                                                | 1 / 5 tables effectively processed.                                                                                            | postgres
   10434 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10013                                                                | 2 sequences processed.                                                                                                         | postgres
   10435 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10436 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10013, 1 tables and 2 sequences effectively processed                                                              | postgres
   10437 | SNAP_GROUP               | BEGIN                        | myGroup1                                                                         | /tmp/emaj_test/snaps                                                                                                           | postgres
   10438 | SNAP_GROUP               | END                          | myGroup1                                                                         | 7 tables/sequences processed                                                                                                   | postgres
   10439 | SNAP_GROUP               | BEGIN                        | myGroup2                                                                         | /tmp/emaj_test/snaps                                                                                                           | postgres
   10440 | SNAP_GROUP               | END                          | myGroup2                                                                         | 8 tables/sequences processed                                                                                                   | postgres
   10441 | SNAP_GROUP               | BEGIN                        | phil's group#3",                                                                 | /tmp/emaj_test/snaps                                                                                                           | postgres
   10442 | SNAP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10443 | GEN_SQL_GROUP            | BEGIN                        | myGroup1                                                                         | From mark Multi-1 to current situation                                                                                         | postgres
   10444 | GEN_SQL_GROUP            | END                          | myGroup1                                                                         | 0 generated statements - script exported into /tmp/emaj_test/sql_scripts/myGroup1.sql                                          | postgres
   10445 | GEN_SQL_GROUP            | BEGIN                        | myGroup2                                                                         | From mark Multi-1 to current situation with tables/sequences filtering                                                         | postgres
   10446 | GEN_SQL_GROUP            | END                          | myGroup2                                                                         | 26 generated statements - script exported into /tmp/emaj_test/sql_scripts/myGroup2.sql                                         | postgres
   10447 | GEN_SQL_GROUP            | BEGIN                        | phil's group#3",                                                                 | From mark M1_rollbackable to current situation                                                                                 | postgres
   10448 | GEN_SQL_GROUP            | END                          | phil's group#3",                                                                 | 56 generated statements - script exported into /tmp/emaj_test/sql_scripts/Group3.sql                                           | postgres
   10449 | GEN_SQL_GROUP            | BEGIN                        | myGroup1                                                                         | From mark Multi-1 to current situation                                                                                         | postgres
   10450 | GEN_SQL_GROUP            | END                          | myGroup1                                                                         | 0 generated statements - script not exported                                                                                   | postgres
   10501 | STOP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10502 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10503 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10504 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10505 | CLEANUP_RLBK_STATE       |                              | Rollback id 10011                                                                | set to COMMITTED                                                                                                               | postgres
   10506 | CLEANUP_RLBK_STATE       |                              | Rollback id 10012                                                                | set to COMMITTED                                                                                                               | postgres
   10507 | CLEANUP_RLBK_STATE       |                              | Rollback id 10013                                                                | set to COMMITTED                                                                                                               | postgres
   10508 | CLEANUP_RLBK_STATE       |                              | Rollback id 10014                                                                | set to ABORTED                                                                                                                 | postgres
   10509 | CLEANUP_RLBK_STATE       |                              | Rollback id 10015                                                                | set to ABORTED                                                                                                                 | postgres
   10510 | CLEANUP_RLBK_STATE       |                              | Rollback id 10016                                                                | set to ABORTED                                                                                                                 | postgres
   10511 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10512 | STOP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10513 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10514 | ALTER_GROUP              | TABLE REMOVED                | "phil's schema3"."phil's tbl1"                                                   | From the idle group phil's group#3",                                                                                           | postgres
   10515 | ALTER_GROUP              | TABLE ADDED                  | "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name | To the idle group phil's group#3",                                                                                             | postgres
   10516 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10061                                                                                                           | postgres
   10517 | START_GROUP              | BEGIN                        | phil's group#3",                                                                 | With log reset                                                                                                                 | postgres
   10518 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10519 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10520 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | M1_after_alter_group                                                                                                           | postgres
   10521 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M1_after_alter_group                                                                                                           | postgres
   10522 | START_GROUP              | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10523 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10524 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10525 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10526 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | M2                                                                                                                             | postgres
   10527 | ROLLBACK_GROUP           | BEGIN                        | phil's group#3",                                                                 | Unlogged rollback to mark M1_after_alter_group (timestamp)                                                                     | postgres
   10528 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10529 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 | Rollback session #1                                                                                                            | postgres
   10530 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | Rollback session #1: 2 tables locked, 0 deadlock(s)                                                                            | postgres
   10531 | ROLLBACK_TABLE           | BEGIN                        | "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name | All log rows with emaj_gid > 100344 and <= 100350                                                                              | postgres
   10532 | ROLLBACK_TABLE           | END                          | "phil's schema3".table_with_very_looooooooooooooooooooooooooooooooooooooong_name | 10 rolled back primary keys                                                                                                    | postgres
   10533 | ROLLBACK_GROUP           | MARK DELETED                 | phil's group#3",                                                                 | mark M2 is deleted                                                                                                             | postgres
   10534 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   10535 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."phil's seq\1"                                                  |                                                                                                                                | postgres
   10536 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10017                                                                | 1 / 2 tables effectively processed.                                                                                            | postgres
   10537 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10017                                                                | 2 sequences processed.                                                                                                         | postgres
   10538 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10539 | ROLLBACK_GROUP           | END                          | phil's group#3",                                                                 | Rollback_id 10017, 1 tables and 2 sequences effectively processed                                                              | postgres
   10540 | STOP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10541 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10542 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 2 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10543 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10544 | CLEANUP_RLBK_STATE       |                              | Rollback id 10017                                                                | set to COMMITTED                                                                                                               | postgres
   10545 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   10546 | STOP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10547 | DROP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10548 | DROP_GROUP               | LOG_SCHEMA DROPPED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   10549 | DROP_GROUP               | END                          | phil's group#3",                                                                 | 4 tables/sequences processed                                                                                                   | postgres
   10550 | PROTECT_GROUP            |                              | myGroup2                                                                         | Status 1                                                                                                                       | postgres
   10551 | UNPROTECT_GROUP          |                              | myGroup2                                                                         | Status 1                                                                                                                       | postgres
   10552 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10553 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10554 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10555 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | Mark_to_protect                                                                                                                | postgres
   10556 | PROTECT_MARK_GROUP       |                              | myGroup1                                                                         | Mark Mark_to_protect ; status 1                                                                                                | postgres
   10557 | UNPROTECT_MARK_GROUP     |                              | myGroup1                                                                         | Mark Mark_to_protect ; status 1                                                                                                | postgres
   10558 | DELETE_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | Mark_to_protect                                                                                                                | postgres
   10559 | DELETE_MARK_GROUP        | END                          | myGroup1                                                                         | Mark_to_protect                                                                                                                | postgres
   10560 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10561 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10562 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10563 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC1                                                                                                                            | postgres
   10564 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10565 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10566 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10567 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC2                                                                                                                            | postgres
   10568 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC1 (timestamp)                                                                                        | postgres
   10569 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10570 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10571 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10572 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC1_%_START                                                                                                               | postgres
   10573 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC1_%_START                                                                                                               | postgres
   10574 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100350 and <= 100369                                                                              | postgres
   10575 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 13 rolled back primary keys                                                                                                    | postgres
   10576 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100350 and <= 100369                                                                              | postgres
   10577 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10578 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100350 and <= 100369                                                                              | postgres
   10579 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 2 rolled back primary keys                                                                                                     | postgres
   10580 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10581 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      | RESTART 6                                                                                                                      | postgres
   10582 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC1_%_DONE                                                                                                                | postgres
   10583 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC1_%_DONE                                                                                                                | postgres
   10584 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10018                                                                | 3 / 5 tables effectively processed.                                                                                            | postgres
   10585 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10018                                                                | 2 sequences processed.                                                                                                         | postgres
   10586 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10587 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10018, 3 tables and 2 sequences effectively processed                                                              | postgres
   10588 | RENAME_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | EMAJ_LAST_MARK                                                                                                                 | postgres
   10589 | RENAME_MARK_GROUP        | END                          | myGroup1                                                                         | RLBK_MC1_%_DONE renamed RLBK_MC1_DONE                                                                                          | postgres
   10590 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10591 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10592 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10593 | CLEANUP_RLBK_STATE       |                              | Rollback id 10018                                                                | set to COMMITTED                                                                                                               | postgres
   10594 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC3                                                                                                                            | postgres
   10595 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10596 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10597 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10598 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC4                                                                                                                            | postgres
   10599 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10600 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10601 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10602 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC5                                                                                                                            | postgres
   10603 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC3 (timestamp)                                                                                        | postgres
   10604 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10605 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10606 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10607 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC3_%_START                                                                                                               | postgres
   10608 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC3_%_START                                                                                                               | postgres
   10609 | ROLLBACK_TABLE           | BEGIN                        | myschema1."myTbl3"                                                               | All log rows with emaj_gid > 100385 and <= 100397                                                                              | postgres
   10610 | ROLLBACK_TABLE           | END                          | myschema1."myTbl3"                                                               | 10 rolled back primary keys                                                                                                    | postgres
   10611 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100385 and <= 100397                                                                              | postgres
   10612 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10613 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     | RESTART 21                                                                                                                     | postgres
   10614 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10615 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC3_%_DONE                                                                                                                | postgres
   10616 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC3_%_DONE                                                                                                                | postgres
   10617 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10019                                                                | 2 / 5 tables effectively processed.                                                                                            | postgres
   10618 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10019                                                                | 2 sequences processed.                                                                                                         | postgres
   10619 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10620 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10019, 2 tables and 2 sequences effectively processed                                                              | postgres
   10621 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC1 and RLBK_MC1_DONE                                                                                  | postgres
   10622 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 3 tables and 2 sequences processed ; 2 marks deleted                                                                           | postgres
   10623 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC3 and RLBK_MC3_%_DONE                                                                                | postgres
   10624 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 2 tables and 2 sequences processed ; 3 marks deleted                                                                           | postgres
   10625 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10626 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10627 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10628 | CLEANUP_RLBK_STATE       |                              | Rollback id 10019                                                                | set to COMMITTED                                                                                                               | postgres
   10629 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC6                                                                                                                            | postgres
   10630 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10631 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10632 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10633 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC7                                                                                                                            | postgres
   10634 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10635 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10636 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10637 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC8                                                                                                                            | postgres
   10638 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC8 (timestamp)                                                                                        | postgres
   10639 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10640 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10641 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10642 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC8_%_START                                                                                                               | postgres
   10643 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC8_%_START                                                                                                               | postgres
   10644 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100427 and <= 100429                                                                              | postgres
   10645 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10646 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100427 and <= 100429                                                                              | postgres
   10647 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 1 rolled back primary keys                                                                                                     | postgres
   10648 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10649 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      | RESTART 9                                                                                                                      | postgres
   10650 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC8_%_DONE                                                                                                                | postgres
   10651 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC8_%_DONE                                                                                                                | postgres
   10652 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10020                                                                | 2 / 5 tables effectively processed.                                                                                            | postgres
   10653 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10020                                                                | 2 sequences processed.                                                                                                         | postgres
   10654 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10655 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10020, 2 tables and 2 sequences effectively processed                                                              | postgres
   10656 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC8 and RLBK_MC8_%_DONE                                                                                | postgres
   10657 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 2 tables and 2 sequences processed ; 1 marks deleted                                                                           | postgres
   10658 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10659 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10660 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10661 | CLEANUP_RLBK_STATE       |                              | Rollback id 10020                                                                | set to COMMITTED                                                                                                               | postgres
   10662 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC9                                                                                                                            | postgres
   10663 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC6 (timestamp)                                                                                        | postgres
   10664 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10665 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10666 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10667 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC6_%_START                                                                                                               | postgres
   10668 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC6_%_START                                                                                                               | postgres
   10669 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100408 and <= 100443                                                                              | postgres
   10670 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 13 rolled back primary keys                                                                                                    | postgres
   10671 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100408 and <= 100443                                                                              | postgres
   10672 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10673 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100408 and <= 100443                                                                              | postgres
   10674 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10675 | ROLLBACK_TABLE           | BEGIN                        | myschema1."myTbl3"                                                               | All log rows with emaj_gid > 100408 and <= 100443                                                                              | postgres
   10676 | ROLLBACK_TABLE           | END                          | myschema1."myTbl3"                                                               | 10 rolled back primary keys                                                                                                    | postgres
   10677 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100408 and <= 100443                                                                              | postgres
   10678 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 2 rolled back primary keys                                                                                                     | postgres
   10679 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     | RESTART 21                                                                                                                     | postgres
   10680 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      | RESTART 7                                                                                                                      | postgres
   10681 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC6_%_DONE                                                                                                                | postgres
   10682 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC6_%_DONE                                                                                                                | postgres
   10683 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10021                                                                | 5 / 5 tables effectively processed.                                                                                            | postgres
   10684 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10021                                                                | 2 sequences processed.                                                                                                         | postgres
   10685 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10686 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10021, 5 tables and 2 sequences effectively processed                                                              | postgres
   10687 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC6 and RLBK_MC6_%_DONE                                                                                | postgres
   10688 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 5 tables and 2 sequences processed ; 5 marks deleted                                                                           | postgres
   10689 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10690 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10691 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10692 | CLEANUP_RLBK_STATE       |                              | Rollback id 10021                                                                | set to COMMITTED                                                                                                               | postgres
   10693 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC10                                                                                                                           | postgres
   10694 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC10 (timestamp)                                                                                       | postgres
   10695 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10696 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10697 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10698 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC10_%_START                                                                                                              | postgres
   10699 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC10_%_START                                                                                                              | postgres
   10700 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100468 and <= 100484                                                                              | postgres
   10701 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 11 rolled back primary keys                                                                                                    | postgres
   10702 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10703 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10704 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC10_%_DONE                                                                                                               | postgres
   10705 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC10_%_DONE                                                                                                               | postgres
   10706 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10022                                                                | 1 / 5 tables effectively processed.                                                                                            | postgres
   10707 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10022                                                                | 2 sequences processed.                                                                                                         | postgres
   10708 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10709 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10022, 1 tables and 2 sequences effectively processed                                                              | postgres
   10710 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10711 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10712 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10713 | CLEANUP_RLBK_STATE       |                              | Rollback id 10022                                                                | set to COMMITTED                                                                                                               | postgres
   10714 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC11                                                                                                                           | postgres
   10715 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC10 (timestamp)                                                                                       | postgres
   10716 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10717 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10718 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10719 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC10_%_START                                                                                                              | postgres
   10720 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC10_%_START                                                                                                              | postgres
   10721 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100468 and <= 100492                                                                              | postgres
   10722 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 11 rolled back primary keys                                                                                                    | postgres
   10723 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl4                                                                 | All log rows with emaj_gid > 100468 and <= 100492                                                                              | postgres
   10724 | ROLLBACK_TABLE           | END                          | myschema1.mytbl4                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10725 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10726 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10727 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC10_%_DONE                                                                                                               | postgres
   10728 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC10_%_DONE                                                                                                               | postgres
   10729 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10023                                                                | 2 / 5 tables effectively processed.                                                                                            | postgres
   10730 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10023                                                                | 2 sequences processed.                                                                                                         | postgres
   10731 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10732 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10023, 2 tables and 2 sequences effectively processed                                                              | postgres
   10733 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC10 and RLBK_MC10_%_DONE                                                                              | postgres
   10734 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 2 tables and 2 sequences processed ; 4 marks deleted                                                                           | postgres
   10735 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10736 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10737 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10738 | CLEANUP_RLBK_STATE       |                              | Rollback id 10023                                                                | set to COMMITTED                                                                                                               | postgres
   10739 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC15                                                                                                                           | postgres
   10740 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10741 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10742 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10743 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC16                                                                                                                           | postgres
   10744 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC15 (timestamp)                                                                                       | postgres
   10745 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10746 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10747 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10748 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC15_%_START                                                                                                              | postgres
   10749 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC15_%_START                                                                                                              | postgres
   10750 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100493 and <= 100512                                                                              | postgres
   10751 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 13 rolled back primary keys                                                                                                    | postgres
   10752 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100493 and <= 100512                                                                              | postgres
   10753 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   10754 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100493 and <= 100512                                                                              | postgres
   10755 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 2 rolled back primary keys                                                                                                     | postgres
   10756 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10757 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      | RESTART 7                                                                                                                      | postgres
   10758 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC15_%_DONE                                                                                                               | postgres
   10759 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC15_%_DONE                                                                                                               | postgres
   10760 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10024                                                                | 3 / 5 tables effectively processed.                                                                                            | postgres
   10761 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10024                                                                | 2 sequences processed.                                                                                                         | postgres
   10762 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10763 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10024, 3 tables and 2 sequences effectively processed                                                              | postgres
   10764 | RENAME_MARK_GROUP        | BEGIN                        | myGroup1                                                                         | EMAJ_LAST_MARK                                                                                                                 | postgres
   10765 | RENAME_MARK_GROUP        | END                          | myGroup1                                                                         | RLBK_MC15_%_DONE renamed RLBK_MC15_DONE                                                                                        | postgres
   10766 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10767 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         |                                                                                                                                | postgres
   10768 | LOCK_GROUP               | END                          | myGroup1                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10769 | CLEANUP_RLBK_STATE       |                              | Rollback id 10024                                                                | set to COMMITTED                                                                                                               | postgres
   10770 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | MC17                                                                                                                           | postgres
   10771 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Logged rollback to mark MC16 (timestamp)                                                                                       | postgres
   10772 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10773 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10774 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10775 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC16_%_START                                                                                                              | postgres
   10776 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC16_%_START                                                                                                              | postgres
   10777 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100510 and <= 100528                                                                              | postgres
   10778 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 11 rolled back primary keys                                                                                                    | postgres
   10779 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100510 and <= 100528                                                                              | postgres
   10780 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 2 rolled back primary keys                                                                                                     | postgres
   10781 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100510 and <= 100528                                                                              | postgres
   10782 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 2 rolled back primary keys                                                                                                     | postgres
   10783 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     |                                                                                                                                | postgres
   10784 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      |                                                                                                                                | postgres
   10785 | SET_MARK_GROUP           | BEGIN                        | myGroup1                                                                         | RLBK_MC16_%_DONE                                                                                                               | postgres
   10786 | SET_MARK_GROUP           | END                          | myGroup1                                                                         | RLBK_MC16_%_DONE                                                                                                               | postgres
   10787 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10025                                                                | 3 / 5 tables effectively processed.                                                                                            | postgres
   10788 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10025                                                                | 2 sequences processed.                                                                                                         | postgres
   10789 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10790 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10025, 3 tables and 2 sequences effectively processed                                                              | postgres
   10791 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | myGroup1                                                                         | Erase all between marks MC15 and RLBK_MC15_DONE                                                                                | postgres
   10792 | CONSOLIDATE_RLBK_GROUP   | END                          | myGroup1                                                                         | 3 tables and 2 sequences processed ; 2 marks deleted                                                                           | postgres
   10793 | ROLLBACK_GROUP           | BEGIN                        | myGroup1                                                                         | Unlogged rollback to mark Multi-1 (timestamp)                                                                                  | postgres
   10794 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10795 | LOCK_GROUP               | BEGIN                        | myGroup1                                                                         | Rollback session #1                                                                                                            | postgres
   10796 | LOCK_GROUP               | END                          | myGroup1                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10797 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl1                                                                 | All log rows with emaj_gid > 100164 and <= 100543                                                                              | postgres
   10798 | ROLLBACK_TABLE           | END                          | myschema1.mytbl1                                                                 | 11 rolled back primary keys                                                                                                    | postgres
   10799 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2                                                                 | All log rows with emaj_gid > 100164 and <= 100543                                                                              | postgres
   10800 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2                                                                 | 3 rolled back primary keys                                                                                                     | postgres
   10801 | ROLLBACK_TABLE           | BEGIN                        | myschema1.mytbl2b                                                                | All log rows with emaj_gid > 100164 and <= 100543                                                                              | postgres
   10802 | ROLLBACK_TABLE           | END                          | myschema1.mytbl2b                                                                | 2 rolled back primary keys                                                                                                     | postgres
   10803 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC1 is deleted                                                                                                            | postgres
   10804 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC1_DONE is deleted                                                                                                  | postgres
   10805 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC3 is deleted                                                                                                            | postgres
   10806 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC3_%_DONE is deleted                                                                                                | postgres
   10807 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC6 is deleted                                                                                                            | postgres
   10808 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC6_%_DONE is deleted                                                                                                | postgres
   10809 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC10 is deleted                                                                                                           | postgres
   10810 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC10_%_DONE is deleted                                                                                               | postgres
   10811 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC15 is deleted                                                                                                           | postgres
   10812 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC15_DONE is deleted                                                                                                 | postgres
   10813 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark MC17 is deleted                                                                                                           | postgres
   10814 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC16_%_START is deleted                                                                                              | postgres
   10815 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup1                                                                         | mark RLBK_MC16_%_DONE is deleted                                                                                               | postgres
   10816 | ROLLBACK_SEQUENCE        |                              | myschema1."myTbl3_col31_seq"                                                     | RESTART 21                                                                                                                     | postgres
   10817 | ROLLBACK_SEQUENCE        |                              | myschema1.mytbl2b_col20_seq                                                      | RESTART 6                                                                                                                      | postgres
   10818 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10026                                                                | 3 / 5 tables effectively processed.                                                                                            | postgres
   10819 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10026                                                                | 2 sequences processed.                                                                                                         | postgres
   10820 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10821 | ROLLBACK_GROUP           | END                          | myGroup1                                                                         | Rollback_id 10026, 3 tables and 2 sequences effectively processed                                                              | postgres
   10822 | CREATE_GROUP             | BEGIN                        | myGroup4                                                                         | rollbackable                                                                                                                   | postgres
   10823 | CREATE_GROUP             | LOG_SCHEMA CREATED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   10824 | CREATE_GROUP             | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10825 | START_GROUP              | BEGIN                        | myGroup4                                                                         | With log reset                                                                                                                 | postgres
   10826 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10827 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10828 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M1                                                                                                                             | postgres
   10829 | CLEANUP_RLBK_STATE       |                              | Rollback id 10025                                                                | set to COMMITTED                                                                                                               | postgres
   10830 | CLEANUP_RLBK_STATE       |                              | Rollback id 10026                                                                | set to COMMITTED                                                                                                               | postgres
   10831 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M1                                                                                                                             | postgres
   10832 | START_GROUP              | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10833 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10834 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10835 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10836 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M2                                                                                                                             | postgres
   10837 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10838 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10839 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10840 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M3                                                                                                                             | postgres
   10841 | ALTER_GROUP              | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10842 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10843 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10844 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M4                                                                                                                             | postgres
   10845 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M4                                                                                                                             | postgres
   10846 | ALTER_GROUP              | END                          | myGroup4                                                                         | Timestamp Id : 10103                                                                                                           | postgres
   10847 | ALTER_GROUP              | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10848 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10849 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10850 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M5                                                                                                                             | postgres
   10851 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M5                                                                                                                             | postgres
   10852 | ALTER_GROUP              | END                          | myGroup4                                                                         | Timestamp Id : 10104                                                                                                           | postgres
   10853 | STOP_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10854 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10855 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10856 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M6                                                                                                                             | postgres
   10857 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M6                                                                                                                             | postgres
   10858 | STOP_GROUP               | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10859 | START_GROUP              | BEGIN                        | myGroup4                                                                         | Without log reset                                                                                                              | postgres
   10860 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10861 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10862 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M7                                                                                                                             | postgres
   10863 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M7                                                                                                                             | postgres
   10864 | START_GROUP              | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10865 | STOP_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10866 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10867 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10868 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | M8                                                                                                                             | postgres
   10869 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M8                                                                                                                             | postgres
   10870 | STOP_GROUP               | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10871 | START_GROUP              | BEGIN                        | myGroup4                                                                         | With log reset                                                                                                                 | postgres
   10872 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10873 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10874 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | Start                                                                                                                          | postgres
   10875 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | Start                                                                                                                          | postgres
   10876 | START_GROUP              | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10877 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10878 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10879 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10880 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | M1                                                                                                                             | postgres
   10881 | ALTER_GROUP              | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10882 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10883 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10884 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | Add partition 3                                                                                                                | postgres
   10885 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | Add partition 3                                                                                                                | postgres
   10886 | ALTER_GROUP              | TABLE ADDED                  | myschema4.mypartp3                                                               | To the logging group myGroup4                                                                                                  | postgres
   10887 | ALTER_GROUP              | SEQUENCE ADDED               | myschema4.mytblp_col3_seq                                                        | To the logging group myGroup4                                                                                                  | postgres
   10888 | ALTER_GROUP              | END                          | myGroup4                                                                         | Timestamp Id : 10110                                                                                                           | postgres
   10889 | ALTER_GROUP              | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10890 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10891 | LOCK_GROUP               | END                          | myGroup4                                                                         | 6 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10892 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | Remove partition 1                                                                                                             | postgres
   10893 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | Remove partition 1                                                                                                             | postgres
   10894 | ALTER_GROUP              | TABLE REMOVED                | myschema4.mypartp1                                                               | From the logging group myGroup4                                                                                                | postgres
   10895 | ALTER_GROUP              | SEQUENCE REMOVED             | myschema4.mytblp_col3_seq                                                        | From the logging group myGroup4                                                                                                | postgres
   10896 | ALTER_GROUP              | END                          | myGroup4                                                                         | Timestamp Id : 10111                                                                                                           | postgres
   10899 | ROLLBACK_GROUP           | BEGIN                        | myGroup4                                                                         | Unlogged rollback to mark Start (timestamp)                                                                                    | postgres
   10900 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10901 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         | Rollback session #1                                                                                                            | postgres
   10902 | LOCK_GROUP               | END                          | myGroup4                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10903 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup4                                                                         | mark M1 is deleted                                                                                                             | postgres
   10904 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup4                                                                         | mark Add partition 3 is deleted                                                                                                | postgres
   10905 | ROLLBACK_GROUP           | MARK DELETED                 | myGroup4                                                                         | mark Remove partition 1 is deleted                                                                                             | postgres
   10906 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10027                                                                | 0 / 5 tables effectively processed.                                                                                            | postgres
   10907 | ROLLBACK_GROUP           | WARNING                      | Rollback id 10027                                                                | The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)                            | postgres
   10908 | ROLLBACK_GROUP           | WARNING                      | Rollback id 10027                                                                | The table myschema4.mypartp1 has been left unchanged (not in group anymore since <timestamp>)                                  | postgres
   10909 | ROLLBACK_GROUP           | WARNING                      | Rollback id 10027                                                                | The sequence myschema4.mytblp_col3_seq has been left unchanged (not in group anymore since <timestamp>)                        | postgres
   10910 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10911 | ROLLBACK_GROUP           | END                          | myGroup4                                                                         | Rollback_id 10027, 0 tables and 0 sequences effectively processed                                                              | postgres
   10912 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10913 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10914 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10915 | CLEANUP_RLBK_STATE       |                              | Rollback id 10027                                                                | set to COMMITTED                                                                                                               | postgres
   10916 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | Before update                                                                                                                  | postgres
   10917 | ROLLBACK_GROUP           | BEGIN                        | myGroup4                                                                         | Logged rollback to mark Before update (timestamp)                                                                              | postgres
   10918 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   10919 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         | Rollback session #1                                                                                                            | postgres
   10920 | LOCK_GROUP               | END                          | myGroup4                                                                         | Rollback session #1: 5 tables locked, 0 deadlock(s)                                                                            | postgres
   10921 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | RLBK_Before update_%_START                                                                                                     | postgres
   10922 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | RLBK_Before update_%_START                                                                                                     | postgres
   10923 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | RLBK_Before update_%_DONE                                                                                                      | postgres
   10924 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | RLBK_Before update_%_DONE                                                                                                      | postgres
   10925 | ROLLBACK_GROUP           | NOTICE                       | Rollback id 10028                                                                | 0 / 5 tables effectively processed.                                                                                            | postgres
   10926 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   10927 | ROLLBACK_GROUP           | END                          | myGroup4                                                                         | Rollback_id 10028, 0 tables and 0 sequences effectively processed                                                              | postgres
   10928 | STOP_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10929 | LOCK_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10930 | LOCK_GROUP               | END                          | myGroup4                                                                         | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10931 | SET_MARK_GROUP           | BEGIN                        | myGroup4                                                                         | STOP_%                                                                                                                         | postgres
   10932 | CLEANUP_RLBK_STATE       |                              | Rollback id 10028                                                                | set to COMMITTED                                                                                                               | postgres
   10933 | SET_MARK_GROUP           | END                          | myGroup4                                                                         | STOP_%                                                                                                                         | postgres
   10934 | STOP_GROUP               | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10935 | DROP_GROUP               | BEGIN                        | myGroup4                                                                         |                                                                                                                                | postgres
   10936 | DROP_GROUP               | LOG_SCHEMA DROPPED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   10937 | DROP_GROUP               | END                          | myGroup4                                                                         | 5 tables/sequences processed                                                                                                   | postgres
   10938 | CREATE_GROUP             | BEGIN                        | phil's group#3",                                                                 | audit_only                                                                                                                     | postgres
   10939 | CREATE_GROUP             | LOG_SCHEMA CREATED           | emaj_myschema5                                                                   |                                                                                                                                | postgres
   10940 | CREATE_GROUP             | LOG_SCHEMA CREATED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   10941 | CREATE_GROUP             | END                          | phil's group#3",                                                                 | 7 tables/sequences processed                                                                                                   | postgres
   10942 | START_GROUP              | BEGIN                        | phil's group#3",                                                                 | With log reset                                                                                                                 | postgres
   10943 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10944 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10945 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | start                                                                                                                          | postgres
   10946 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | start                                                                                                                          | postgres
   10947 | START_GROUP              | END                          | phil's group#3",                                                                 | 7 tables/sequences processed                                                                                                   | postgres
   10948 | DISABLE_PROTECTION       | EVENT TRIGGERS DISABLED      |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   10949 | ADJUST_GROUP_PROPERTIES  |                              | phil's group#3",                                                                 | Set the group_has_waiting_changes column to true                                                                               | postgres
   10950 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10951 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10952 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10953 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | remove_the_damaged_table                                                                                                       | postgres
   10954 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | remove_the_damaged_table                                                                                                       | postgres
   10955 | ALTER_GROUP              | TABLE REMOVED                | "phil's schema3".mytbl4                                                          | From the logging group phil's group#3",                                                                                        | postgres
   10956 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10120                                                                                                           | postgres
   10957 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10958 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10959 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 4 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10960 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | re_add_the_table                                                                                                               | postgres
   10961 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | re_add_the_table                                                                                                               | postgres
   10962 | ALTER_GROUP              | TABLE ADDED                  | "phil's schema3".mytbl4                                                          | To the logging group phil's group#3",                                                                                          | postgres
   10963 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10121                                                                                                           | postgres
   10964 | ADJUST_GROUP_PROPERTIES  |                              | phil's group#3",                                                                 | Set the group_has_waiting_changes column to true                                                                               | postgres
   10965 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10966 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10967 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10968 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | remove_the_damaged_table_2                                                                                                     | postgres
   10969 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | remove_the_damaged_table_2                                                                                                     | postgres
   10970 | ALTER_GROUP              | TABLE REMOVED                | "phil's schema3".mytbl4                                                          | From the logging group phil's group#3",                                                                                        | postgres
   10971 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10122                                                                                                           | postgres
   10972 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10973 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10974 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 4 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10975 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | re_add_the_table_2                                                                                                             | postgres
   10976 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | re_add_the_table_2                                                                                                             | postgres
   10977 | ALTER_GROUP              | TABLE ADDED                  | "phil's schema3".mytbl4                                                          | To the logging group phil's group#3",                                                                                          | postgres
   10978 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10123                                                                                                           | postgres
   10981 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10982 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10983 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 4 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10984 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | remove_the_dropped_table_and_seq                                                                                               | postgres
   10985 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | remove_the_dropped_table_and_seq                                                                                               | postgres
   10986 | ALTER_GROUP              | TABLE REMOVED                | "phil's schema3".mytbl4                                                          | From the logging group phil's group#3",                                                                                        | postgres
   10987 | ALTER_GROUP              | SEQUENCE REMOVED             | "phil's schema3"."phil's seq\1"                                                  | From the logging group phil's group#3",                                                                                        | postgres
   10988 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10124                                                                                                           | postgres
   10989 | ALTER_GROUP              | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10990 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10991 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 4 tables locked, 0 deadlock(s)                                                                                                 | postgres
   10992 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | revert_last_changes                                                                                                            | postgres
   10993 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | revert_last_changes                                                                                                            | postgres
   10994 | ALTER_GROUP              | TABLE ADDED                  | "phil's schema3".mytbl4                                                          | To the logging group phil's group#3",                                                                                          | postgres
   10995 | ALTER_GROUP              | SEQUENCE ADDED               | "phil's schema3"."phil's seq\1"                                                  | To the logging group phil's group#3",                                                                                          | postgres
   10996 | ALTER_GROUP              | END                          | phil's group#3",                                                                 | Timestamp Id : 10125                                                                                                           | postgres
   10997 | ENABLE_PROTECTION        | EVENT TRIGGERS ENABLED       |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   10998 | STOP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   10999 | LOCK_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   11000 | LOCK_GROUP               | END                          | phil's group#3",                                                                 | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11001 | SET_MARK_GROUP           | BEGIN                        | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   11002 | SET_MARK_GROUP           | END                          | phil's group#3",                                                                 | STOP_%                                                                                                                         | postgres
   11003 | STOP_GROUP               | END                          | phil's group#3",                                                                 | 7 tables/sequences processed                                                                                                   | postgres
   11004 | DROP_GROUP               | BEGIN                        | phil's group#3",                                                                 |                                                                                                                                | postgres
   11005 | DROP_GROUP               | LOG_SCHEMA DROPPED           | emaj_myschema5                                                                   |                                                                                                                                | postgres
   11006 | DROP_GROUP               | LOG_SCHEMA DROPPED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   11007 | DROP_GROUP               | END                          | phil's group#3",                                                                 | 7 tables/sequences processed                                                                                                   | postgres
   11008 | CREATE_GROUP             | BEGIN                        | grp_tmp                                                                          | rollbackable                                                                                                                   | postgres
   11009 | CREATE_GROUP             | END                          | grp_tmp                                                                          | 0 tables/sequences processed                                                                                                   | postgres
   11010 | CREATE_GROUP             | BEGIN                        | grp_tmp_3                                                                        | rollbackable                                                                                                                   | postgres
   11011 | CREATE_GROUP             | END                          | grp_tmp_3                                                                        | 0 tables/sequences processed                                                                                                   | postgres
   11012 | CREATE_GROUP             | BEGIN                        | grp_tmp_4                                                                        | rollbackable                                                                                                                   | postgres
   11013 | CREATE_GROUP             | END                          | grp_tmp_4                                                                        | 0 tables/sequences processed                                                                                                   | postgres
   11014 | START_GROUPS             | BEGIN                        | grp_tmp,grp_tmp_4                                                                | With log reset                                                                                                                 | postgres
   11015 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_4                                                                |                                                                                                                                | postgres
   11016 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_4                                                                | 0 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11017 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_4                                                                | Start                                                                                                                          | postgres
   11018 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_4                                                                | Start                                                                                                                          | postgres
   11019 | START_GROUPS             | END                          | grp_tmp,grp_tmp_4                                                                | 0 tables/sequences processed                                                                                                   | postgres
   11020 | ASSIGN_TABLES            | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11021 | ASSIGN_TABLES            | LOG_SCHEMA CREATED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   11022 | ASSIGN_TABLES            | TABLE ADDED                  | "phil's schema3"."myTbl2\"                                                       | To the idle group grp_tmp_3                                                                                                    | postgres
   11023 | ASSIGN_TABLES            | TABLE ADDED                  | "phil's schema3".mytbl4                                                          | To the idle group grp_tmp_3                                                                                                    | postgres
   11024 | ASSIGN_TABLES            | TABLE ADDED                  | "phil's schema3"."phil's tbl1"                                                   | To the idle group grp_tmp_3                                                                                                    | postgres
   11025 | ASSIGN_TABLES            | END                          |                                                                                  | 3 tables assigned to the group grp_tmp_3                                                                                       | postgres
   11026 | ASSIGN_SEQUENCES         | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11027 | ASSIGN_SEQUENCES         | SEQUENCE ADDED               | "phil's schema3"."myTbl2\_col21_seq"                                             | To the idle group grp_tmp_3                                                                                                    | postgres
   11028 | ASSIGN_SEQUENCES         | SEQUENCE ADDED               | "phil's schema3"."phil's seq\1"                                                  | To the idle group grp_tmp_3                                                                                                    | postgres
   11029 | ASSIGN_SEQUENCES         | END                          |                                                                                  | 2 sequences assigned to the group grp_tmp_3                                                                                    | postgres
   11030 | ASSIGN_TABLES            | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11031 | LOCK_GROUP               | BEGIN                        | grp_tmp_4                                                                        |                                                                                                                                | postgres
   11032 | LOCK_GROUP               | END                          | grp_tmp_4                                                                        | 0 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11033 | SET_MARK_GROUP           | BEGIN                        | grp_tmp_4                                                                        | ASSIGN_%                                                                                                                       | postgres
   11034 | SET_MARK_GROUP           | END                          | grp_tmp_4                                                                        | ASSIGN_%                                                                                                                       | postgres
   11035 | ASSIGN_TABLES            | LOG_SCHEMA CREATED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   11036 | ASSIGN_TABLES            | TABLE ADDED                  | myschema4.mypartp3                                                               | To the logging group grp_tmp_4                                                                                                 | postgres
   11037 | ASSIGN_TABLES            | TABLE ADDED                  | myschema4.mypartp2                                                               | To the logging group grp_tmp_4                                                                                                 | postgres
   11038 | ASSIGN_TABLES            | TABLE ADDED                  | myschema4.mytblc1                                                                | To the logging group grp_tmp_4                                                                                                 | postgres
   11039 | ASSIGN_TABLES            | TABLE ADDED                  | myschema4.mytblc2                                                                | To the logging group grp_tmp_4                                                                                                 | postgres
   11040 | ASSIGN_TABLES            | TABLE ADDED                  | myschema4.mytblm                                                                 | To the logging group grp_tmp_4                                                                                                 | postgres
   11041 | ASSIGN_TABLES            | END                          |                                                                                  | 5 tables assigned to the group grp_tmp_4                                                                                       | postgres
   11042 | ASSIGN_SEQUENCES         | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11043 | LOCK_GROUP               | BEGIN                        | grp_tmp_4                                                                        |                                                                                                                                | postgres
   11044 | LOCK_GROUP               | END                          | grp_tmp_4                                                                        | 5 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11045 | SET_MARK_GROUP           | BEGIN                        | grp_tmp_4                                                                        | ASSIGN_%                                                                                                                       | postgres
   11046 | SET_MARK_GROUP           | END                          | grp_tmp_4                                                                        | ASSIGN_%                                                                                                                       | postgres
   11047 | ASSIGN_SEQUENCES         | SEQUENCE ADDED               | myschema4.mytblp_col3_seq                                                        | To the logging group grp_tmp_4                                                                                                 | postgres
   11048 | ASSIGN_SEQUENCES         | END                          |                                                                                  | 1 sequences assigned to the group grp_tmp_4                                                                                    | postgres
   11049 | START_GROUP              | BEGIN                        | grp_tmp_3                                                                        | With log reset                                                                                                                 | postgres
   11050 | LOCK_GROUP               | BEGIN                        | grp_tmp_3                                                                        |                                                                                                                                | postgres
   11051 | LOCK_GROUP               | END                          | grp_tmp_3                                                                        | 3 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11052 | SET_MARK_GROUP           | BEGIN                        | grp_tmp_3                                                                        | Start                                                                                                                          | postgres
   11053 | SET_MARK_GROUP           | END                          | grp_tmp_3                                                                        | Start                                                                                                                          | postgres
   11054 | START_GROUP              | END                          | grp_tmp_3                                                                        | 5 tables/sequences processed                                                                                                   | postgres
   11055 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk1                                                                                                                            | postgres
   11056 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11057 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11058 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk1                                                                                                                            | postgres
   11059 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk2                                                                                                                            | postgres
   11060 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11061 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11062 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk2                                                                                                                            | postgres
   11063 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk3                                                                                                                            | postgres
   11064 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11065 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11066 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk3                                                                                                                            | postgres
   11067 | ROLLBACK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Unlogged rollback to mark Mk3 (timestamp)                                                                                      | postgres
   11068 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   11069 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1                                                                                                            | postgres
   11070 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1: 8 tables locked, 0 deadlock(s)                                                                            | postgres
   11071 | ROLLBACK_TABLE           | BEGIN                        | myschema4.mytblc2                                                                | All log rows with emaj_gid > 100577 and <= 100581                                                                              | postgres
   11072 | ROLLBACK_TABLE           | END                          | myschema4.mytblc2                                                                | 3 rolled back primary keys                                                                                                     | postgres
   11073 | ROLLBACK_TABLE           | BEGIN                        | myschema4.mytblc1                                                                | All log rows with emaj_gid > 100577 and <= 100581                                                                              | postgres
   11074 | ROLLBACK_TABLE           | END                          | myschema4.mytblc1                                                                | 1 rolled back primary keys                                                                                                     | postgres
   11075 | ROLLBACK_SEQUENCE        |                              | myschema4.mytblp_col3_seq                                                        |                                                                                                                                | postgres
   11076 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   11077 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."phil's seq\1"                                                  |                                                                                                                                | postgres
   11078 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10029                                                                | 2 / 8 tables effectively processed.                                                                                            | postgres
   11079 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10029                                                                | 3 sequences processed.                                                                                                         | postgres
   11080 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   11081 | ROLLBACK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback_id 10029, 2 tables and 3 sequences effectively processed                                                              | postgres
   11082 | MODIFY_TABLES            | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11083 | LOCK_GROUP               | BEGIN                        | grp_tmp_3                                                                        |                                                                                                                                | postgres
   11084 | LOCK_GROUP               | END                          | grp_tmp_3                                                                        | 3 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11085 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3                                                                        | Modify 1 table                                                                                                                 | postgres
   11086 | CLEANUP_RLBK_STATE       |                              | Rollback id 10029                                                                | set to COMMITTED                                                                                                               | postgres
   11087 | SET_MARK_GROUPS          | END                          | grp_tmp_3                                                                        | Modify 1 table                                                                                                                 | postgres
   11088 | MODIFY_TABLES            | PRIORITY CHANGED             | "phil's schema3"."phil's tbl1"                                                   | NULL => -                                                                                                                      | postgres
   11089 | MODIFY_TABLES            | LOG DATA TABLESPACE CHANGED  | "phil's schema3"."phil's tbl1"                                                   | Default tablespace => tsp log'2                                                                                                | postgres
   11090 | MODIFY_TABLES            | END                          |                                                                                  | 1 tables effectively modified                                                                                                  | postgres
   11091 | MOVE_TABLES              | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11092 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_3                                                                |                                                                                                                                | postgres
   11093 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_3                                                                | 3 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11094 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3                                                                | Move_tbl_3_to_tmp                                                                                                              | postgres
   11095 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3                                                                | Move_tbl_3_to_tmp                                                                                                              | postgres
   11096 | MOVE_TABLES              | TABLE MOVED                  | "phil's schema3"."myTbl2\"                                                       | From the logging group grp_tmp_3 to the logging group grp_tmp                                                                  | postgres
   11097 | MOVE_TABLES              | TABLE MOVED                  | "phil's schema3".mytbl4                                                          | From the logging group grp_tmp_3 to the logging group grp_tmp                                                                  | postgres
   11098 | MOVE_TABLES              | TABLE MOVED                  | "phil's schema3"."phil's tbl1"                                                   | From the logging group grp_tmp_3 to the logging group grp_tmp                                                                  | postgres
   11099 | MOVE_TABLES              | END                          |                                                                                  | 3 tables moved to the new tables group grp_tmp                                                                                 | postgres
   11100 | MOVE_SEQUENCES           | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11101 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_3                                                                |                                                                                                                                | postgres
   11102 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_3                                                                | 3 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11103 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3                                                                | Move_seq_3_to_tmp                                                                                                              | postgres
   11104 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3                                                                | Move_seq_3_to_tmp                                                                                                              | postgres
   11105 | MOVE_SEQUENCES           | SEQUENCE MOVED               | "phil's schema3"."myTbl2\_col21_seq"                                             | From the logging group grp_tmp_3 to the logging group grp_tmp                                                                  | postgres
   11106 | MOVE_SEQUENCES           | SEQUENCE MOVED               | "phil's schema3"."phil's seq\1"                                                  | From the logging group grp_tmp_3 to the logging group grp_tmp                                                                  | postgres
   11107 | MOVE_SEQUENCES           | END                          |                                                                                  | 2 sequences moved to the new tables group grp_tmp                                                                              | postgres
   11108 | MOVE_TABLES              | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11109 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_4                                                                |                                                                                                                                | postgres
   11110 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_4                                                                | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11111 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_4                                                                | Move_tbl_4_to_tmp                                                                                                              | postgres
   11112 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_4                                                                | Move_tbl_4_to_tmp                                                                                                              | postgres
   11113 | MOVE_TABLES              | TABLE MOVED                  | myschema4.mypartp2                                                               | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11114 | MOVE_TABLES              | TABLE MOVED                  | myschema4.mypartp3                                                               | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11115 | MOVE_TABLES              | TABLE MOVED                  | myschema4.mytblc1                                                                | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11116 | MOVE_TABLES              | TABLE MOVED                  | myschema4.mytblc2                                                                | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11117 | MOVE_TABLES              | TABLE MOVED                  | myschema4.mytblm                                                                 | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11118 | MOVE_TABLES              | END                          |                                                                                  | 5 tables moved to the new tables group grp_tmp                                                                                 | postgres
   11119 | MOVE_SEQUENCES           | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11120 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_4                                                                |                                                                                                                                | postgres
   11121 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_4                                                                | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11122 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_4                                                                | Move_seq_4_to_tmp                                                                                                              | postgres
   11123 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_4                                                                | Move_seq_4_to_tmp                                                                                                              | postgres
   11124 | MOVE_SEQUENCES           | SEQUENCE MOVED               | myschema4.mytblp_col3_seq                                                        | From the logging group grp_tmp_4 to the logging group grp_tmp                                                                  | postgres
   11125 | MOVE_SEQUENCES           | END                          |                                                                                  | 1 sequences moved to the new tables group grp_tmp                                                                              | postgres
   11126 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk4                                                                                                                            | postgres
   11127 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11128 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11129 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk4                                                                                                                            | postgres
   11130 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk5                                                                                                                            | postgres
   11131 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11132 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11133 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk5                                                                                                                            | postgres
   11134 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk6                                                                                                                            | postgres
   11135 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11136 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11137 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk6                                                                                                                            | postgres
   11138 | REMOVE_TABLE             | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11139 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11140 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 8 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11141 | SET_MARK_GROUP           | BEGIN                        | grp_tmp                                                                          | Remove_mytblc1                                                                                                                 | postgres
   11142 | SET_MARK_GROUP           | END                          | grp_tmp                                                                          | Remove_mytblc1                                                                                                                 | postgres
   11143 | REMOVE_TABLE             | TABLE REMOVED                | myschema4.mytblc1                                                                | From the logging group grp_tmp                                                                                                 | postgres
   11144 | REMOVE_TABLE             | END                          |                                                                                  | 1 tables removed from their groups                                                                                             | postgres
   11145 | REMOVE_SEQUENCE          | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11146 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11147 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11148 | SET_MARK_GROUP           | BEGIN                        | grp_tmp                                                                          | Remove_myseq1                                                                                                                  | postgres
   11149 | SET_MARK_GROUP           | END                          | grp_tmp                                                                          | Remove_myseq1                                                                                                                  | postgres
   11150 | REMOVE_SEQUENCE          | SEQUENCE REMOVED             | "phil's schema3"."phil's seq\1"                                                  | From the logging group grp_tmp                                                                                                 | postgres
   11151 | REMOVE_SEQUENCE          | END                          |                                                                                  | 1 sequences removed from their groups                                                                                          | postgres
   11152 | ROLLBACK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Logged rollback to mark Mk5 (timestamp)                                                                                        | postgres
   11153 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   11154 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1                                                                                                            | postgres
   11155 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1: 7 tables locked, 0 deadlock(s)                                                                            | postgres
   11156 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | RLBK_Mk5_%_START                                                                                                               | postgres
   11157 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | RLBK_Mk5_%_START                                                                                                               | postgres
   11158 | ROLLBACK_TABLE           | BEGIN                        | myschema4.mytblc2                                                                | All log rows with emaj_gid > 100586 and <= 100594                                                                              | postgres
   11159 | ROLLBACK_TABLE           | END                          | myschema4.mytblc2                                                                | 3 rolled back primary keys                                                                                                     | postgres
   11160 | ROLLBACK_TABLE           | BEGIN                        | myschema4.mytblm                                                                 | All log rows with emaj_gid > 100586 and <= 100594                                                                              | postgres
   11161 | ROLLBACK_TABLE           | END                          | myschema4.mytblm                                                                 | 1 rolled back primary keys                                                                                                     | postgres
   11162 | ROLLBACK_SEQUENCE        |                              | myschema4.mytblp_col3_seq                                                        |                                                                                                                                | postgres
   11163 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   11164 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | RLBK_Mk5_%_DONE                                                                                                                | postgres
   11165 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | RLBK_Mk5_%_DONE                                                                                                                | postgres
   11166 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10030                                                                | 2 / 7 tables effectively processed.                                                                                            | postgres
   11167 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10030                                                                | 2 sequences processed.                                                                                                         | postgres
   11168 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10030                                                                | The table myschema4.mytblc1 has been left unchanged (not in group anymore since <timestamp>)                                   | postgres
   11169 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10030                                                                | The sequence "phil's schema3"."phil's seq\1" has been left unchanged (not in group anymore since <timestamp>)                  | postgres
   11170 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   11171 | ROLLBACK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback_id 10030, 2 tables and 2 sequences effectively processed                                                              | postgres
   11172 | RENAME_MARK_GROUP        | BEGIN                        | grp_tmp_3                                                                        | EMAJ_LAST_MARK                                                                                                                 | postgres
   11173 | RENAME_MARK_GROUP        | END                          | grp_tmp_3                                                                        | RLBK_Mk5_%_DONE renamed End_logged_rollback                                                                                    | postgres
   11174 | RENAME_MARK_GROUP        | BEGIN                        | grp_tmp_4                                                                        | EMAJ_LAST_MARK                                                                                                                 | postgres
   11175 | RENAME_MARK_GROUP        | END                          | grp_tmp_4                                                                        | RLBK_Mk5_%_DONE renamed End_logged_rollback                                                                                    | postgres
   11176 | RENAME_MARK_GROUP        | BEGIN                        | grp_tmp                                                                          | EMAJ_LAST_MARK                                                                                                                 | postgres
   11177 | RENAME_MARK_GROUP        | END                          | grp_tmp                                                                          | RLBK_Mk5_%_DONE renamed End_logged_rollback                                                                                    | postgres
   11178 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | Mk7                                                                                                                            | postgres
   11179 | LOCK_GROUPS              | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      |                                                                                                                                | postgres
   11180 | LOCK_GROUPS              | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11181 | CLEANUP_RLBK_STATE       |                              | Rollback id 10030                                                                | set to COMMITTED                                                                                                               | postgres
   11182 | SET_MARK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Mk7                                                                                                                            | postgres
   11183 | CONSOLIDATE_RLBK_GROUP   | BEGIN                        | grp_tmp                                                                          | Erase all between marks Mk5 and End_logged_rollback                                                                            | postgres
   11184 | CONSOLIDATE_RLBK_GROUP   | END                          | grp_tmp                                                                          | 2 tables and 2 sequences processed ; 4 marks deleted                                                                           | postgres
   11185 | GEN_SQL_GROUPS           | BEGIN                        | grp_tmp_3,grp_tmp_4,grp_tmp                                                      | From mark Mk1 to current situation                                                                                             | postgres
   11186 | GEN_SQL_GROUPS           | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | 26 generated statements - script exported into /tmp/emaj_test/sql_scripts/allGroups.sql                                        | postgres
   11187 | MODIFY_TABLES            | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11188 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11189 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11190 | SET_MARK_GROUPS          | BEGIN                        | grp_tmp                                                                          | revert changes for 1 table                                                                                                     | postgres
   11191 | SET_MARK_GROUPS          | END                          | grp_tmp                                                                          | revert changes for 1 table                                                                                                     | postgres
   11192 | MODIFY_TABLES            | PRIORITY CHANGED             | "phil's schema3"."phil's tbl1"                                                   | - => NULL                                                                                                                      | postgres
   11193 | MODIFY_TABLES            | LOG DATA TABLESPACE CHANGED  | "phil's schema3"."phil's tbl1"                                                   | tsp log'2 => Default tablespace                                                                                                | postgres
   11194 | MODIFY_TABLES            | END                          |                                                                                  | 1 tables effectively modified                                                                                                  | postgres
   11195 | ROLLBACK_GROUPS          | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Unlogged rollback to mark Mk3 (timestamp)                                                                                      | postgres
   11196 | DBLINK_OPEN_CNX          |                              | rlbk#1                                                                           | Status = 1                                                                                                                     | postgres
   11197 | LOCK_GROUP               | BEGIN                        | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1                                                                                                            | postgres
   11198 | LOCK_GROUP               | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback session #1: 7 tables locked, 0 deadlock(s)                                                                            | postgres
   11199 | ROLLBACK_TABLE           | BEGIN                        | myschema4.mytblc2                                                                | All log rows with emaj_gid > 100581 and <= 100604                                                                              | postgres
   11200 | ROLLBACK_TABLE           | END                          | myschema4.mytblc2                                                                | 6 rolled back primary keys                                                                                                     | postgres
   11201 | ROLLBACK_TABLE           | BEGIN                        | "phil's schema3"."myTbl2\"                                                       | All log rows with emaj_gid > 100581 and <= 100604                                                                              | postgres
   11202 | ROLLBACK_TABLE           | END                          | "phil's schema3"."myTbl2\"                                                       | 1 rolled back primary keys                                                                                                     | postgres
   11203 | ROLLBACK_TABLE           | BEGIN                        | "phil's schema3".mytbl4                                                          | All log rows with emaj_gid > 100581 and <= 100604                                                                              | postgres
   11204 | ROLLBACK_TABLE           | END                          | "phil's schema3".mytbl4                                                          | 4 rolled back primary keys                                                                                                     | postgres
   11205 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Modify 1 table is deleted                                                                                                 | postgres
   11206 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Move_tbl_3_to_tmp is deleted                                                                                              | postgres
   11207 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Move_tbl_3_to_tmp is deleted                                                                                              | postgres
   11208 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Move_seq_3_to_tmp is deleted                                                                                              | postgres
   11209 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Move_seq_3_to_tmp is deleted                                                                                              | postgres
   11210 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Move_tbl_4_to_tmp is deleted                                                                                              | postgres
   11211 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Move_tbl_4_to_tmp is deleted                                                                                              | postgres
   11212 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Move_seq_4_to_tmp is deleted                                                                                              | postgres
   11213 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Move_seq_4_to_tmp is deleted                                                                                              | postgres
   11214 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Mk4 is deleted                                                                                                            | postgres
   11215 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Mk4 is deleted                                                                                                            | postgres
   11216 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Mk4 is deleted                                                                                                            | postgres
   11217 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Mk5 is deleted                                                                                                            | postgres
   11218 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Mk5 is deleted                                                                                                            | postgres
   11219 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Mk5 is deleted                                                                                                            | postgres
   11220 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Mk6 is deleted                                                                                                            | postgres
   11221 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Mk6 is deleted                                                                                                            | postgres
   11222 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark RLBK_Mk5_%_START is deleted                                                                                               | postgres
   11223 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark RLBK_Mk5_%_START is deleted                                                                                               | postgres
   11224 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark End_logged_rollback is deleted                                                                                            | postgres
   11225 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark End_logged_rollback is deleted                                                                                            | postgres
   11226 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark End_logged_rollback is deleted                                                                                            | postgres
   11227 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark Mk7 is deleted                                                                                                            | postgres
   11228 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_3                                                                        | mark Mk7 is deleted                                                                                                            | postgres
   11229 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp_4                                                                        | mark Mk7 is deleted                                                                                                            | postgres
   11230 | ROLLBACK_GROUPS          | MARK DELETED                 | grp_tmp                                                                          | mark revert changes for 1 table is deleted                                                                                     | postgres
   11231 | ROLLBACK_SEQUENCE        |                              | myschema4.mytblp_col3_seq                                                        |                                                                                                                                | postgres
   11232 | ROLLBACK_SEQUENCE        |                              | "phil's schema3"."myTbl2\_col21_seq"                                             |                                                                                                                                | postgres
   11233 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10031                                                                | 3 / 7 tables effectively processed.                                                                                            | postgres
   11234 | ROLLBACK_GROUPS          | NOTICE                       | Rollback id 10031                                                                | 2 sequences processed.                                                                                                         | postgres
   11235 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table "phil's schema3"."myTbl2\" has only been rolled back to its latest group attachment (<timestamp>)                    | postgres
   11236 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table "phil's schema3".mytbl4 has only been rolled back to its latest group attachment (<timestamp>)                       | postgres
   11237 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table "phil's schema3"."phil's tbl1" has only been rolled back to its latest group attachment (<timestamp>)                | postgres
   11238 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The sequence "phil's schema3"."myTbl2\_col21_seq" has only been rolled back to its latest group attachment state (<timestamp>) | postgres
   11239 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The sequence "phil's schema3"."phil's seq\1" has only been rolled back to its latest group attachment state (<timestamp>)      | postgres
   11240 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table myschema4.mypartp2 has only been rolled back to its latest group attachment (<timestamp>)                            | postgres
   11241 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table myschema4.mypartp3 has only been rolled back to its latest group attachment (<timestamp>)                            | postgres
   11242 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table myschema4.mytblc1 has only been rolled back to its latest group attachment (<timestamp>)                             | postgres
   11243 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table myschema4.mytblc2 has only been rolled back to its latest group attachment (<timestamp>)                             | postgres
   11244 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The table myschema4.mytblm has only been rolled back to its latest group attachment (<timestamp>)                              | postgres
   11245 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | The sequence myschema4.mytblp_col3_seq has only been rolled back to its latest group attachment state (<timestamp>)            | postgres
   11246 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | Tables group change not rolled back: log data tablespace for "phil's schema3"."phil's tbl1"                                    | postgres
   11247 | ROLLBACK_GROUPS          | WARNING                      | Rollback id 10031                                                                | Tables group change not rolled back: E-Maj priority for "phil's schema3"."phil's tbl1"                                         | postgres
   11248 | DBLINK_CLOSE_CNX         |                              | rlbk#1                                                                           |                                                                                                                                | postgres
   11249 | ROLLBACK_GROUPS          | END                          | grp_tmp,grp_tmp_3,grp_tmp_4                                                      | Rollback_id 10031, 3 tables and 2 sequences effectively processed                                                              | postgres
   11250 | DELETE_BEFORE_MARK_GROUP | BEGIN                        | grp_tmp_3                                                                        | Mk3                                                                                                                            | postgres
   11251 | DELETE_BEFORE_MARK_GROUP | END                          | grp_tmp_3                                                                        | 3 marks deleted ; Mk3 is now the initial mark                                                                                  | postgres
   11252 | DELETE_BEFORE_MARK_GROUP | BEGIN                        | grp_tmp_4                                                                        | Mk3                                                                                                                            | postgres
   11253 | DELETE_BEFORE_MARK_GROUP | END                          | grp_tmp_4                                                                        | 5 marks deleted ; Mk3 is now the initial mark                                                                                  | postgres
   11254 | DELETE_BEFORE_MARK_GROUP | BEGIN                        | grp_tmp                                                                          | Mk3                                                                                                                            | postgres
   11255 | DELETE_BEFORE_MARK_GROUP | END                          | grp_tmp                                                                          | 3 marks deleted ; Mk3 is now the initial mark                                                                                  | postgres
   11256 | DISABLE_PROTECTION       | EVENT TRIGGERS DISABLED      |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   11257 | ENABLE_PROTECTION        | EVENT TRIGGERS ENABLED       |                                                                                  | emaj_protection_trg, emaj_sql_drop_trg, emaj_table_rewrite_trg                                                                 | postgres
   11258 | ADJUST_GROUP_PROPERTIES  |                              | grp_tmp                                                                          | Set the group_has_waiting_changes column to true                                                                               | postgres
   11263 | FORCE_STOP_GROUP         | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11264 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11265 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11266 | FORCE_STOP_GROUP         | END                          | grp_tmp                                                                          | 9 tables/sequences processed                                                                                                   | postgres
   11267 | REMOVE_TABLE             | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11268 | REMOVE_TABLE             | TABLE REMOVED                | "phil's schema3".mytbl4                                                          | From the idle group grp_tmp                                                                                                    | postgres
   11269 | REMOVE_TABLE             | END                          |                                                                                  | 1 tables removed from their groups                                                                                             | postgres
   11270 | ASSIGN_TABLE             | BEGIN                        |                                                                                  |                                                                                                                                | postgres
   11271 | ASSIGN_TABLE             | TABLE ADDED                  | "phil's schema3".mytbl4                                                          | To the idle group grp_tmp                                                                                                      | postgres
   11272 | ASSIGN_TABLE             | END                          |                                                                                  | 1 tables assigned to the group grp_tmp                                                                                         | postgres
   11273 | START_GROUP              | BEGIN                        | grp_tmp                                                                          | With log reset                                                                                                                 | postgres
   11274 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11275 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11276 | SET_MARK_GROUP           | BEGIN                        | grp_tmp                                                                          | Group restart                                                                                                                  | postgres
   11277 | CLEANUP_RLBK_STATE       |                              | Rollback id 10031                                                                | set to COMMITTED                                                                                                               | postgres
   11278 | SET_MARK_GROUP           | END                          | grp_tmp                                                                          | Group restart                                                                                                                  | postgres
   11279 | START_GROUP              | END                          | grp_tmp                                                                          | 9 tables/sequences processed                                                                                                   | postgres
   11280 | STOP_GROUP               | BEGIN                        | grp_tmp_3                                                                        |                                                                                                                                | postgres
   11281 | LOCK_GROUP               | BEGIN                        | grp_tmp_3                                                                        |                                                                                                                                | postgres
   11282 | LOCK_GROUP               | END                          | grp_tmp_3                                                                        | 0 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11283 | SET_MARK_GROUP           | BEGIN                        | grp_tmp_3                                                                        | STOP_%                                                                                                                         | postgres
   11284 | SET_MARK_GROUP           | END                          | grp_tmp_3                                                                        | STOP_%                                                                                                                         | postgres
   11285 | STOP_GROUP               | END                          | grp_tmp_3                                                                        | 0 tables/sequences processed                                                                                                   | postgres
   11286 | DROP_GROUP               | BEGIN                        | grp_tmp_3                                                                        |                                                                                                                                | postgres
   11287 | DROP_GROUP               | END                          | grp_tmp_3                                                                        | 0 tables/sequences processed                                                                                                   | postgres
   11288 | SET_MARK_GROUP           | BEGIN                        | grp_tmp_4                                                                        |                                                                                                                                | postgres
   11289 | LOCK_GROUP               | BEGIN                        | grp_tmp_4                                                                        |                                                                                                                                | postgres
   11290 | LOCK_GROUP               | END                          | grp_tmp_4                                                                        | 0 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11291 | SET_MARK_GROUP           | END                          | grp_tmp_4                                                                        | Last_mark                                                                                                                      | postgres
   11292 | FORCE_DROP_GROUP         | BEGIN                        | grp_tmp_4                                                                        |                                                                                                                                | postgres
   11293 | FORCE_DROP_GROUP         | END                          | grp_tmp_4                                                                        | 0 tables/sequences processed                                                                                                   | postgres
   11294 | STOP_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11295 | LOCK_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11296 | LOCK_GROUP               | END                          | grp_tmp                                                                          | 7 tables locked, 0 deadlock(s)                                                                                                 | postgres
   11297 | SET_MARK_GROUP           | BEGIN                        | grp_tmp                                                                          | STOP_%                                                                                                                         | postgres
   11298 | SET_MARK_GROUP           | END                          | grp_tmp                                                                          | STOP_%                                                                                                                         | postgres
   11299 | STOP_GROUP               | END                          | grp_tmp                                                                          | 9 tables/sequences processed                                                                                                   | postgres
   11300 | DROP_GROUP               | BEGIN                        | grp_tmp                                                                          |                                                                                                                                | postgres
   11301 | DROP_GROUP               | LOG_SCHEMA DROPPED           | emaj_myschema4                                                                   |                                                                                                                                | postgres
   11302 | DROP_GROUP               | LOG_SCHEMA DROPPED           | "emaj_phil's schema3"                                                            |                                                                                                                                | postgres
   11303 | DROP_GROUP               | END                          | grp_tmp                                                                          | 9 tables/sequences processed                                                                                                   | postgres
(1210 rows)

--
reset role;
-- the groups are left in their current state for the parallel rollback test.
select count(*) from mySchema1.myTbl4;
 count 
-------
     0
(1 row)

select count(*) from mySchema1.myTbl1;
 count 
-------
    20
(1 row)

select count(*) from mySchema1.myTbl2; 
 count 
-------
     3
(1 row)

select count(*) from mySchema1."myTbl3";
 count 
-------
     5
(1 row)

select count(*) from mySchema1.myTbl2b;
 count 
-------
     3
(1 row)

select count(*) from mySchema2.myTbl4;
 count 
-------
     2
(1 row)

select count(*) from mySchema2.myTbl1;
 count 
-------
    10
(1 row)

select count(*) from mySchema2.myTbl2; 
 count 
-------
     4
(1 row)

select count(*) from mySchema2."myTbl3";
 count 
-------
    10
(1 row)

select count(*) from mySchema2.myTbl5;
 count 
-------
     3
(1 row)

select count(*) from mySchema2.myTbl6;
 count 
-------
    14
(1 row)


Liste des fonctions E-Maj
=========================

Les fonctions E-Maj disponibles pour les utilisateurs sont listées ci-dessous par ordre alphabétique. Toutes ces fonctions sont appelables par les rôles disposant des privilèges *emaj_adm*. Le tableau précise celles qui sont également appelables par les rôles *emaj_viewer*.

+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| Fonctions                                                                                    | Paramètres en entrée        | Données restituées                    | Appelable par emaj_viewer |
+==============================================================================================+=============================+=======================================+===========================+
| :ref:`emaj_alter_group <emaj_alter_group>`                                                   | groupe TEXT                 | nb.tables.et.seq INT                  |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_cleanup_rollback_state <emaj_cleanup_rollback_state>`                             |                             | nb.rollback INT                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_comment_group <emaj_comment_group>`                                               | groupe TEXT,                |                                       |                           |
|                                                                                              | commentaire TEXT            |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_comment_mark_group <emaj_comment_mark_group>`                                     | groupe TEXT,                |                                       |                           |
|                                                                                              | marque TEXT,                |                                       |                           |
|                                                                                              | commentaire TEXT            |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_consolidate_rollback_group <emaj_consolidate_rollback_group>`                     | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | marque.fin.rollback TEXT    |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_create_group <emaj_create_group>`                                                 | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | [est.rollbackable BOOLEAN]  |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_delete_before_mark_group <emaj_delete_before_mark_group>`                         | groupe TEXT,                | nb.marques.supprimées INT             |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_delete_mark_group <emaj_delete_mark_group>`                                       | groupe TEXT,                | 1 INT                                 |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_detailed_log_stat_group <emaj_detailed_log_stat_group>`                           | groupe TEXT,                | SETOF emaj_detailed_log_stat_type     | Oui                       |
|                                                                                              | marque.début TEXT,          |                                       |                           |
|                                                                                              | marque.fin TEXT             |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_disable_protection_by_event_triggers <emaj_disable_protection_by_event_triggers>` |                             | nb.triggers INT                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_drop_group <emaj_drop_group>`                                                     | groupe TEXT                 | nb.tables.et.seq INT                  |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_enable_protection_by_event_triggers <emaj_enable_protection_by_event_triggers>`   |                             | nb.triggers INT                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_estimate_rollback_group <emaj_estimate_rollback_group>`                           | groupe TEXT,                | durée INTERVAL                        | Oui                       |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_estimate_rollback_groups <multiGroupsFunctions>`                                  | tableau.groupes TEXT[],     | durée INTERVAL                        | Oui                       | 
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_force_drop_group <emaj_force_drop_group>`                                         | groupe TEXT                 | nb.tables.et.seq INT                  |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_force_stop_group <emaj_force_stop_group>`                                         | groupe TEXT                 | nb.tables.et.seq INT                  |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_gen_sql_group <emaj_gen_sql_group>`                                               | groupe TEXT,                | nb.req.générées BIGINT                |                           |
|                                                                                              | marque.début TEXT,          |                                       |                           |
|                                                                                              | marque.fin TEXT,            |                                       |                           |
|                                                                                              | fichier.sortie TEXT,        |                                       |                           |
|                                                                                              | [tableau.tables.seq TEXT[]] |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_gen_sql_groups <multiGroupsFunctions>`                                            | tableau.groupes TEXT[],     | nb.req.générées BIGINT                |                           |
|                                                                                              | marque.début TEXT,          |                                       |                           |
|                                                                                              | marque.fin TEXT,            |                                       |                           |
|                                                                                              | fichier.sortie TEXT,        |                                       |                           |
|                                                                                              | [tableau.tables.seq TEXT[]] |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_get_consolidable_rollbacks <emaj_get_consolidable_rollbacks>`                     |                             | SETOF emaj_consolidable_rollback_type | Oui                       |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_get_previous_mark_group <emaj_get_previous_mark_group>`                           | groupe TEXT,                | marque TEXT                           | Oui                       |
|                                                                                              | date.heure TIMESTAMPTZ      |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_get_previous_mark_group <emaj_get_previous_mark_group>`                           | groupe TEXT,                | marque TEXT                           | Oui                       |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_log_stat_group <emaj_log_stat_group>`                                             | groupe TEXT,                | SETOF emaj_log_stat_type              | Oui                       |
|                                                                                              | marque.début TEXT,          |                                       |                           |
|                                                                                              | marque.fin TEXT             |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_logged_rollback_group <emaj_logged_rollback_group>`                               | groupe TEXT,                | nb.proc.tables.et.seq  INT            |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_logged_rollback_groups <multiGroupsFunctions>`                                    | tableau.groupes TEXT[],     | nb.proc.tables.et.seq  INT            |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_protect_group <emaj_protect_group>`                                               | groupe TEXT                 | 0/1 INT                               |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_protect_mark_group <emaj_protect_mark_group>`                                     | groupe TEXT,                | 0/1 INT                               |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_rename_mark_group <emaj_rename_mark_group>`                                       | groupe TEXT,                |                                       |                           |
|                                                                                              | marque TEXT,                |                                       |                           |
|                                                                                              | nouveau.nom TEXT            |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_reset_group <emaj_reset_group>`                                                   | groupe TEXT                 | nb.tables.et.seq INT                  |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_rollback_activity <emaj_rollback_activity>`                                       |                             | SETOF emaj_rollback_activity_type     | Oui                       |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_rollback_group <emaj_rollback_group>`                                             | groupe TEXT,                | nb.proc.tables.et.seq  INT            |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_rollback_groups <multiGroupsFunctions>`                                           | tableau.groupes TEXT[],     | nb.proc.tables.et.seq  INT            |                           |
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_set_mark_group <emaj_set_mark_group>`                                             | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | [marque TEXT]               |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_set_mark_groups <multiGroupsFunctions>`                                           | tableau.groupes TEXT[],     | nb.tables.et.seq INT                  |                           |
|                                                                                              | [marque TEXT]               |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_snap_group <emaj_snap_group>`                                                     | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | répertoire TEXT,            |                                       |                           |
|                                                                                              | options.copy TEXT           |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_snap_log_group <emaj_snap_log_group>`                                             | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | marque.début TEXT,          |                                       |                           |
|                                                                                              | marque.fin TEXT,            |                                       |                           |
|                                                                                              | répertoire TEXT,            |                                       |                           |
|                                                                                              | options.copy TEXT           |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_start_group <emaj_start_group>`                                                   | groupe TEXT,                | nb.tables.et.seq INT                  |                           |
|                                                                                              | [marque TEXT],              |                                       |                           |
|                                                                                              | [reset.log BOOLEAN]         |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_start_groups <multiGroupsFunctions>`                                              | tableau.groupes TEXT[],     | nb.tables.et.seq INT                  |                           |
|                                                                                              | [marque TEXT],              |                                       |                           |
|                                                                                              | [reset.log BOOLEAN]         |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_stop_group <emaj_stop_group>`                                                     | groupe TEXT,                | nb.tables.et.seq INT                  |                           | 
|                                                                                              | [marque TEXT]               |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :doc:`emaj_stop_groups <multiGroupsFunctions>`                                               | tableau.groupes TEXT[],     | nb.tables.et.seq INT                  |                           |
|                                                                                              | [marque TEXT]               |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_unprotect_group <emaj_unprotect_group>`                                           | groupe TEXT                 | 0/1 INT                               |                           | 
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_unprotect_mark_group <emaj_unprotect_mark_group>`                                 | groupe TEXT,                | 0/1 INT                               |                           | 
|                                                                                              | marque TEXT                 |                                       |                           |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+
| :ref:`emaj_verify_all <emaj_verify_all>`                                                     |                             | Setof TEXT                            | Oui                       |
+----------------------------------------------------------------------------------------------+-----------------------------+---------------------------------------+---------------------------+

